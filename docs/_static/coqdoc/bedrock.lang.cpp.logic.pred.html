<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.pred</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
</div>

<div class="doc">
this file defines the core logic (called <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS_MIXIN.mpred"><span class="id" title="definition">mpred</span></a></span>) that we use
    for C++.

<div class="paragraph"> </div>

    known issues:
<ul class="doclist">
<li> currently the logic is sequentially consistent

</li>
<li> the memory model is simplified from the standard C++ memory
      model.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.prelude.addr.html#"><span class="id" title="library">bedrock.prelude.addr</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.bi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.prelude.html#"><span class="id" title="library">prelude</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#"><span class="id" title="library">observe</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp.logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#"><span class="id" title="library">mpred</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep.html#"><span class="id" title="library">rep</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#"><span class="id" title="library">iprop</span></a>.<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;^^&nbsp;only&nbsp;needed&nbsp;to&nbsp;export&nbsp;uPredI,&nbsp;should&nbsp;be&nbsp;removed.&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#"><span class="id" title="library">iris.bi.monpred</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#"><span class="id" title="library">fractional</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.proofmode.html#"><span class="id" title="library">proofmode</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.na_invariants.html#"><span class="id" title="library">bedrock.lang.bi.na_invariants</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#"><span class="id" title="library">bedrock.lang.bi.cancelable_invariants</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.prelude.html#ChargeNotation"><span class="id" title="module">ChargeNotation</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp.syntax</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.names.html#"><span class="id" title="library">names</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.types.html#"><span class="id" title="library">types</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#"><span class="id" title="library">translation_unit</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp.semantics</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#"><span class="id" title="library">values</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#"><span class="id" title="library">subtyping</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="validity_type" class="idref" href="#validity_type"><span class="id" title="inductive">validity_type</span></a> : <span class="id" title="keyword">Set</span> := <a id="Strict" class="idref" href="#Strict"><span class="id" title="constructor">Strict</span></a> | <a id="Relaxed" class="idref" href="#Relaxed"><span class="id" title="constructor">Relaxed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">vt</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#validity_type"><span class="id" title="inductive">validity_type</span></a>) (σ <span class="id" title="var">resolve</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<span class="id" title="var">z</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Namespace&nbsp;for&nbsp;the&nbsp;invariants&nbsp;of&nbsp;the&nbsp;C++&nbsp;abstraction's&nbsp;ghost&nbsp;state.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="pred_ns" class="idref" href="#pred_ns"><span class="id" title="definition">pred_ns</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#namespace"><span class="id" title="definition">namespace</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nroot"><span class="id" title="definition">nroot</span></a> <a class="idref" href="bedrock.prelude.bytestring.html#52f1c8a75453045f2a66d66ea1dc916b"><span class="id" title="notation">.@@</span></a> "bedrock" <a class="idref" href="bedrock.prelude.bytestring.html#52f1c8a75453045f2a66d66ea1dc916b"><span class="id" title="notation">.@@</span></a> "lang" <a class="idref" href="bedrock.prelude.bytestring.html#52f1c8a75453045f2a66d66ea1dc916b"><span class="id" title="notation">.@@</span></a> "cpp_logic".<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="CPP_LOGIC" class="idref" href="#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">INTF</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_FUNCTOR"><span class="id" title="module">VALUES_INTF_FUNCTOR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P"><span class="id" title="module">P</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">CC</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS"><span class="id" title="module">CPP_LOGIC_CLASS</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp" class="idref" href="#CPP_LOGIC.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="9c6d78f4cdf6dede5e109a175164bdaa" class="idref" href="#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
</div>

<div class="doc">
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> is a persistent assertion that <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> is a <i>valid pointer</i>, that is:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> can point to a function or a (possibly dead) object <span class="inlinecode"><span class="id" title="var">o</span></span>

</li>
<li> if <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a></span>, <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> can be nullptr, or past-the-end of a (possibly dead) object <span class="inlinecode"><span class="id" title="var">o</span></span>.

</li>
</ul>
      In particular, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> prevents producing <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> by incrementing
      past-the-end pointers into overflow territory.

<div class="paragraph"> </div>

      Our definition of validity includes all cases in which a pointer is not
      an <i>invalid pointer value</i> in the sense of the standard
      (https://eel.is/c++draft/basic.compound3.1), except that our concept
      of validity survives deallocation; a pointer is only valid according to
      the standard (or "standard-valid") if it is _both_ valid ([_valid_ptr
      vt p]) and live ([live_ptr p]); we require both where needed (e.g.
      [eval_ptr_eq]).

      When the duration of a region of storage ends [note 1], contained objects [o] go
      from live to dead, and pointers to such objects become _dangling_, or
      _invalid pointer values_ (https://eel.is/c++draft/basic.compound3.1);
      this is called <i>pointer zapping</i> <span class="inlinecode"><span class="id" title="var">note</span></span> <span class="inlinecode">1</span>.
      In our semantics, that only consumes the non-persistent predicate
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span>, not the persistent predicate <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span>.

<div class="paragraph"> </div>

      Following Cerberus, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a></span> tracks liveness per allocation
      ID (see comments for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span>), and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a></span> is derived from it. Hence,
      a pointer <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> past-the-end of <span class="inlinecode"><span class="id" title="var">o</span></span> also becomes dangling when <span class="inlinecode"><span class="id" title="var">o</span></span> is
      deallocated.

<div class="paragraph"> </div>

      It's implementation-defined whether invalid pointer values are
      (non-copyable) trap representations. Instead, we restrict to
      implementations where dangling pointers are not trap representations
      (which is allowed, since this choice is implementation-defined) and
      pointer zapping does not actually clear pointers.

<div class="paragraph"> </div>

      <span class="inlinecode"><span class="id" title="var">Note</span></span> <span class="inlinecode">1</span>. See https://eel.is/c++draft/basic.stc.general4 and
      https://eel.is/c++draft/basic.compound3.1 for C++, and
      http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2369.pdf for
      discussion in the context of the C standard.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC._valid_ptr" class="idref" href="#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="vt:5" class="idref" href="#vt:5"><span class="id" title="binder">vt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#validity_type"><span class="id" title="inductive">validity_type</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;strict&nbsp;validity&nbsp;(not&nbsp;past-the-end)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.strict_valid_ptr" class="idref" href="#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;validity&nbsp;(past-the-end&nbsp;allowed)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.valid_ptr" class="idref" href="#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC._valid_ptr_persistent" class="idref" href="#CPP_LOGIC._valid_ptr_persistent"><span class="id" title="axiom">_valid_ptr_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:7" class="idref" href="#b:7"><span class="id" title="binder">b</span></a> <a id="p:8" class="idref" href="#p:8"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b:7"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:8"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC._valid_ptr_affine" class="idref" href="#CPP_LOGIC._valid_ptr_affine"><span class="id" title="axiom">_valid_ptr_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:10" class="idref" href="#b:10"><span class="id" title="binder">b</span></a> <a id="p:11" class="idref" href="#p:11"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b:10"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:11"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC._valid_ptr_timeless" class="idref" href="#CPP_LOGIC._valid_ptr_timeless"><span class="id" title="axiom">_valid_ptr_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:13" class="idref" href="#b:13"><span class="id" title="binder">b</span></a> <a id="p:14" class="idref" href="#p:14"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b:13"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:14"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">_valid_ptr_persistent</span> <span class="id" title="var">_valid_ptr_affine</span> <span class="id" title="var">_valid_ptr_timeless</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.valid_ptr_nullptr" class="idref" href="#CPP_LOGIC.valid_ptr_nullptr"><span class="id" title="axiom">valid_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.not_strictly_valid_ptr_nullptr" class="idref" href="#CPP_LOGIC.not_strictly_valid_ptr_nullptr"><span class="id" title="axiom">not_strictly_valid_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.strict_valid_valid" class="idref" href="#CPP_LOGIC.strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:18" class="idref" href="#p:18"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:18"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:18"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
Formalizes the notion of "provides storage",
    http://eel.is/c++draft/intro.objectdef:provides_storage 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.provides_storage" class="idref" href="#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="storage:20" class="idref" href="#storage:20"><span class="id" title="binder">storage</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="object:21" class="idref" href="#object:21"><span class="id" title="binder">object</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="object_type:22" class="idref" href="#object_type:22"><span class="id" title="binder">object_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_persistent" class="idref" href="#CPP_LOGIC.provides_storage_persistent"><span class="id" title="axiom">provides_storage_persistent</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:24" class="idref" href="#storage_ptr:24"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:25" class="idref" href="#obj_ptr:25"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:26" class="idref" href="#ty:26"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:24"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:25"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:26"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_affine" class="idref" href="#CPP_LOGIC.provides_storage_affine"><span class="id" title="axiom">provides_storage_affine</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:28" class="idref" href="#storage_ptr:28"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:29" class="idref" href="#obj_ptr:29"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:30" class="idref" href="#ty:30"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:28"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:29"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:30"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_timeless" class="idref" href="#CPP_LOGIC.provides_storage_timeless"><span class="id" title="axiom">provides_storage_timeless</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:32" class="idref" href="#storage_ptr:32"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:33" class="idref" href="#obj_ptr:33"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:34" class="idref" href="#ty:34"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:32"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:33"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:34"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">provides_storage_persistent</span> <span class="id" title="var">provides_storage_affine</span> <span class="id" title="var">provides_storage_timeless</span>.<br/>

<br/>
</div>

<div class="doc">
    Typed points-to predicate. Fact <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.zstring.html#zstring.t"><span class="id" title="definition">t</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.q"><span class="id" title="variable">q</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode"><span class="id" title="var">v</span></span> asserts the following things:
    1. Pointer <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> points to value <span class="inlinecode"><span class="id" title="var">v</span></span>.
    2. We have fractional ownership <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.q"><span class="id" title="variable">q</span></a></span> (in the separation logic sense).
    3. Pointer <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> points to a memory location with C++ type <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.zstring.html#zstring.t"><span class="id" title="definition">t</span></a></span>.
    However:
    1. Value <span class="inlinecode"><span class="id" title="var">v</span></span> need not be initialized.
    2. Hence, <span class="inlinecode"><span class="id" title="var">v</span></span> might not satisfy <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.values.html#HAS_TYPE_MIXIN.has_type"><span class="id" title="section">has_type</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.zstring.html#zstring.t"><span class="id" title="definition">t</span></a></span> <span class="inlinecode"><span class="id" title="var">v</span></span>.

<div class="paragraph"> </div>

    We use this predicate both for pointers to actual memory and for pointers to
    C++ locations that are not stored in memory (as an optimization).
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.tptsto" class="idref" href="#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="37ad0dd721e485b0343473169ded3613" class="idref" href="#37ad0dd721e485b0343473169ded3613"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="t:37" class="idref" href="#t:37"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="q:38" class="idref" href="#q:38"><span class="id" title="binder">q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#Qp"><span class="id" title="record">Qp</span></a>) (<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="v:40" class="idref" href="#v:40"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.val"><span class="id" title="inductive">val</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_nonnull" class="idref" href="#CPP_LOGIC.tptsto_nonnull"><span class="id" title="axiom">tptsto_nonnull</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="afbe70ee4da91bd9a61766970a62c153" class="idref" href="#afbe70ee4da91bd9a61766970a62c153"><span class="id" title="binder">σ</span></a>} <a id="ty:43" class="idref" href="#ty:43"><span class="id" title="binder">ty</span></a> <a id="q:44" class="idref" href="#q:44"><span class="id" title="binder">q</span></a> <a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#afbe70ee4da91bd9a61766970a62c153"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:43"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:44"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_proper" class="idref" href="#CPP_LOGIC.tptsto_proper"><span class="id" title="axiom">tptsto_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_eq"><span class="id" title="definition">genv_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_mono" class="idref" href="#CPP_LOGIC.tptsto_mono"><span class="id" title="axiom">tptsto_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">tptsto_proper</span> <span class="id" title="var">tptsto_mono</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_timeless" class="idref" href="#CPP_LOGIC.tptsto_timeless"><span class="id" title="axiom">tptsto_timeless</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="a5164b770c73878809c71cb845d5d280" class="idref" href="#a5164b770c73878809c71cb845d5d280"><span class="id" title="binder">σ</span></a>} <a id="ty:50" class="idref" href="#ty:50"><span class="id" title="binder">ty</span></a> <a id="q:51" class="idref" href="#q:51"><span class="id" title="binder">q</span></a> <a id="a:52" class="idref" href="#a:52"><span class="id" title="binder">a</span></a> <a id="v:53" class="idref" href="#v:53"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a5164b770c73878809c71cb845d5d280"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:50"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:51"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:53"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_fractional" class="idref" href="#CPP_LOGIC.tptsto_fractional"><span class="id" title="axiom">tptsto_fractional</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="505163c6fd84380ef6cd13ab9c2cb5ea" class="idref" href="#505163c6fd84380ef6cd13ab9c2cb5ea"><span class="id" title="binder">σ</span></a>} <a id="ty:56" class="idref" href="#ty:56"><span class="id" title="binder">ty</span></a> <a id="a:57" class="idref" href="#a:57"><span class="id" title="binder">a</span></a> <a id="v:58" class="idref" href="#v:58"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#Fractional"><span class="id" title="class">Fractional</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:59" class="idref" href="#q:59"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#505163c6fd84380ef6cd13ab9c2cb5ea"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:56"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:59"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a:57"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:58"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">tptsto_timeless</span> <span class="id" title="var">tptsto_fractional</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_frac_valid" class="idref" href="#CPP_LOGIC.tptsto_frac_valid"><span class="id" title="axiom">tptsto_frac_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="3fbd57ece83e53cb608a9741d4f82202" class="idref" href="#3fbd57ece83e53cb608a9741d4f82202"><span class="id" title="binder">σ</span></a>} <a id="t:62" class="idref" href="#t:62"><span class="id" title="binder">t</span></a> (<a id="q:63" class="idref" href="#q:63"><span class="id" title="binder">q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#Qp"><span class="id" title="record">Qp</span></a>) <a id="p:64" class="idref" href="#p:64"><span class="id" title="binder">p</span></a> <a id="v:65" class="idref" href="#v:65"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:63"><span class="id" title="variable">q</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#de067ead621746399784d50f46313457"><span class="id" title="notation">≤</span></a> 1 <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Qp</span> (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#3fbd57ece83e53cb608a9741d4f82202"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:62"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:63"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:64"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:65"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">tptsto_frac_valid</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_agree" class="idref" href="#CPP_LOGIC.tptsto_agree"><span class="id" title="axiom">tptsto_agree</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="e0654d5deb2c1e9011d617fb5c8d1727" class="idref" href="#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="binder">σ</span></a>} <a id="ty:68" class="idref" href="#ty:68"><span class="id" title="binder">ty</span></a> <a id="q1:69" class="idref" href="#q1:69"><span class="id" title="binder">q1</span></a> <a id="q2:70" class="idref" href="#q2:70"><span class="id" title="binder">q2</span></a> <a id="p:71" class="idref" href="#p:71"><span class="id" title="binder">p</span></a> <a id="v1:72" class="idref" href="#v1:72"><span class="id" title="binder">v1</span></a> <a id="v2:73" class="idref" href="#v2:73"><span class="id" title="binder">v2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.val_related"><span class="id" title="inductive">val_related</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:68"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:72"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:73"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:68"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q1:69"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:72"><span class="id" title="variable">v1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:68"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q2:70"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:73"><span class="id" title="variable">v2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">tptsto_agree</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;(JH/PG):&nbsp;Add&nbsp;in&nbsp;a&nbsp;proper&nbsp;instance&nbsp;using&nbsp;this&nbsp;which&nbsp;allows&nbsp;us&nbsp;to&nbsp;rewrite<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`val_related`&nbsp;values&nbsp;within&nbsp;`tptsto`s.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;https://gitlab.com/bedrocksystems/cpp2v-core/-/merge_requests/377note_530611061> *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_val_related_transport" class="idref" href="#CPP_LOGIC.tptsto_val_related_transport"><span class="id" title="axiom">tptsto_val_related_transport</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="1e580152b5729e58fe318eb327704a40" class="idref" href="#1e580152b5729e58fe318eb327704a40"><span class="id" title="binder">σ</span></a>} <a id="ty:76" class="idref" href="#ty:76"><span class="id" title="binder">ty</span></a> <a id="q:77" class="idref" href="#q:77"><span class="id" title="binder">q</span></a> <a id="p:78" class="idref" href="#p:78"><span class="id" title="binder">p</span></a> <a id="v1:79" class="idref" href="#v1:79"><span class="id" title="binder">v1</span></a> <a id="v2:80" class="idref" href="#v2:80"><span class="id" title="binder">v2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.val_related"><span class="id" title="inductive">val_related</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#1e580152b5729e58fe318eb327704a40"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:76"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:79"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:80"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#1e580152b5729e58fe318eb327704a40"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:76"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:77"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:78"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:79"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#1e580152b5729e58fe318eb327704a40"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:76"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:77"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:78"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:80"><span class="id" title="variable">v2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_nonvoid" class="idref" href="#CPP_LOGIC.tptsto_nonvoid"><span class="id" title="axiom">tptsto_nonvoid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="af1b85f1b64b89cb559829d66ecff348" class="idref" href="#af1b85f1b64b89cb559829d66ecff348"><span class="id" title="binder">σ</span></a>} <a id="ty:83" class="idref" href="#ty:83"><span class="id" title="binder">ty</span></a> (<a id="q:84" class="idref" href="#q:84"><span class="id" title="binder">q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#Qp"><span class="id" title="record">Qp</span></a>) <a id="p:85" class="idref" href="#p:85"><span class="id" title="binder">p</span></a> <a id="v:86" class="idref" href="#v:86"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:83"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#af1b85f1b64b89cb559829d66ecff348"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:83"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:84"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:85"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:86"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">tptsto_nonvoid</span>.<br/>

<br/>
</div>

<div class="doc">
The allocation is alive. Neither persistent nor fractional.
      See https://eel.is/c++draft/basic.stc.general4 and
      https://eel.is/c++draft/basic.compound3.1.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.live_alloc_id" class="idref" href="#CPP_LOGIC.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.live_alloc_id_timeless" class="idref" href="#CPP_LOGIC.live_alloc_id_timeless"><span class="id" title="axiom">live_alloc_id_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:89" class="idref" href="#aid:89"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:89"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">live_alloc_id_timeless</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.valid_ptr_alloc_id" class="idref" href="#CPP_LOGIC.valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:91" class="idref" href="#p:91"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:91"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:91"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
This pointer is from a live allocation; this does not imply
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span>, because even overflowing offsets preserve the allocation ID.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="CPP_LOGIC.live_ptr" class="idref" href="#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> (<a id="p:93" class="idref" href="#p:93"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#default"><span class="id" title="abbreviation">default</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>%<span class="id" title="var">I</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:93"><span class="id" title="variable">p</span></a>).<br/>

<br/>
</div>

<div class="doc">
We consider <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a></span> as live, following Krebbers, as a way to
    simplify stating rules for pointer comparison. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.nullptr_live" class="idref" href="#CPP_LOGIC.nullptr_live"><span class="id" title="axiom">nullptr_live</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_live" class="idref" href="#CPP_LOGIC.tptsto_live"><span class="id" title="axiom">tptsto_live</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="781cc6ac800ff5ee4132feeb1e847894" class="idref" href="#781cc6ac800ff5ee4132feeb1e847894"><span class="id" title="binder">σ</span></a>} <a id="ty:96" class="idref" href="#ty:96"><span class="id" title="binder">ty</span></a> (<a id="q:97" class="idref" href="#q:97"><span class="id" title="binder">q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#Qp"><span class="id" title="record">Qp</span></a>) <a id="p:98" class="idref" href="#p:98"><span class="id" title="binder">p</span></a> <a id="v:99" class="idref" href="#v:99"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#781cc6ac800ff5ee4132feeb1e847894"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:96"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:97"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:98"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:99"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:98"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.identity"><span class="id" title="definition">identity</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.this"><span class="id" title="variable">this</span></a></span> <span class="inlinecode"><span class="id" title="var">mdc</span></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.q"><span class="id" title="variable">q</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> state that <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> is a pointer to a (live)
        object of type <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.this"><span class="id" title="variable">this</span></a></span> that is part of an object of type <span class="inlinecode"><span class="id" title="var">mdc</span></span>.
<ul class="doclist">
<li> if <span class="inlinecode"><span class="id" title="var">mdc</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> then this object identity is not initialized yet,
          e.g. because its base classes are still being constructed.

</li>
</ul>

<div class="paragraph"> </div>

        the information is primarily used to dispatch virtual function calls.

<div class="paragraph"> </div>

        compilers can use the ownership here to represent dynamic dispatch
        tables.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.identity" class="idref" href="#CPP_LOGIC.identity"><span class="id" title="axiom">identity</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="0068bba064954ff1d2256a45ce198696" class="idref" href="#0068bba064954ff1d2256a45ce198696"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="this:102" class="idref" href="#this:102"><span class="id" title="binder">this</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>) (<a id="most_derived:103" class="idref" href="#most_derived:103"><span class="id" title="binder">most_derived</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#Qp"><span class="id" title="record">Qp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.identity_fractional" class="idref" href="#CPP_LOGIC.identity_fractional"><span class="id" title="axiom">identity_fractional</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a255feff7b2e62ba2eca44b34f92eb33" class="idref" href="#a255feff7b2e62ba2eca44b34f92eb33"><span class="id" title="binder">σ</span></a> <a id="this:106" class="idref" href="#this:106"><span class="id" title="binder">this</span></a> <a id="mdc:107" class="idref" href="#mdc:107"><span class="id" title="binder">mdc</span></a> <a id="p:108" class="idref" href="#p:108"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#Fractional"><span class="id" title="class">Fractional</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:109" class="idref" href="#q:109"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.identity"><span class="id" title="axiom">identity</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:106"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:107"><span class="id" title="variable">mdc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:109"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:108"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.identity_timeless" class="idref" href="#CPP_LOGIC.identity_timeless"><span class="id" title="axiom">identity_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="3a096cfaa7426fa23199dac48ecadbe2" class="idref" href="#3a096cfaa7426fa23199dac48ecadbe2"><span class="id" title="binder">σ</span></a> <a id="this:112" class="idref" href="#this:112"><span class="id" title="binder">this</span></a> <a id="mdc:113" class="idref" href="#mdc:113"><span class="id" title="binder">mdc</span></a> <a id="q:114" class="idref" href="#q:114"><span class="id" title="binder">q</span></a> <a id="p:115" class="idref" href="#p:115"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.identity"><span class="id" title="axiom">identity</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:112"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:113"><span class="id" title="variable">mdc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:114"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:115"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">identity_fractional</span> <span class="id" title="var">identity_timeless</span>.<br/>

<br/>
</div>

<div class="doc">
cpp2v-core194: The fraction is valid? Agreement? 
<div class="paragraph"> </div>

 this allows you to forget an object identity, necessary for doing
        placement <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.with_cpp_logic.with_resolve.new"><span class="id" title="section">new</span></a></span> over an existing object.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.identity_forget" class="idref" href="#CPP_LOGIC.identity_forget"><span class="id" title="axiom">identity_forget</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="6e499a318406f5ed75a8978efc740cc7" class="idref" href="#6e499a318406f5ed75a8978efc740cc7"><span class="id" title="binder">σ</span></a> <a id="mdc:118" class="idref" href="#mdc:118"><span class="id" title="binder">mdc</span></a> <a id="this:119" class="idref" href="#this:119"><span class="id" title="binder">this</span></a> <a id="p:120" class="idref" href="#p:120"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.identity"><span class="id" title="axiom">identity</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#6e499a318406f5ed75a8978efc740cc7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:119"><span class="id" title="variable">this</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:118"><span class="id" title="variable">mdc</span></a>) 1 <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:120"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#pred_ns"><span class="id" title="definition">pred_ns</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.identity"><span class="id" title="axiom">identity</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#6e499a318406f5ed75a8978efc740cc7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:119"><span class="id" title="variable">this</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> 1 <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:120"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
the pointer points to the code

<div class="paragraph"> </div>

      note that in the presence of code-loading, function calls will
      require an extra side-condition that the code is loaded.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.code_at" class="idref" href="#CPP_LOGIC.code_at"><span class="id" title="axiom">code_at</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Func"><span class="id" title="record">Func</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.method_at" class="idref" href="#CPP_LOGIC.method_at"><span class="id" title="axiom">method_at</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Method"><span class="id" title="record">Method</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.ctor_at" class="idref" href="#CPP_LOGIC.ctor_at"><span class="id" title="axiom">ctor_at</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Ctor"><span class="id" title="record">Ctor</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.dtor_at" class="idref" href="#CPP_LOGIC.dtor_at"><span class="id" title="axiom">dtor_at</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Dtor"><span class="id" title="record">Dtor</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_genv" class="idref" href="#CPP_LOGIC.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="2a63042f06b66c07fa22cdb0da5254ad" class="idref" href="#2a63042f06b66c07fa22cdb0da5254ad"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.code_at" class="idref" href="#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="axiom">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.method_at" class="idref" href="#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="axiom">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.ctor_at" class="idref" href="#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="axiom">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.dtor_at" class="idref" href="#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="axiom">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_persistent" class="idref" href="#CPP_LOGIC.code_at_persistent"><span class="id" title="axiom">code_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:127" class="idref" href="#f:127"><span class="id" title="binder">f</span></a> <a id="p:128" class="idref" href="#p:128"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:127"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:128"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_affine" class="idref" href="#CPP_LOGIC.code_at_affine"><span class="id" title="axiom">code_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:130" class="idref" href="#f:130"><span class="id" title="binder">f</span></a> <a id="p:131" class="idref" href="#p:131"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:130"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:131"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_timeless" class="idref" href="#CPP_LOGIC.code_at_timeless"><span class="id" title="axiom">code_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:133" class="idref" href="#f:133"><span class="id" title="binder">f</span></a> <a id="p:134" class="idref" href="#p:134"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:133"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:134"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_persistent" class="idref" href="#CPP_LOGIC.method_at_persistent"><span class="id" title="axiom">method_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a> <a id="p:137" class="idref" href="#p:137"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:137"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_affine" class="idref" href="#CPP_LOGIC.method_at_affine"><span class="id" title="axiom">method_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:139" class="idref" href="#f:139"><span class="id" title="binder">f</span></a> <a id="p:140" class="idref" href="#p:140"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:139"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:140"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_timeless" class="idref" href="#CPP_LOGIC.method_at_timeless"><span class="id" title="axiom">method_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> <a id="p:143" class="idref" href="#p:143"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:143"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_persistent" class="idref" href="#CPP_LOGIC.ctor_at_persistent"><span class="id" title="axiom">ctor_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a> <a id="p:146" class="idref" href="#p:146"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:146"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_affine" class="idref" href="#CPP_LOGIC.ctor_at_affine"><span class="id" title="axiom">ctor_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:148" class="idref" href="#f:148"><span class="id" title="binder">f</span></a> <a id="p:149" class="idref" href="#p:149"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:148"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:149"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_timeless" class="idref" href="#CPP_LOGIC.ctor_at_timeless"><span class="id" title="axiom">ctor_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:151" class="idref" href="#f:151"><span class="id" title="binder">f</span></a> <a id="p:152" class="idref" href="#p:152"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:151"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:152"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_persistent" class="idref" href="#CPP_LOGIC.dtor_at_persistent"><span class="id" title="axiom">dtor_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:154" class="idref" href="#f:154"><span class="id" title="binder">f</span></a> <a id="p:155" class="idref" href="#p:155"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:154"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:155"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_affine" class="idref" href="#CPP_LOGIC.dtor_at_affine"><span class="id" title="axiom">dtor_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:157" class="idref" href="#f:157"><span class="id" title="binder">f</span></a> <a id="p:158" class="idref" href="#p:158"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:157"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:158"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_timeless" class="idref" href="#CPP_LOGIC.dtor_at_timeless"><span class="id" title="axiom">dtor_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:160" class="idref" href="#f:160"><span class="id" title="binder">f</span></a> <a id="p:161" class="idref" href="#p:161"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:160"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:161"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">code_at_persistent</span> <span class="id" title="var">code_at_affine</span> <span class="id" title="var">code_at_timeless</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">method_at_persistent</span> <span class="id" title="var">method_at_affine</span> <span class="id" title="var">method_at_timeless</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ctor_at_persistent</span> <span class="id" title="var">ctor_at_affine</span> <span class="id" title="var">ctor_at_timeless</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dtor_at_persistent</span> <span class="id" title="var">dtor_at_affine</span> <span class="id" title="var">dtor_at_timeless</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_live" class="idref" href="#CPP_LOGIC.code_at_live"><span class="id" title="axiom">code_at_live</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:163" class="idref" href="#f:163"><span class="id" title="binder">f</span></a> <a id="p:164" class="idref" href="#p:164"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:163"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:164"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:164"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_live" class="idref" href="#CPP_LOGIC.method_at_live"><span class="id" title="axiom">method_at_live</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:166" class="idref" href="#f:166"><span class="id" title="binder">f</span></a> <a id="p:167" class="idref" href="#p:167"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:166"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:167"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:167"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_live" class="idref" href="#CPP_LOGIC.ctor_at_live"><span class="id" title="axiom">ctor_at_live</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:169" class="idref" href="#f:169"><span class="id" title="binder">f</span></a> <a id="p:170" class="idref" href="#p:170"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:169"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:170"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:170"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_live" class="idref" href="#CPP_LOGIC.dtor_at_live"><span class="id" title="axiom">dtor_at_live</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:172" class="idref" href="#f:172"><span class="id" title="binder">f</span></a> <a id="p:173" class="idref" href="#p:173"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:172"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:173"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:173"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_strict_valid" class="idref" href="#CPP_LOGIC.code_at_strict_valid"><span class="id" title="axiom">code_at_strict_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:175" class="idref" href="#f:175"><span class="id" title="binder">f</span></a> <a id="p:176" class="idref" href="#p:176"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:175"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:176"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:176"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_strict_valid" class="idref" href="#CPP_LOGIC.method_at_strict_valid"><span class="id" title="axiom">method_at_strict_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:178" class="idref" href="#f:178"><span class="id" title="binder">f</span></a> <a id="p:179" class="idref" href="#p:179"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:178"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:179"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:179"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_strict_valid" class="idref" href="#CPP_LOGIC.ctor_at_strict_valid"><span class="id" title="axiom">ctor_at_strict_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:181" class="idref" href="#f:181"><span class="id" title="binder">f</span></a> <a id="p:182" class="idref" href="#p:182"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:181"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:182"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:182"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_strict_valid" class="idref" href="#CPP_LOGIC.dtor_at_strict_valid"><span class="id" title="axiom">dtor_at_strict_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:184" class="idref" href="#f:184"><span class="id" title="binder">f</span></a> <a id="p:185" class="idref" href="#p:185"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:184"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:185"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:185"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.offset_pinned_ptr_pure" class="idref" href="#CPP_LOGIC.offset_pinned_ptr_pure"><span class="id" title="axiom">offset_pinned_ptr_pure</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="870014fd505de8e887393136f175e632" class="idref" href="#870014fd505de8e887393136f175e632"><span class="id" title="binder">σ</span></a> <a id="o:188" class="idref" href="#o:188"><span class="id" title="binder">o</span></a> <a id="z:189" class="idref" href="#z:189"><span class="id" title="binder">z</span></a> <a id="va:190" class="idref" href="#va:190"><span class="id" title="binder">va</span></a> <a id="p:191" class="idref" href="#p:191"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#870014fd505de8e887393136f175e632"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:188"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:189"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:191"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:190"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:191"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:188"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:191"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:188"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:190"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:189"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.offset_inv_pinned_ptr_pure" class="idref" href="#CPP_LOGIC.offset_inv_pinned_ptr_pure"><span class="id" title="axiom">offset_inv_pinned_ptr_pure</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b565055c2f596209badf31bf41f2f080" class="idref" href="#b565055c2f596209badf31bf41f2f080"><span class="id" title="binder">σ</span></a> <a id="o:194" class="idref" href="#o:194"><span class="id" title="binder">o</span></a> <a id="z:195" class="idref" href="#z:195"><span class="id" title="binder">z</span></a> <a id="va:196" class="idref" href="#va:196"><span class="id" title="binder">va</span></a> <a id="p:197" class="idref" href="#p:197"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b565055c2f596209badf31bf41f2f080"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:194"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:195"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:197"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:194"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:196"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:197"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:194"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:196"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:195"><span class="id" title="variable">z</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:197"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:196"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:195"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_same_address" class="idref" href="#CPP_LOGIC.provides_storage_same_address"><span class="id" title="axiom">provides_storage_same_address</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:199" class="idref" href="#storage_ptr:199"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:200" class="idref" href="#obj_ptr:200"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:201" class="idref" href="#ty:201"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:199"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:200"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:199"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:200"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:201"><span class="id" title="variable">ty</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_valid_storage_ptr" class="idref" href="#CPP_LOGIC.provides_storage_valid_storage_ptr"><span class="id" title="axiom">provides_storage_valid_storage_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:203" class="idref" href="#storage_ptr:203"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:204" class="idref" href="#obj_ptr:204"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:205" class="idref" href="#aty:205"><span class="id" title="binder">aty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:203"><span class="id" title="variable">storage_ptr</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:203"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:204"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:205"><span class="id" title="variable">aty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_valid_obj_ptr" class="idref" href="#CPP_LOGIC.provides_storage_valid_obj_ptr"><span class="id" title="axiom">provides_storage_valid_obj_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:207" class="idref" href="#storage_ptr:207"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:208" class="idref" href="#obj_ptr:208"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:209" class="idref" href="#aty:209"><span class="id" title="binder">aty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:208"><span class="id" title="variable">obj_ptr</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:207"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:208"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:209"><span class="id" title="variable">aty</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">provides_storage_same_address</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">provides_storage_valid_storage_ptr</span> <span class="id" title="var">provides_storage_valid_obj_ptr</span>.<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a></span> <span class="inlinecode"><span class="id" title="var">aid</span></span> states that the storage instance identified by <span class="inlinecode"><span class="id" title="var">aid</span></span> is
    "exposed" <span class="inlinecode">1</span>. This enables int2ptr casts to produce pointers into this
    storage instance.

<div class="paragraph"> </div>

    <span class="inlinecode">1</span> We use "exposed" in the sense defined by the N2577 draft C standard
    (http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2577.pdf).
    See https://dl.acm.org/doi/10.1145/3290380 for an introduction.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.exposed_aid" class="idref" href="#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_persistent" class="idref" href="#CPP_LOGIC.exposed_aid_persistent"><span class="id" title="axiom">exposed_aid_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:212" class="idref" href="#aid:212"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:212"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_affine" class="idref" href="#CPP_LOGIC.exposed_aid_affine"><span class="id" title="axiom">exposed_aid_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:214" class="idref" href="#aid:214"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:214"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_timeless" class="idref" href="#CPP_LOGIC.exposed_aid_timeless"><span class="id" title="axiom">exposed_aid_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:216" class="idref" href="#aid:216"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:216"><span class="id" title="variable">aid</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_null_alloc_id" class="idref" href="#CPP_LOGIC.exposed_aid_null_alloc_id"><span class="id" title="axiom">exposed_aid_null_alloc_id</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exposed_aid_persistent</span> <span class="id" title="var">exposed_aid_affine</span> <span class="id" title="var">exposed_aid_timeless</span>.<br/>

<br/>
</div>

<div class="doc">
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode">{<span class="id" title="var">resolve</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">resolve</span>}</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> asserts that <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> points to
      a (possibly dead) object of type <span class="inlinecode"><span class="id" title="var">ty</span></span> (in environment
      <span class="inlinecode"><span class="id" title="var">resolve</span></span>), as defined by https://eel.is/c++draft/basic.compound3.1.

      This implies:
      - the pointer is strictly valid [type_ptr_strict_valid], and
        "p + 1" is also valid (while possibly past-the-end) [type_ptr_valid_plus_one].
      - the pointer is not (an offset of) null pointers [type_ptr_off_nonnull, type_ptr_nonnull]
      - the pointer is properly aligned [type_ptr_aligned_pure]

      [type_ptr] is persistent and survives deallocation of the pointed-to
      object, like [_valid_ptr].

      TODO: before a complete object is fully initialized,
      what [type_ptr] facts are available? For now, we only use [type_ptr]
      for fully initialized objects.
      Consider http://eel.is/c++draft/basic.memobjbasic.life, especially
      from http://eel.is/c++draft/basic.memobjbasic.life-1 to
      http://eel.is/c++draft/basic.memobjbasic.life-4.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.type_ptr" class="idref" href="#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:219" class="idref" href="#resolve:219"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="c:220" class="idref" href="#c:220"><span class="id" title="binder">c</span></a>: <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_persistent" class="idref" href="#CPP_LOGIC.type_ptr_persistent"><span class="id" title="axiom">type_ptr_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="bf9dadd60e832de3df752dd28ef8a309" class="idref" href="#bf9dadd60e832de3df752dd28ef8a309"><span class="id" title="binder">σ</span></a> <a id="p:223" class="idref" href="#p:223"><span class="id" title="binder">p</span></a> <a id="ty:224" class="idref" href="#ty:224"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:224"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:223"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_affine" class="idref" href="#CPP_LOGIC.type_ptr_affine"><span class="id" title="axiom">type_ptr_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="edf79e3d5849a9175b8d3837e5aac03f" class="idref" href="#edf79e3d5849a9175b8d3837e5aac03f"><span class="id" title="binder">σ</span></a> <a id="p:227" class="idref" href="#p:227"><span class="id" title="binder">p</span></a> <a id="ty:228" class="idref" href="#ty:228"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:228"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:227"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_timeless" class="idref" href="#CPP_LOGIC.type_ptr_timeless"><span class="id" title="axiom">type_ptr_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="2e12aedcbcb60fd78c86a47252bf41fd" class="idref" href="#2e12aedcbcb60fd78c86a47252bf41fd"><span class="id" title="binder">σ</span></a> <a id="p:231" class="idref" href="#p:231"><span class="id" title="binder">p</span></a> <a id="ty:232" class="idref" href="#ty:232"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:232"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:231"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">type_ptr_persistent</span> <span class="id" title="var">type_ptr_affine</span> <span class="id" title="var">type_ptr_timeless</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_aligned_pure" class="idref" href="#CPP_LOGIC.type_ptr_aligned_pure"><span class="id" title="axiom">type_ptr_aligned_pure</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="6ae2b894f7fa75afb52ff0971b3ee983" class="idref" href="#6ae2b894f7fa75afb52ff0971b3ee983"><span class="id" title="binder">σ</span></a> <a id="ty:235" class="idref" href="#ty:235"><span class="id" title="binder">ty</span></a> <a id="p:236" class="idref" href="#p:236"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:235"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:236"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:235"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:236"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_off_nonnull" class="idref" href="#CPP_LOGIC.type_ptr_off_nonnull"><span class="id" title="axiom">type_ptr_off_nonnull</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="4f6dbf0709f30dd8c7d1015e78175245" class="idref" href="#4f6dbf0709f30dd8c7d1015e78175245"><span class="id" title="binder">σ</span></a> <a id="ty:239" class="idref" href="#ty:239"><span class="id" title="binder">ty</span></a> <a id="p:240" class="idref" href="#p:240"><span class="id" title="binder">p</span></a> <a id="o:241" class="idref" href="#o:241"><span class="id" title="binder">o</span></a>}<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:239"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:240"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:241"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:240"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_type_ptr" class="idref" href="#CPP_LOGIC.tptsto_type_ptr"><span class="id" title="axiom">tptsto_type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="8264547eb8f3f80f87bbb1d21ef36510" class="idref" href="#8264547eb8f3f80f87bbb1d21ef36510"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) <a id="ty:244" class="idref" href="#ty:244"><span class="id" title="binder">ty</span></a> <a id="q:245" class="idref" href="#q:245"><span class="id" title="binder">q</span></a> <a id="p:246" class="idref" href="#p:246"><span class="id" title="binder">p</span></a> <a id="v:247" class="idref" href="#v:247"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:244"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:246"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:244"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:245"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:246"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:247"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">tptsto_type_ptr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;objects&nbsp;in&nbsp;the&nbsp;C++&nbsp;abstract&nbsp;machine&nbsp;have&nbsp;a&nbsp;size<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE&nbsp;to&nbsp;support&nbsp;un-sized&nbsp;objects,&nbsp;we&nbsp;can&nbsp;simply&nbsp;say&nbsp;that&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">sizeof</span></span>&nbsp;operator<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;C++&nbsp;is&nbsp;only&nbsp;a&nbsp;conservative&nbsp;approximation&nbsp;of&nbsp;the&nbsp;true&nbsp;size&nbsp;of&nbsp;an&nbsp;object.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_size" class="idref" href="#CPP_LOGIC.type_ptr_size"><span class="id" title="axiom">type_ptr_size</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b33de3c7cc175f8e6ec84827ee2a9887" class="idref" href="#b33de3c7cc175f8e6ec84827ee2a9887"><span class="id" title="binder">σ</span></a> <a id="ty:250" class="idref" href="#ty:250"><span class="id" title="binder">ty</span></a> <a id="p:251" class="idref" href="#p:251"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:250"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:251"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b33de3c7cc175f8e6ec84827ee2a9887"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:250"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
    Recall that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a></span> don't include
    past-the-end pointers... 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_strict_valid" class="idref" href="#CPP_LOGIC.type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="resolve:253" class="idref" href="#resolve:253"><span class="id" title="binder">resolve</span></a> <a id="ty:254" class="idref" href="#ty:254"><span class="id" title="binder">ty</span></a> <a id="p:255" class="idref" href="#p:255"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:254"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:255"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:255"><span class="id" title="variable">p</span></a>.<br/>
</div>

<div class="doc">
Hence they can be incremented into (possibly past-the-end) valid pointers. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_valid_plus_one" class="idref" href="#CPP_LOGIC.type_ptr_valid_plus_one"><span class="id" title="axiom">type_ptr_valid_plus_one</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="resolve:257" class="idref" href="#resolve:257"><span class="id" title="binder">resolve</span></a> <a id="ty:258" class="idref" href="#ty:258"><span class="id" title="binder">ty</span></a> <a id="p:259" class="idref" href="#p:259"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:258"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:259"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:259"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#resolve:257"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:258"><span class="id" title="variable">ty</span></a> 1).<br/>

<br/>
</div>

<div class="doc">
<a id="lab88"></a><h2 class="section">Deducing pointer equalities</h2>

     The following axioms, together with <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a></span>, enable going
     from <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#PTRS_DERIVED_MIXIN.same_address"><span class="id" title="definition">same_address</span></a></span> (produced by C++ pointer equality) to actual pointer
     equalities.
     
<div class="paragraph"> </div>

 Pointer equality with <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a></span> is easy, as long as your pointer is valid.
     Validity is necessary: the C++ expression <span class="inlinecode">(<span class="id" title="var">char</span></span> <span class="inlinecode">*</span> <span class="inlinecode">)<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">-</span> <span class="inlinecode">(<span class="id" title="var">uintptr_t</span>)</span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span>
     produces an invalid pointer with address 0, which is not <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a></span> because
     it preserves the provenance of <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.same_address_eq_null" class="idref" href="#CPP_LOGIC.same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:261" class="idref" href="#p:261"><span class="id" title="binder">p</span></a> <a id="tv:262" class="idref" href="#tv:262"><span class="id" title="binder">tv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tv:262"><span class="id" title="variable">tv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:261"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:261"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:261"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.same_address_eq_type_ptr"><span class="id" title="axiom">same_address_eq_type_ptr</span></a></span> concludes that two pointers <span class="inlinecode"><span class="id" title="var">p1</span></span> and <span class="inlinecode"><span class="id" title="var">p2</span></span> are
    equal if they have the same address, point to live objects <span class="inlinecode"><span class="id" title="var">o1</span></span> and <span class="inlinecode"><span class="id" title="var">o2</span></span>,
    and have the same (non-uchar) type <span class="inlinecode"><span class="id" title="var">ty</span></span> with nonzero size.

<div class="paragraph"> </div>

    Justifying this from the standard is tricky; here's a proof sketch.
<ul class="doclist">
<li> Because <span class="inlinecode"><span class="id" title="var">ty</span></span> has "nonzero size" (https://eel.is/c++draft/intro.object8),
      and we don't support bitfields, we apply the standard:

      > Unless it is a bit-field, an object with nonzero size shall occupy one
        or more bytes of storage, including every byte that is occupied in full
        or in part by any of its subobjects.

    - Because [o1] and [o2] are live, these objects share storage, hence they
      must coincide or one must be nested inside the other
      (https://eel.is/c++draft/intro.object4); if they coincide, our proof
      is done.

</li>
<li> Because <span class="inlinecode"><span class="id" title="var">ty</span></span> is not <span class="inlinecode"><span class="id" title="var">unsigned</span></span> <span class="inlinecode"><span class="id" title="var">char</span></span>, neither pointer can provide storage
      for the other (https://eel.is/c++draft/intro.object3); so one must be a
      subobject of the other.
    - Since [o1] and [o2] have type [ty], and type [ty] has "nonzero size",
      neither of [o1] and [o2] can be a subobject of the other;
      we conjecture is provable from the C++ type system.

    NOTE: we check "nonzero size"
    (https://eel.is/c++draft/basic.memobjintro.object-8) using <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.size_of"><span class="id" title="abbreviation">size_of</span></a></span>,

</li>
</ul>
    which might incorporate implementation-specific compiler decisions.
    TODO: handle <span class="inlinecode"><span class="id" title="var">std</span>::<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.byte"><span class="id" title="definition">byte</span></a></span> like <span class="inlinecode"><span class="id" title="var">unsigned</span></span> <span class="inlinecode"><span class="id" title="var">char</span></span>.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.same_address_eq_type_ptr" class="idref" href="#CPP_LOGIC.same_address_eq_type_ptr"><span class="id" title="axiom">same_address_eq_type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="resolve:264" class="idref" href="#resolve:264"><span class="id" title="binder">resolve</span></a> <a id="ty:265" class="idref" href="#ty:265"><span class="id" title="binder">ty</span></a> <a id="p1:266" class="idref" href="#p1:266"><span class="id" title="binder">p1</span></a> <a id="p2:267" class="idref" href="#p2:267"><span class="id" title="binder">p2</span></a> <a id="n:268" class="idref" href="#n:268"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:266"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:267"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#resolve:264"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:265"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:268"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Tuchar</span></span>,&nbsp;one&nbsp;of&nbsp;these&nbsp;pointer&nbsp;could&nbsp;provide&nbsp;storage&nbsp;for&nbsp;the&nbsp;other.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:265"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tuchar"><span class="id" title="abbreviation">Tuchar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:268"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:265"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:266"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:265"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:267"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:266"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:267"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#pred_ns"><span class="id" title="definition">pred_ns</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:266"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:267"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;strict&nbsp;validity&nbsp;(not&nbsp;past-the-end)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.strict_valid_ptr" class="idref" href="#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;validity&nbsp;(past-the-end&nbsp;allowed)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.valid_ptr" class="idref" href="#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Pointer&nbsp;axioms.&nbsp;XXX&nbsp;Not&nbsp;modeled&nbsp;for&nbsp;now.&nbsp;*)</span><br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="VALID_PTR_AXIOMS" class="idref" href="#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">INTF</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_FUNCTOR"><span class="id" title="module">VALUES_INTF_FUNCTOR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P"><span class="id" title="module">P</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">CC</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS"><span class="id" title="module">CPP_LOGIC_CLASS</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">CPP</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P"><span class="id" title="module">P</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF"><span class="id" title="module">INTF</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC"><span class="id" title="module">CC</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="VALID_PTR_AXIOMS.with_cpp" class="idref" href="#VALID_PTR_AXIOMS.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">cpp_logic</span></a>} {<a id="3177bb2137fb232fca23b0e8a69e9285" class="idref" href="#3177bb2137fb232fca23b0e8a69e9285"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.invalid_ptr_invalid" class="idref" href="#VALID_PTR_AXIOMS.invalid_ptr_invalid"><span class="id" title="axiom">invalid_ptr_invalid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="vt:273" class="idref" href="#vt:273"><span class="id" title="binder">vt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:273"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>

<br/>
</div>

<div class="doc">
Justified by <span class="inlinecode"><span class="id" title="var">https</span>://<span class="id" title="var">eel.is</span>/<span class="id" title="var">c</span>++<span class="id" title="var">draft</span>/<span class="id" title="var">expr.add</span>#4.1</span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS._valid_ptr_nullptr_sub_false" class="idref" href="#VALID_PTR_AXIOMS._valid_ptr_nullptr_sub_false"><span class="id" title="axiom">_valid_ptr_nullptr_sub_false</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="vt:275" class="idref" href="#vt:275"><span class="id" title="binder">vt</span></a> <a id="ty:276" class="idref" href="#ty:276"><span class="id" title="binder">ty</span></a> (<a id="i:277" class="idref" href="#i:277"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:277"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:275"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:276"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:277"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;TODO&nbsp;Controversial;&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;is&nbsp;the&nbsp;first&nbsp;field,&nbsp;<span class="inlinecode"><span class="id" title="var">nullptr</span>-&gt;<span class="id" title="var">f</span></span>&nbsp;or&nbsp;casts&nbsp;relying&nbsp;on<br/>
&nbsp;&nbsp;&nbsp;&nbsp;https://eel.is/c++draft/basic.compound4 might invalidate this.
    To make this valid, we could ensure our axiomatic semantics produces
    [nullptr] instead of [nullptr ., o_field]. *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;_valid_ptr_nullptr_field_false&nbsp;:&nbsp;forall&nbsp;vt&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_valid_ptr&nbsp;vt&nbsp;(nullptr&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--&nbsp;False.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
These axioms are named after the predicate in the conclusion. 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

    TODO: The intended proof of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a></span> assumes that, if <span class="inlinecode"><span class="id" title="var">p'</span></span>
    normalizes to <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">]</span>, then <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p'</span></span> is defined to imply
    validity of all pointers from <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> to <span class="inlinecode"><span class="id" title="var">p'</span></span>.

<div class="paragraph"> </div>

    Note that `arrR` exposes stronger reasoning principles, but this might still be useful.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.strict_valid_ptr_sub" class="idref" href="#VALID_PTR_AXIOMS.strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="i:279" class="idref" href="#i:279"><span class="id" title="binder">i</span></a> <a id="j:280" class="idref" href="#j:280"><span class="id" title="binder">j</span></a> <a id="k:281" class="idref" href="#k:281"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="p:282" class="idref" href="#p:282"><span class="id" title="binder">p</span></a> <a id="ty:283" class="idref" href="#ty:283"><span class="id" title="binder">ty</span></a> <a id="vt1:284" class="idref" href="#vt1:284"><span class="id" title="binder">vt1</span></a> <a id="vt2:285" class="idref" href="#vt2:285"><span class="id" title="binder">vt2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:279"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:280"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:281"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt1:284"><span class="id" title="variable">vt1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:282"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:283"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:279"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt2:285"><span class="id" title="variable">vt2</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:282"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:283"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:281"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:282"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:283"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:280"><span class="id" title="variable">j</span></a>).<br/>

<br/>
</div>

<div class="doc">
XXX: this axiom is convoluted but
    TODO: The intended proof of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a></span> (and friends) is that
    (1) if <span class="inlinecode"><span class="id" title="var">p'</span></span> normalizes to <span class="inlinecode"><span class="id" title="var">p''</span></span> <span class="inlinecode">.,</span> <span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">]</span>, then <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p'</span></span> implies
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p''</span></span>.
    (2) <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#qual_norm.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> will normalize to <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span>
    <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#qual_norm.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span>, without cancellation.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.strict_valid_ptr_field_sub" class="idref" href="#VALID_PTR_AXIOMS.strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="p:287" class="idref" href="#p:287"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:288" class="idref" href="#ty:288"><span class="id" title="binder">ty</span></a> (<a id="i:289" class="idref" href="#i:289"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="f:290" class="idref" href="#f:290"><span class="id" title="binder">f</span></a> <a id="vt:291" class="idref" href="#vt:291"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:289"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:291"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:287"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:290"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:288"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:289"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:287"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:290"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;can&nbsp;we&nbsp;deduce&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;strictly&nbsp;valid?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS._valid_ptr_base" class="idref" href="#VALID_PTR_AXIOMS._valid_ptr_base"><span class="id" title="axiom">_valid_ptr_base</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:293" class="idref" href="#p:293"><span class="id" title="binder">p</span></a> <a id="base:294" class="idref" href="#base:294"><span class="id" title="binder">base</span></a> <a id="derived:295" class="idref" href="#derived:295"><span class="id" title="binder">derived</span></a> <a id="vt:296" class="idref" href="#vt:296"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:296"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:293"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:295"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:294"><span class="id" title="variable">base</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:296"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:293"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;can&nbsp;we&nbsp;deduce&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;strictly&nbsp;valid?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS._valid_ptr_derived" class="idref" href="#VALID_PTR_AXIOMS._valid_ptr_derived"><span class="id" title="axiom">_valid_ptr_derived</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:298" class="idref" href="#p:298"><span class="id" title="binder">p</span></a> <a id="base:299" class="idref" href="#base:299"><span class="id" title="binder">base</span></a> <a id="derived:300" class="idref" href="#derived:300"><span class="id" title="binder">derived</span></a> <a id="vt:301" class="idref" href="#vt:301"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:301"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:298"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:299"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:300"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:301"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:298"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;can&nbsp;we&nbsp;deduce&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;strictly&nbsp;valid?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS._valid_ptr_field" class="idref" href="#VALID_PTR_AXIOMS._valid_ptr_field"><span class="id" title="axiom">_valid_ptr_field</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:303" class="idref" href="#p:303"><span class="id" title="binder">p</span></a> <a id="f:304" class="idref" href="#f:304"><span class="id" title="binder">f</span></a> <a id="vt:305" class="idref" href="#vt:305"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:305"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:303"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:304"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:305"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:303"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;Pointers&nbsp;to&nbsp;fields&nbsp;can't&nbsp;be&nbsp;past-the-end,&nbsp;right?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Except&nbsp;0-size&nbsp;arrays.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;strict_valid_ptr_field&nbsp;:&nbsp;∀&nbsp;p&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strict_valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;if&nbsp;we&nbsp;add&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr_field</span></span>,&nbsp;we&nbsp;can&nbsp;derive<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">_valid_ptr_field</span></span>&nbsp;from&nbsp;just&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr_field</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;strict_valid_ptr_field&nbsp;:&nbsp;∀&nbsp;p&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strict_valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--&nbsp;strict_valid_ptr&nbsp;p.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We're&nbsp;ignoring&nbsp;virtual&nbsp;inheritance&nbsp;here,&nbsp;since&nbsp;we&nbsp;have&nbsp;no&nbsp;plans&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;support&nbsp;it&nbsp;for&nbsp;now,&nbsp;but&nbsp;this&nbsp;might&nbsp;hold&nbsp;there&nbsp;too.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.o_base_derived" class="idref" href="#VALID_PTR_AXIOMS.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:307" class="idref" href="#p:307"><span class="id" title="binder">p</span></a> <a id="base:308" class="idref" href="#base:308"><span class="id" title="binder">base</span></a> <a id="derived:309" class="idref" href="#derived:309"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:307"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:309"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:308"><span class="id" title="variable">base</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:307"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:309"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:308"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:308"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:309"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:307"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.o_derived_base" class="idref" href="#VALID_PTR_AXIOMS.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:311" class="idref" href="#p:311"><span class="id" title="binder">p</span></a> <a id="base:312" class="idref" href="#base:312"><span class="id" title="binder">base</span></a> <a id="derived:313" class="idref" href="#derived:313"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:311"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:312"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:313"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:311"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:312"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:313"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:313"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:312"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:311"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Without&nbsp;the&nbsp;validity&nbsp;premise&nbsp;to&nbsp;the&nbsp;cancellation&nbsp;axioms&nbsp;(<span class="inlinecode"><span class="id" title="var">o_sub_sub</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">o_base_derived</span></span>,&nbsp;<span class="inlinecode"><span class="id" title="var">o_derived_base</span></span>)&nbsp;we&nbsp;could&nbsp;incorrectly&nbsp;deduce&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">valid_ptr</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;entails&nbsp;<span class="inlinecode"><span class="id" title="var">valid_ptr</span></span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">.,</span> <span class="inlinecode"><span class="id" title="var">o_base</span></span> <span class="inlinecode"><span class="id" title="var">derived</span></span> <span class="inlinecode"><span class="id" title="var">base</span></span> <span class="inlinecode">.,</span> <span class="inlinecode"><span class="id" title="var">o_derived</span></span>
      <span class="inlinecode"><span class="id" title="var">base</span></span> <span class="inlinecode"><span class="id" title="var">derived</span>)</span>&nbsp;which&nbsp;entails&nbsp;<span class="inlinecode"><span class="id" title="var">valid_ptr</span></span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">.,</span> <span class="inlinecode"><span class="id" title="var">o_base</span></span> <span class="inlinecode"><span class="id" title="var">derived</span></span> <span class="inlinecode"><span class="id" title="var">base</span>)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;maybe&nbsp;add&nbsp;a&nbsp;validity&nbsp;of&nbsp;offsets&nbsp;to&nbsp;allow&nbsp;stating&nbsp;this&nbsp;more&nbsp;generally.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.valid_o_sub_size" class="idref" href="#VALID_PTR_AXIOMS.valid_o_sub_size"><span class="id" title="axiom">valid_o_sub_size</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:315" class="idref" href="#p:315"><span class="id" title="binder">p</span></a> <a id="ty:316" class="idref" href="#ty:316"><span class="id" title="binder">ty</span></a> <a id="i:317" class="idref" href="#i:317"><span class="id" title="binder">i</span></a> <a id="vt:318" class="idref" href="#vt:318"><span class="id" title="binder">vt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:318"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:315"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:316"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:317"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:316"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.type_ptr_o_base" class="idref" href="#VALID_PTR_AXIOMS.type_ptr_o_base"><span class="id" title="axiom">type_ptr_o_base</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="derived:320" class="idref" href="#derived:320"><span class="id" title="binder">derived</span></a> <a id="base:321" class="idref" href="#base:321"><span class="id" title="binder">base</span></a> <a id="p:322" class="idref" href="#p:322"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#class_derives"><span class="id" title="class">class_derives</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:320"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:321"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:320"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:322"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:321"><span class="id" title="variable">base</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:322"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P._base"><span class="id" title="abbreviation">_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:320"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:321"><span class="id" title="variable">base</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.type_ptr_o_field_type_ptr" class="idref" href="#VALID_PTR_AXIOMS.type_ptr_o_field_type_ptr"><span class="id" title="axiom">type_ptr_o_field_type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:324" class="idref" href="#p:324"><span class="id" title="binder">p</span></a> <a id="fld:325" class="idref" href="#fld:325"><span class="id" title="binder">fld</span></a> <a id="cls:326" class="idref" href="#cls:326"><span class="id" title="binder">cls</span></a> (<a id="st:327" class="idref" href="#st:327"><span class="id" title="binder">st</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Struct"><span class="id" title="record">Struct</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#glob_def"><span class="id" title="definition">glob_def</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:326"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#st:327"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#fld:325"><span class="id" title="variable">fld</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#s_fields"><span class="id" title="projection">s_fields</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:326"><span class="id" title="variable">cls</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:324"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#fld:325"><span class="id" title="variable">fld</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#mem_type"><span class="id" title="projection">mem_type</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:324"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#277907e5594f9eaa696e8f1504306db3"><span class="id" title="notation">.,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#277907e5594f9eaa696e8f1504306db3"><span class="id" title="notation">{|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#fld:325"><span class="id" title="variable">fld</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#mem_name"><span class="id" title="projection">mem_name</span></a>) ; <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:326"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#277907e5594f9eaa696e8f1504306db3"><span class="id" title="notation">|}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Module</span> <a id="L" class="idref" href="#L"><span class="id" title="module">L</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM"><span class="id" title="module">PTRS_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM"><span class="id" title="module">VALUES_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC"><span class="id" title="module">LC</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L"><span class="id" title="module">L</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Module</span> <span class="id" title="keyword">Export</span> <a id="VALID_PTR" class="idref" href="#VALID_PTR"><span class="id" title="module">VALID_PTR</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM"><span class="id" title="module">PTRS_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM"><span class="id" title="module">VALUES_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC"><span class="id" title="module">LC</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L"><span class="id" title="module">L</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="valid_ptr_code" class="idref" href="#valid_ptr_code"><span class="id" title="section">valid_ptr_code</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="17491d5d06775fe5ed36d397c3f63bad" class="idref" href="#17491d5d06775fe5ed36d397c3f63bad"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} {<a id="20ec949c1a35938a56031997a5a9a4e2" class="idref" href="#20ec949c1a35938a56031997a5a9a4e2"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="code_at_valid" class="idref" href="#code_at_valid"><span class="id" title="lemma">code_at_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:332" class="idref" href="#f:332"><span class="id" title="binder">f</span></a> <a id="p:333" class="idref" href="#p:333"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#code_at"><span class="id" title="axiom">code_at</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:332"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:333"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:333"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#code_at_strict_valid"><span class="id" title="axiom">code_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="method_at_valid" class="idref" href="#method_at_valid"><span class="id" title="lemma">method_at_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:334" class="idref" href="#f:334"><span class="id" title="binder">f</span></a> <a id="p:335" class="idref" href="#p:335"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#method_at"><span class="id" title="axiom">method_at</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:334"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:335"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:335"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#method_at_strict_valid"><span class="id" title="axiom">method_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ctor_at_valid" class="idref" href="#ctor_at_valid"><span class="id" title="lemma">ctor_at_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:336" class="idref" href="#f:336"><span class="id" title="binder">f</span></a> <a id="p:337" class="idref" href="#p:337"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ctor_at"><span class="id" title="axiom">ctor_at</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:336"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:337"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:337"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ctor_at_strict_valid"><span class="id" title="axiom">ctor_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dtor_at_valid" class="idref" href="#dtor_at_valid"><span class="id" title="lemma">dtor_at_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:338" class="idref" href="#f:338"><span class="id" title="binder">f</span></a> <a id="p:339" class="idref" href="#p:339"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#dtor_at"><span class="id" title="axiom">dtor_at</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:338"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:339"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:339"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#dtor_at_strict_valid"><span class="id" title="axiom">dtor_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_code"><span class="id" title="section">valid_ptr_code</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="pinned_ptr_def" class="idref" href="#pinned_ptr_def"><span class="id" title="section">pinned_ptr_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="34496b28ad441530bfbf2cda65fcfc0c" class="idref" href="#34496b28ad441530bfbf2cda65fcfc0c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="exposed_ptr_def" class="idref" href="#exposed_ptr_def"><span class="id" title="definition">exposed_ptr_def</span></a> <a id="p:342" class="idref" href="#p:342"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:342"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="aid:343" class="idref" href="#aid:343"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:342"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:343"><span class="id" title="variable">aid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:343"><span class="id" title="variable">aid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="exposed_ptr_aux" class="idref" href="#exposed_ptr_aux"><span class="id" title="definition">exposed_ptr_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_def"><span class="id" title="definition">exposed_ptr_def</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="exposed_ptr" class="idref" href="#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_aux"><span class="id" title="definition">exposed_ptr_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="exposed_ptr_eq" class="idref" href="#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_aux"><span class="id" title="definition">exposed_ptr_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_persistent" class="idref" href="#exposed_ptr_persistent"><span class="id" title="instance">exposed_ptr_persistent</span></a> <a id="p:344" class="idref" href="#p:344"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:344"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_affine" class="idref" href="#exposed_ptr_affine"><span class="id" title="instance">exposed_ptr_affine</span></a> <a id="p:345" class="idref" href="#p:345"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:345"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_timeless" class="idref" href="#exposed_ptr_timeless"><span class="id" title="instance">exposed_ptr_timeless</span></a> <a id="p:346" class="idref" href="#p:346"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:346"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_valid" class="idref" href="#exposed_ptr_valid"><span class="id" title="instance">exposed_ptr_valid</span></a> <a id="p:347" class="idref" href="#p:347"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:347"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:347"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="exposed_ptr_nullptr" class="idref" href="#exposed_ptr_nullptr"><span class="id" title="lemma">exposed_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_def"><span class="id" title="definition">exposed_ptr_def</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_nullptr"><span class="id" title="axiom">valid_ptr_nullptr</span></a> <span class="id" title="keyword">as</span> "$". <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_aid_null_alloc_id"><span class="id" title="axiom">exposed_aid_null_alloc_id</span></a> <span class="id" title="keyword">as</span> "$".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_exposed_ptr" class="idref" href="#offset_exposed_ptr"><span class="id" title="lemma">offset_exposed_ptr</span></a> <a id="p:348" class="idref" href="#p:348"><span class="id" title="binder">p</span></a> <a id="o:349" class="idref" href="#o:349"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:348"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:349"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:348"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:348"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:349"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_def"><span class="id" title="definition">exposed_ptr_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#V' #[V E]". <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V'"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "V'". <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset2_exposed_ptr" class="idref" href="#offset2_exposed_ptr"><span class="id" title="lemma">offset2_exposed_ptr</span></a> <a id="p:350" class="idref" href="#p:350"><span class="id" title="binder">p</span></a> <a id="o1:351" class="idref" href="#o1:351"><span class="id" title="binder">o1</span></a> <a id="o2:352" class="idref" href="#o2:352"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:350"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:352"><span class="id" title="variable">o2</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:350"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:351"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:350"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:352"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_eq"><span class="id" title="definition">exposed_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_def"><span class="id" title="definition">exposed_ptr_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#V2 #[V1 E]"; <span class="id" title="var">iFrame</span> "V2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> // <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_inv_exposed_ptr" class="idref" href="#offset_inv_exposed_ptr"><span class="id" title="lemma">offset_inv_exposed_ptr</span></a> <a id="p:353" class="idref" href="#p:353"><span class="id" title="binder">p</span></a> <a id="o:354" class="idref" href="#o:354"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:353"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:353"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:354"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:353"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -{1 3}(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset2_exposed_ptr"><span class="id" title="lemma">offset2_exposed_ptr</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Physical representation of pointers.  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">va</span></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> states that the abstract pointer <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> is tied to a
    virtual address <span class="inlinecode"><span class="id" title="var">va</span></span>.
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a></span> will only hold on pointers that are associated to addresses,
    but other pointers exist. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="pinned_ptr_def" class="idref" href="#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a> (<a id="va:355" class="idref" href="#va:355"><span class="id" title="binder">va</span></a> : <a class="idref" href="bedrock.prelude.addr.html#vaddr"><span class="id" title="definition">vaddr</span></a>) (<a id="p:356" class="idref" href="#p:356"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:356"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:355"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:356"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="pinned_ptr_aux" class="idref" href="#pinned_ptr_aux"><span class="id" title="definition">pinned_ptr_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="pinned_ptr" class="idref" href="#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_aux"><span class="id" title="definition">pinned_ptr_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="pinned_ptr_eq" class="idref" href="#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_aux"><span class="id" title="definition">pinned_ptr_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_persistent" class="idref" href="#pinned_ptr_persistent"><span class="id" title="instance">pinned_ptr_persistent</span></a> <a id="va:357" class="idref" href="#va:357"><span class="id" title="binder">va</span></a> <a id="p:358" class="idref" href="#p:358"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:357"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:358"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_affine" class="idref" href="#pinned_ptr_affine"><span class="id" title="instance">pinned_ptr_affine</span></a> <a id="va:359" class="idref" href="#va:359"><span class="id" title="binder">va</span></a> <a id="p:360" class="idref" href="#p:360"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:359"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:360"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_timeless" class="idref" href="#pinned_ptr_timeless"><span class="id" title="instance">pinned_ptr_timeless</span></a> <a id="va:361" class="idref" href="#va:361"><span class="id" title="binder">va</span></a> <a id="p:362" class="idref" href="#p:362"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:361"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:362"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_intro" class="idref" href="#pinned_ptr_intro"><span class="id" title="lemma">pinned_ptr_intro</span></a> <a id="p:363" class="idref" href="#p:363"><span class="id" title="binder">p</span></a> <a id="va:364" class="idref" href="#va:364"><span class="id" title="binder">va</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:363"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:364"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="definition">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:363"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:364"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:363"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (?) "$". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_ptr_vaddr" class="idref" href="#pinned_ptr_ptr_vaddr"><span class="id" title="instance">pinned_ptr_ptr_vaddr</span></a> <a id="va:365" class="idref" href="#va:365"><span class="id" title="binder">va</span></a> <a id="p:366" class="idref" href="#p:366"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:366"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:365"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:365"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:366"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_change_va_eq" class="idref" href="#pinned_ptr_change_va_eq"><span class="id" title="lemma">pinned_ptr_change_va_eq</span></a> (<a id="p:367" class="idref" href="#p:367"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="va:368" class="idref" href="#va:368"><span class="id" title="binder">va</span></a> <a id="va':369" class="idref" href="#va':369"><span class="id" title="binder">va'</span></a> : <a class="idref" href="bedrock.prelude.addr.html#vaddr"><span class="id" title="definition">vaddr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Heq:370" class="idref" href="#Heq:370"><span class="id" title="binder">Heq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:367"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:368"><span class="id" title="variable">va</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':369"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:367"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a>  <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':369"><span class="id" title="variable">va'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:368"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:368"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:367"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#P".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe_elim_pure"><span class="id" title="lemma">observe_elim_pure</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">va'</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "P"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_change_va" class="idref" href="#pinned_ptr_change_va"><span class="id" title="lemma">pinned_ptr_change_va</span></a> <a id="p:371" class="idref" href="#p:371"><span class="id" title="binder">p</span></a> <a id="va:372" class="idref" href="#va:372"><span class="id" title="binder">va</span></a> <a id="va':373" class="idref" href="#va':373"><span class="id" title="binder">va'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Heq:374" class="idref" href="#Heq:374"><span class="id" title="binder">Heq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:371"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:372"><span class="id" title="variable">va</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':373"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:371"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:372"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:371"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_change_va_eq"><span class="id" title="lemma">pinned_ptr_change_va_eq</span></a> //. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "[_ $]". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_agree" class="idref" href="#pinned_ptr_agree"><span class="id" title="instance">pinned_ptr_agree</span></a> <a id="va1:375" class="idref" href="#va1:375"><span class="id" title="binder">va1</span></a> <a id="va2:376" class="idref" href="#va2:376"><span class="id" title="binder">va2</span></a> <a id="p:377" class="idref" href="#p:377"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va1:375"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va2:376"><span class="id" title="variable">va2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va1:375"><span class="id" title="variable">va1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:377"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va2:376"><span class="id" title="variable">va2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:377"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#P1 #P2 !&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe_elim_pure"><span class="id" title="lemma">observe_elim_pure</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "P1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe_elim_pure"><span class="id" title="lemma">observe_elim_pure</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "P2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_valid" class="idref" href="#pinned_ptr_valid"><span class="id" title="instance">pinned_ptr_valid</span></a> <a id="va:378" class="idref" href="#va:378"><span class="id" title="binder">va</span></a> <a id="p:379" class="idref" href="#p:379"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:379"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:378"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:379"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Just a corollary of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage_same_address"><span class="id" title="instance">provides_storage_same_address</span></a></span> in the style of
  <span class="inlinecode"><span class="id" title="var">provides_storage_pinned_ptr</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="provides_storage_pinned_ptr_pure" class="idref" href="#provides_storage_pinned_ptr_pure"><span class="id" title="lemma">provides_storage_pinned_ptr_pure</span></a> {<a id="storage_ptr:380" class="idref" href="#storage_ptr:380"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:381" class="idref" href="#obj_ptr:381"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:382" class="idref" href="#aty:382"><span class="id" title="binder">aty</span></a> <a id="va:383" class="idref" href="#va:383"><span class="id" title="binder">va</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:380"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:383"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:380"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:381"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:382"><span class="id" title="variable">aty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:381"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:383"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_same_address"><span class="id" title="axiom">provides_storage_same_address</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (<span class="id" title="var">HP</span> &lt;-). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="section">pinned_ptr_def</span></a>.<br/>

<br/>
#[<span class="id" title="var">deprecated</span>(<span class="id" title="var">note</span>="Use pinned_ptr_ptr_vaddr", <span class="id" title="var">since</span>="2022-01-18")]<br/>
<span class="id" title="keyword">Notation</span> <a id="pinned_ptr_pinned_ptr_pure" class="idref" href="#pinned_ptr_pinned_ptr_pure"><span class="id" title="abbreviation">pinned_ptr_pinned_ptr_pure</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_ptr_vaddr"><span class="id" title="instance">pinned_ptr_ptr_vaddr</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_cpp" class="idref" href="#with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="9bf150bc2304a6b87e5b9aeed2ddd501" class="idref" href="#9bf150bc2304a6b87e5b9aeed2ddd501"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} {<a id="6b14d154a4a956b3bf0c9072a3aea1b8" class="idref" href="#6b14d154a4a956b3bf0c9072a3aea1b8"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_address_bool_null" class="idref" href="#same_address_bool_null"><span class="id" title="lemma">same_address_bool_null</span></a> <a id="p:387" class="idref" href="#p:387"><span class="id" title="binder">p</span></a> <a id="tv:388" class="idref" href="#tv:388"><span class="id" title="binder">tv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tv:388"><span class="id" title="variable">tv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:387"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:387"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:387"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a>; <span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="valid_ptr_nonnull_nonzero" class="idref" href="#valid_ptr_nonnull_nonzero"><span class="id" title="lemma">valid_ptr_nonnull_nonzero</span></a> <a id="p:389" class="idref" href="#p:389"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:389"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:389"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:389"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a>; <span class="id" title="var">iIntros</span> (<span class="id" title="var">Hne</span> <span class="id" title="var">Hiff</span>) "!%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> {<span class="id" title="var">Hne</span> <span class="id" title="var">Hiff</span>}: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address"><span class="id" title="axiom">same_address</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_ptr_nonnull" class="idref" href="#type_ptr_nonnull"><span class="id" title="lemma">type_ptr_nonnull</span></a> <a id="ty:390" class="idref" href="#ty:390"><span class="id" title="binder">ty</span></a> <a id="p:391" class="idref" href="#p:391"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:390"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:391"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:391"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_off_nonnull"><span class="id" title="axiom">type_ptr_off_nonnull</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_observe_nonnull" class="idref" href="#type_ptr_observe_nonnull"><span class="id" title="instance">type_ptr_observe_nonnull</span></a> <a id="ty:392" class="idref" href="#ty:392"><span class="id" title="binder">ty</span></a> <a id="p:393" class="idref" href="#p:393"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:393"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:392"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:393"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_nonnull"><span class="id" title="lemma">type_ptr_nonnull</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="provides_storage_preserves_nullptr" class="idref" href="#provides_storage_preserves_nullptr"><span class="id" title="instance">provides_storage_preserves_nullptr</span></a> {<a id="storage_ptr:394" class="idref" href="#storage_ptr:394"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:395" class="idref" href="#obj_ptr:395"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:396" class="idref" href="#aty:396"><span class="id" title="binder">aty</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:394"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:395"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:394"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:395"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:396"><span class="id" title="variable">aty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro_only_provable"><span class="id" title="lemma">observe_intro_only_provable</span></a>; <span class="id" title="var">iIntros</span> "PS".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_same_address"><span class="id" title="axiom">provides_storage_same_address</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_valid_obj_ptr"><span class="id" title="axiom">provides_storage_valid_obj_ptr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#VO".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_valid_storage_ptr"><span class="id" title="axiom">provides_storage_valid_storage_ptr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#VS {PS}".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "VO"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[<span class="id" title="var">HeqO</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "VS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[<span class="id" title="var">HeqS</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!%"; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">HeqO</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a>, <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">HeqS</span>, <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="provides_storage_preserves_nonnull" class="idref" href="#provides_storage_preserves_nonnull"><span class="id" title="instance">provides_storage_preserves_nonnull</span></a> {<a id="storage_ptr:397" class="idref" href="#storage_ptr:397"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:398" class="idref" href="#obj_ptr:398"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:399" class="idref" href="#aty:399"><span class="id" title="binder">aty</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:397"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:398"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:397"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:398"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:399"><span class="id" title="variable">aty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro_only_provable"><span class="id" title="lemma">observe_intro_only_provable</span></a>. <span class="id" title="var">iIntros</span> "PS".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_preserves_nullptr"><span class="id" title="instance">provides_storage_preserves_nullptr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#-&gt; {PS}".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_unique" class="idref" href="#pinned_ptr_unique"><span class="id" title="instance">pinned_ptr_unique</span></a> <a id="va:400" class="idref" href="#va:400"><span class="id" title="binder">va</span></a> <a id="va':401" class="idref" href="#va':401"><span class="id" title="binder">va'</span></a> <a id="p:402" class="idref" href="#p:402"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:400"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':401"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:400"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:402"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':401"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:402"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[%H1 _] [%H2 _] !&gt; !%". <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_2_pinned_ptr_pure" class="idref" href="#offset_2_pinned_ptr_pure"><span class="id" title="lemma">offset_2_pinned_ptr_pure</span></a> <a id="o1:403" class="idref" href="#o1:403"><span class="id" title="binder">o1</span></a> <a id="o2:404" class="idref" href="#o2:404"><span class="id" title="binder">o2</span></a> <a id="z1:405" class="idref" href="#z1:405"><span class="id" title="binder">z1</span></a> <a id="z2:406" class="idref" href="#z2:406"><span class="id" title="binder">z2</span></a> <a id="va:407" class="idref" href="#va:407"><span class="id" title="binder">va</span></a> <a id="p:408" class="idref" href="#p:408"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:403"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:405"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:404"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:406"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:408"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:403"><span class="id" title="variable">o1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:407"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:408"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:408"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:403"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:408"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:404"><span class="id" title="variable">o2</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:408"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:404"><span class="id" title="variable">o2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:407"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:405"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:406"><span class="id" title="variable">z2</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He1</span> <span class="id" title="var">He2</span> <span class="id" title="var">Hpin1</span>) "V V1 V2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_inv_pinned_ptr_pure"><span class="id" title="axiom">offset_inv_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[??]; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_pinned_ptr_pure"><span class="id" title="axiom">offset_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hgoal</span>; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.Znat.html#Z2N.id"><span class="id" title="lemma">Z2N.id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hgoal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_null" class="idref" href="#pinned_ptr_null"><span class="id" title="lemma">pinned_ptr_null</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> 0 <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_nullptr"><span class="id" title="lemma">exposed_ptr_nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_pinned_ptr" class="idref" href="#offset_pinned_ptr"><span class="id" title="lemma">offset_pinned_ptr</span></a> <a id="o:409" class="idref" href="#o:409"><span class="id" title="binder">o</span></a> <a id="z:410" class="idref" href="#z:410"><span class="id" title="binder">z</span></a> <a id="va:411" class="idref" href="#va:411"><span class="id" title="binder">va</span></a> <a id="p:412" class="idref" href="#p:412"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:409"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:410"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:412"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:409"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:411"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:412"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:411"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:410"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:412"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:409"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He</span>) "#V' #(%P &amp; E)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_pinned_ptr_pure"><span class="id" title="axiom">offset_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V'"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "$"; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_exposed_ptr"><span class="id" title="lemma">offset_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_inv_pinned_ptr" class="idref" href="#offset_inv_pinned_ptr"><span class="id" title="lemma">offset_inv_pinned_ptr</span></a> <a id="o:413" class="idref" href="#o:413"><span class="id" title="binder">o</span></a> <a id="z:414" class="idref" href="#z:414"><span class="id" title="binder">z</span></a> <a id="va:415" class="idref" href="#va:415"><span class="id" title="binder">va</span></a> <a id="p:416" class="idref" href="#p:416"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:413"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:414"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:416"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:415"><span class="id" title="variable">va</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:416"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:413"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:415"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:414"><span class="id" title="variable">z</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:415"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:414"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:416"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He</span>) "#V #(%P &amp; E)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_inv_pinned_ptr_pure"><span class="id" title="axiom">offset_inv_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "-#[$$]"; [<span class="id" title="var">done</span>..| |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "E"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_inv_exposed_ptr"><span class="id" title="lemma">offset_inv_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset2_pinned_ptr" class="idref" href="#offset2_pinned_ptr"><span class="id" title="lemma">offset2_pinned_ptr</span></a> <a id="o1:417" class="idref" href="#o1:417"><span class="id" title="binder">o1</span></a> <a id="o2:418" class="idref" href="#o2:418"><span class="id" title="binder">o2</span></a> <a id="z1:419" class="idref" href="#z1:419"><span class="id" title="binder">z1</span></a> <a id="z2:420" class="idref" href="#z2:420"><span class="id" title="binder">z2</span></a> <a id="va:421" class="idref" href="#va:421"><span class="id" title="binder">va</span></a> <a id="p:422" class="idref" href="#p:422"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:417"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:419"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:418"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:420"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:422"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:422"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:417"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:422"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:418"><span class="id" title="variable">o2</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:421"><span class="id" title="variable">va</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:422"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:417"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:421"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:419"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:420"><span class="id" title="variable">z2</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:422"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:418"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>) "V V1 #V2 #(%P &amp; E)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_2_pinned_ptr_pure"><span class="id" title="lemma">offset_2_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V V1 V2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "$"; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset2_exposed_ptr"><span class="id" title="lemma">offset2_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_aligned_divide" class="idref" href="#pinned_ptr_aligned_divide"><span class="id" title="lemma">pinned_ptr_aligned_divide</span></a> <a id="va:423" class="idref" href="#va:423"><span class="id" title="binder">va</span></a> <a id="n:424" class="idref" href="#n:424"><span class="id" title="binder">n</span></a> <a id="p:425" class="idref" href="#p:425"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:423"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:425"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:424"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:425"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:424"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:423"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>; <span class="id" title="var">iIntros</span> "(%P &amp; _) !%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.pinned_ptr_pure_aligned_divide"><span class="id" title="lemma">pinned_ptr_pure_aligned_divide</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_pure_type_divide_1" class="idref" href="#pinned_ptr_pure_type_divide_1"><span class="id" title="lemma">pinned_ptr_pure_type_divide_1</span></a> <a id="va:426" class="idref" href="#va:426"><span class="id" title="binder">va</span></a> <a id="n:427" class="idref" href="#n:427"><span class="id" title="binder">n</span></a> <a id="p:428" class="idref" href="#p:428"><span class="id" title="binder">p</span></a> <a id="ty:429" class="idref" href="#ty:429"><span class="id" title="binder">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:430" class="idref" href="#Hal:430"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:429"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:427"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:429"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:428"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:428"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:426"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:427"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:426"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_aligned_pure"><span class="id" title="axiom">type_ptr_aligned_pure</span></a>. <span class="id" title="var">iIntros</span> "!%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.pinned_ptr_pure_divide_1"><span class="id" title="lemma">pinned_ptr_pure_divide_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_type_divide_1" class="idref" href="#pinned_ptr_type_divide_1"><span class="id" title="lemma">pinned_ptr_type_divide_1</span></a> <a id="va:431" class="idref" href="#va:431"><span class="id" title="binder">va</span></a> <a id="n:432" class="idref" href="#n:432"><span class="id" title="binder">n</span></a> <a id="p:433" class="idref" href="#p:433"><span class="id" title="binder">p</span></a> <a id="ty:434" class="idref" href="#ty:434"><span class="id" title="binder">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:435" class="idref" href="#Hal:435"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:434"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:432"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:434"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:433"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:431"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:433"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:432"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:431"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_eq"><span class="id" title="definition">pinned_ptr_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="definition">pinned_ptr_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#? #(? &amp; _)". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_pure_type_divide_1"><span class="id" title="lemma">pinned_ptr_pure_type_divide_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_pinned_ptr_sub" class="idref" href="#shift_pinned_ptr_sub"><span class="id" title="lemma">shift_pinned_ptr_sub</span></a> <a id="ty:436" class="idref" href="#ty:436"><span class="id" title="binder">ty</span></a> <a id="z:437" class="idref" href="#z:437"><span class="id" title="binder">z</span></a> <a id="va:438" class="idref" href="#va:438"><span class="id" title="binder">va</span></a> (<a id="p1:439" class="idref" href="#p1:439"><span class="id" title="binder">p1</span></a> <a id="p2:440" class="idref" href="#p2:440"><span class="id" title="binder">p2</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o:441" class="idref" href="#o:441"><span class="id" title="binder">o</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:436"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:441"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:439"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:436"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:437"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:440"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:440"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:438"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:439"><span class="id" title="variable">p1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:438"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:437"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:441"><span class="id" title="variable">o</span></a>)) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:440"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">o_eq</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[val pin1]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_pinned_ptr"><span class="id" title="lemma">offset_pinned_ptr</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "val"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_o_sub"><span class="id" title="axiom">eval_o_sub</span></a> <span class="id" title="var">o_eq</span> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_comm"><span class="id" title="lemma">Z.mul_comm</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="_valid_valid" class="idref" href="#_valid_valid"><span class="id" title="lemma">_valid_valid</span></a> <a id="p:442" class="idref" href="#p:442"><span class="id" title="binder">p</span></a> <a id="vt:443" class="idref" href="#vt:443"><span class="id" title="binder">vt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:443"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:442"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:442"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">vt</span> =&gt; [|//]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="valid_ptr_sub" class="idref" href="#valid_ptr_sub"><span class="id" title="lemma">valid_ptr_sub</span></a> (<a id="i:444" class="idref" href="#i:444"><span class="id" title="binder">i</span></a> <a id="j:445" class="idref" href="#j:445"><span class="id" title="binder">j</span></a> <a id="k:446" class="idref" href="#k:446"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="p:447" class="idref" href="#p:447"><span class="id" title="binder">p</span></a> <a id="ty:448" class="idref" href="#ty:448"><span class="id" title="binder">ty</span></a> <a id="vt:449" class="idref" href="#vt:449"><span class="id" title="binder">vt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hj:450" class="idref" href="#Hj:450"><span class="id" title="binder">Hj</span></a> : (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:444"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:445"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:446"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:449"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:447"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:448"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:444"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:449"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:447"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:448"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:446"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:447"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:448"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:445"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)) <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">Hne</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_valid"><span class="id" title="lemma">_valid_valid</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "_ $". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="_valid_ptr_field_sub" class="idref" href="#_valid_ptr_field_sub"><span class="id" title="lemma">_valid_ptr_field_sub</span></a> (<a id="i:451" class="idref" href="#i:451"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="p:452" class="idref" href="#p:452"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:453" class="idref" href="#ty:453"><span class="id" title="binder">ty</span></a> <a id="f:454" class="idref" href="#f:454"><span class="id" title="binder">f</span></a> <a id="vt:455" class="idref" href="#vt:455"><span class="id" title="binder">vt</span></a> (<a id="Hle:456" class="idref" href="#Hle:456"><span class="id" title="binder">Hle</span></a> : (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:451"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:455"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:452"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:454"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:453"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:451"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:455"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:452"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:454"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "V". <span class="id" title="tactic">case</span>: (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">Z</span>) <span class="id" title="var">Hle</span> =&gt; [-&gt; <span class="id" title="var">_</span>|<span class="id" title="var">Hne</span> <span class="id" title="var">Hle</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_o_sub_size"><span class="id" title="axiom">valid_o_sub_size</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_sub_0"><span class="id" title="lemma">offset_ptr_sub_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">vt</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="o_derived_base_type" class="idref" href="#o_derived_base_type"><span class="id" title="lemma">o_derived_base_type</span></a> <a id="p:457" class="idref" href="#p:457"><span class="id" title="binder">p</span></a> <a id="base:458" class="idref" href="#base:458"><span class="id" title="binder">base</span></a> <a id="derived:459" class="idref" href="#derived:459"><span class="id" title="binder">derived</span></a> <a id="ty:460" class="idref" href="#ty:460"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:460"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:457"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:458"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:459"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:457"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:458"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:459"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:459"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:458"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:457"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#o_derived_base"><span class="id" title="axiom">o_derived_base</span></a> <span class="id" title="var">p</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">_inv</span></span> because unlike <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.type_ptr_o_base"><span class="id" title="axiom">type_ptr_o_base</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.type_ptr_o_field_type_ptr"><span class="id" title="axiom">type_ptr_o_field_type_ptr</span></a></span>,
  this lemma fits the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o</span>)</span> <span class="inlinecode">⊢</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> schema instead of the
  converse. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_ptr_o_derived_inv" class="idref" href="#type_ptr_o_derived_inv"><span class="id" title="lemma">type_ptr_o_derived_inv</span></a> <a id="derived:461" class="idref" href="#derived:461"><span class="id" title="binder">derived</span></a> <a id="base:462" class="idref" href="#base:462"><span class="id" title="binder">base</span></a> <a id="p:463" class="idref" href="#p:463"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#class_derives"><span class="id" title="class">class_derives</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:461"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:462"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:461"><span class="id" title="variable">derived</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:463"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._derived"><span class="id" title="abbreviation">_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:462"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:461"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:462"><span class="id" title="variable">base</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:463"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hcd</span>) "T".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#o_derived_base_type"><span class="id" title="lemma">o_derived_base_type</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "T"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_o_base"><span class="id" title="axiom">type_ptr_o_base</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcd</span>) <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a></span> is a valid pointer value in the sense of the standard, or
  "standard-valid" (https://eel.is/c++draft/basic.compound3.1), that is both
  valid (in our sense) and live.

  In particular, [p] is a valid pointer value even when accounting for
  pointer zapping.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="_valid_live_ptr" class="idref" href="#_valid_live_ptr"><span class="id" title="definition">_valid_live_ptr</span></a> <a id="vt:464" class="idref" href="#vt:464"><span class="id" title="binder">vt</span></a> (<a id="p:465" class="idref" href="#p:465"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:464"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:465"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:465"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="valid_live_ptr" class="idref" href="#valid_live_ptr"><span class="id" title="definition">valid_live_ptr</span></a> <a id="p:466" class="idref" href="#p:466"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_live_ptr"><span class="id" title="definition">_valid_live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:466"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="strict_valid_live_ptr" class="idref" href="#strict_valid_live_ptr"><span class="id" title="definition">strict_valid_live_ptr</span></a> <a id="p:467" class="idref" href="#p:467"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_live_ptr"><span class="id" title="definition">_valid_live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:467"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="tptsto_flip_mono" class="idref" href="#tptsto_flip_mono"><span class="id" title="instance">tptsto_flip_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#43a705d40096ef54c52f70536b49dc5b"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto_mono"><span class="id" title="axiom">tptsto_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="tptsto_as_fractional" class="idref" href="#tptsto_as_fractional"><span class="id" title="instance">tptsto_as_fractional</span></a> <a id="ty:468" class="idref" href="#ty:468"><span class="id" title="binder">ty</span></a> <a id="q:469" class="idref" href="#q:469"><span class="id" title="binder">q</span></a> <a id="a:470" class="idref" href="#a:470"><span class="id" title="binder">a</span></a> <a id="v:471" class="idref" href="#v:471"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#AsFractional"><span class="id" title="class">AsFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:468"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:469"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a:470"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:471"><span class="id" title="variable">v</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:472" class="idref" href="#q:472"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:468"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:472"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a:470"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:471"><span class="id" title="variable">v</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:469"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#Build_AsFractional"><span class="id" title="constructor">Build_AsFractional</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="identity_as_fractional" class="idref" href="#identity_as_fractional"><span class="id" title="instance">identity_as_fractional</span></a> <a id="this:473" class="idref" href="#this:473"><span class="id" title="binder">this</span></a> <a id="mdc:474" class="idref" href="#mdc:474"><span class="id" title="binder">mdc</span></a> <a id="p:475" class="idref" href="#p:475"><span class="id" title="binder">p</span></a> <a id="q:476" class="idref" href="#q:476"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#AsFractional"><span class="id" title="class">AsFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#identity"><span class="id" title="axiom">identity</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:473"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:474"><span class="id" title="variable">mdc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:476"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:475"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:477" class="idref" href="#q:477"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#identity"><span class="id" title="axiom">identity</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:473"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:474"><span class="id" title="variable">mdc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:477"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:475"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:476"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#Build_AsFractional"><span class="id" title="constructor">Build_AsFractional</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="tptsto_observe_nonnull" class="idref" href="#tptsto_observe_nonnull"><span class="id" title="instance">tptsto_observe_nonnull</span></a> <a id="t:478" class="idref" href="#t:478"><span class="id" title="binder">t</span></a> <a id="q:479" class="idref" href="#q:479"><span class="id" title="binder">q</span></a> <a id="p:480" class="idref" href="#p:480"><span class="id" title="binder">p</span></a> <a id="v:481" class="idref" href="#v:481"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:480"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:478"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:479"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:480"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:481"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro"><span class="id" title="lemma">observe_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_eq_dec"><span class="id" title="axiom">ptr_eq_dec</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>); <span class="id" title="tactic">subst</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto_nonnull"><span class="id" title="axiom">tptsto_nonnull</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.False_elim"><span class="id" title="lemma">bi.False_elim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tptsto_disjoint" class="idref" href="#tptsto_disjoint"><span class="id" title="lemma">tptsto_disjoint</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:482" class="idref" href="#ty:482"><span class="id" title="binder">ty</span></a> <a id="p:483" class="idref" href="#p:483"><span class="id" title="binder">p</span></a> <a id="v1:484" class="idref" href="#v1:484"><span class="id" title="binder">v1</span></a> <a id="v2:485" class="idref" href="#v2:485"><span class="id" title="binder">v2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:482"><span class="id" title="variable">ty</span></a> 1 <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:483"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:484"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:482"><span class="id" title="variable">ty</span></a> 1 <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:483"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:485"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> *; <span class="id" title="var">iIntros</span> "[T1 T2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe_2_elim_pure"><span class="id" title="lemma">observe_2_elim_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "T1 T2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto_val_related_transport"><span class="id" title="axiom">tptsto_val_related_transport</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">Hvs</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "T1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "T2'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iCombine</span> "T2 T2'" <span class="id" title="keyword">as</span> "T".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto_frac_valid"><span class="id" title="axiom">tptsto_frac_valid</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "T"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">L</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab89"></a><h3 class="section">Just wrappers.</h3>
 We can lift validity entailments through <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="record">Observe</span></a></span> (using
  <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.observe.html#Observe_mono"><span class="id" title="instance">Observe_mono</span></a></span>. These are not instances, to avoid causing slowdowns in
  proof search. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="observe_strict_valid_valid" class="idref" href="#observe_strict_valid_valid"><span class="id" title="lemma">observe_strict_valid_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="Hobs:488" class="idref" href="#Hobs:488"><span class="id" title="binder">Hobs</span></a> : !<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a id="p:486" class="idref" href="#p:486"><span class="id" title="binder">p</span></a>) <a id="P:487" class="idref" href="#P:487"><span class="id" title="binder">P</span></a>) : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:486"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P:487"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="observe_type_ptr_strict_valid" class="idref" href="#observe_type_ptr_strict_valid"><span class="id" title="lemma">observe_type_ptr_strict_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="Hobs:492" class="idref" href="#Hobs:492"><span class="id" title="binder">Hobs</span></a> : !<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a id="ty:489" class="idref" href="#ty:489"><span class="id" title="binder">ty</span></a> <a id="p:490" class="idref" href="#p:490"><span class="id" title="binder">p</span></a>) <a id="P:491" class="idref" href="#P:491"><span class="id" title="binder">P</span></a>) : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:490"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P:491"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="observe_type_ptr_valid_plus_one" class="idref" href="#observe_type_ptr_valid_plus_one"><span class="id" title="lemma">observe_type_ptr_valid_plus_one</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="Hobs:496" class="idref" href="#Hobs:496"><span class="id" title="binder">Hobs</span></a> : !<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a id="ty:493" class="idref" href="#ty:493"><span class="id" title="binder">ty</span></a> <a id="p:494" class="idref" href="#p:494"><span class="id" title="binder">p</span></a>) <a id="P:495" class="idref" href="#P:495"><span class="id" title="binder">P</span></a>) : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:494"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:493"><span class="id" title="variable">ty</span></a> 1)) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P:495"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_valid_plus_one"><span class="id" title="axiom">type_ptr_valid_plus_one</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_ptr_valid" class="idref" href="#type_ptr_valid"><span class="id" title="lemma">type_ptr_valid</span></a> <a id="ty:497" class="idref" href="#ty:497"><span class="id" title="binder">ty</span></a> <a id="p:498" class="idref" href="#p:498"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:497"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:498"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:498"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_size_observe" class="idref" href="#type_ptr_size_observe"><span class="id" title="instance">type_ptr_size_observe</span></a> <a id="ty:499" class="idref" href="#ty:499"><span class="id" title="binder">ty</span></a> <a id="p:500" class="idref" href="#p:500"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:499"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:499"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:500"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_size"><span class="id" title="axiom">type_ptr_size</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="valid_ptr_sub_0" class="idref" href="#valid_ptr_sub_0"><span class="id" title="instance">valid_ptr_sub_0</span></a> (<a id="p:501" class="idref" href="#p:501"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ty:502" class="idref" href="#ty:502"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#HasSize"><span class="id" title="class">HasSize</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:502"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:501"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:502"><span class="id" title="variable">ty</span></a> 0)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:501"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> // <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_sub_0" class="idref" href="#type_ptr_sub_0"><span class="id" title="instance">type_ptr_sub_0</span></a> (<a id="p:503" class="idref" href="#p:503"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ty:504" class="idref" href="#ty:504"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#HasSize"><span class="id" title="class">HasSize</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:504"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:503"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:504"><span class="id" title="variable">ty</span></a> 0)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:504"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:503"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_valid"><span class="id" title="lemma">type_ptr_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_sub_0"><span class="id" title="instance">valid_ptr_sub_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_valid_ptr_next" class="idref" href="#type_ptr_valid_ptr_next"><span class="id" title="instance">type_ptr_valid_ptr_next</span></a> (<a id="p:505" class="idref" href="#p:505"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ty:506" class="idref" href="#ty:506"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="m:507" class="idref" href="#m:507"><span class="id" title="binder">m</span></a> <a id="n:508" class="idref" href="#n:508"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#m:507"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:508"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:505"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:506"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#m:507"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:506"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:505"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:506"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:508"><span class="id" title="variable">n</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "X"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "z".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#observe_type_ptr_valid_plus_one"><span class="id" title="lemma">observe_type_ptr_valid_plus_one</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub_sub"><span class="id" title="lemma">o_sub_sub</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_alloc_refl" class="idref" href="#same_alloc_refl"><span class="id" title="lemma">same_alloc_refl</span></a> <a id="p:509" class="idref" href="#p:509"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:509"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:509"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:509"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>. <span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">case</span>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="live_has_alloc_id" class="idref" href="#live_has_alloc_id"><span class="id" title="lemma">live_has_alloc_id</span></a> <a id="p:510" class="idref" href="#p:510"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:510"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="aid:511" class="idref" href="#aid:511"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:510"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:511"><span class="id" title="variable">aid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:511"><span class="id" title="variable">aid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_ptr"><span class="id" title="definition">live_ptr</span></a>; <span class="id" title="var">iIntros</span>. <span class="id" title="tactic">case</span>: (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <span class="id" title="var">p</span>) =&gt; /= [<span class="id" title="var">aid</span>|]; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
