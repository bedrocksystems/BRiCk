<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.pred</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2023&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
</div>

<div class="doc">
This file defines the core logic (called <span class="inlinecode"><a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a></span>) that we use
    for C++.

<div class="paragraph"> </div>

    Known issues:
<ul class="doclist">
<li> currently the logic is sequentially consistent

</li>
<li> the memory model is simplified from the standard C++ memory
      model.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">elpi.apps.locker</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">bedrock.prelude.addr</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.prelude.html#"><span class="id" title="library">bedrock.lang.bi.prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.observe.html#"><span class="id" title="library">bedrock.lang.bi.observe</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.spec.knowledge.html#"><span class="id" title="library">bedrock.lang.bi.spec.knowledge</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.mpred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.rep.html#"><span class="id" title="library">bedrock.lang.cpp.logic.rep</span></a>.<br/>
</div>

<div class="doc">
^^ Delicate; export types and canonical structures (CS) for <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.weakly_objective.html#monPred"><span class="id" title="abbreviation">monPred</span></a></span>, <span class="inlinecode"><a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a></span>.
Export order can affect CS inference. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#"><span class="id" title="library">bedrock.lang.cpp.algebra.cfrac</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#"><span class="id" title="library">bedrock.lang.cpp.bi.cfractional</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#"><span class="id" title="library">iris.base_logic.lib.iprop</span></a>.<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;^^&nbsp;only&nbsp;needed&nbsp;to&nbsp;export&nbsp;uPredI,&nbsp;should&nbsp;be&nbsp;removed.&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#"><span class="id" title="library">iris.bi.lib.fractional</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.proofmode.proofmode.html#"><span class="id" title="library">bedrock.lang.proofmode.proofmode</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.na_invariants.html#"><span class="id" title="library">bedrock.lang.bi.na_invariants</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#"><span class="id" title="library">bedrock.lang.bi.cancelable_invariants</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.prelude.html#ChargeNotation"><span class="id" title="module">ChargeNotation</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#"><span class="id" title="library">bedrock.lang.cpp.bi.cfractional</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.names</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.types</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.typing</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.translation_unit</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#"><span class="id" title="library">bedrock.lang.cpp.semantics.values</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#"><span class="id" title="library">bedrock.lang.cpp.semantics.subtyping</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="keyword">Printing</span> <span class="id" title="var">Coercions</span>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="validity_type" class="idref" href="#validity_type"><span class="id" title="inductive">validity_type</span></a> : <span class="id" title="keyword">Set</span> := <a id="Strict" class="idref" href="#Strict"><span class="id" title="constructor">Strict</span></a> | <a id="Relaxed" class="idref" href="#Relaxed"><span class="id" title="constructor">Relaxed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">vt</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#validity_type"><span class="id" title="inductive">validity_type</span></a>) (σ <span class="id" title="var">resolve</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<span class="id" title="var">z</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Namespace&nbsp;for&nbsp;the&nbsp;invariants&nbsp;of&nbsp;the&nbsp;C++&nbsp;abstraction's&nbsp;ghost&nbsp;state.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="pred_ns" class="idref" href="#pred_ns"><span class="id" title="definition">pred_ns</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#namespace"><span class="id" title="definition">namespace</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#nroot"><span class="id" title="definition">nroot</span></a> <span class="id" title="notation">.@@</span> "bedrock" <span class="id" title="notation">.@@</span> "lang" <span class="id" title="notation">.@@</span> "cpp_logic".<br/>

<br/>
<span class="comment">(*&nbsp;Used&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">has_type_prop_has_type_noptr</span></span>.&nbsp;No&nbsp;theory.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="nonptr_prim_type" class="idref" href="#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a> <a id="ty:3" class="idref" href="#ty:3"><span class="id" title="binder">ty</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#drop_qualifiers"><span class="id" title="definition">drop_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:3"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tfloat_"><span class="id" title="constructor">Tfloat_</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tchar_"><span class="id" title="constructor">Tchar_</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tbool"><span class="id" title="constructor">Tbool</span></a> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tenum"><span class="id" title="constructor">Tenum</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tpointer"><span class="id" title="abbreviation">Tpointer</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <span class="id" title="var">_</span> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nonptr_prim_type_erase_qualifiers" class="idref" href="#nonptr_prim_type_erase_qualifiers"><span class="id" title="lemma">nonptr_prim_type_erase_qualifiers</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:4" class="idref" href="#ty:4"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:4"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:4"><span class="id" title="variable">ty</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="CPP_LOGIC" class="idref" href="#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">INTF</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_FUNCTOR"><span class="id" title="module">VALUES_INTF_FUNCTOR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P"><span class="id" title="module">P</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">CC</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS"><span class="id" title="module">CPP_LOGIC_CLASS</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp" class="idref" href="#CPP_LOGIC.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
</div>

<div class="doc">
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> is a persistent assertion that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> is a <i>valid pointer</i>, that is:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> can point to a function or a (possibly dead) object <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span>

</li>
<li> if <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a></span>, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> can be nullptr, or past-the-end of a (possibly dead) object <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span>.

</li>
</ul>
      In particular, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> prevents producing <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> by incrementing
      past-the-end pointers into overflow territory.

<div class="paragraph"> </div>

      Our definition of validity includes all cases in which a pointer is not
      an <i>invalid pointer value</i> in the sense of the standard
      (https://eel.is/c++draft/basic.compound3.1), except that our concept
      of validity survives deallocation; a pointer is only valid according to
      the standard (or "standard-valid") if it is _both_ valid ([_valid_ptr
      vt p]) and live ([live_ptr p]); we require both where needed (e.g.
      [eval_ptr_eq]).

      When the duration of a region of storage ends [note 1], contained objects [o] go
      from live to dead, and pointers to such objects become _dangling_, or
      _invalid pointer values_ (https://eel.is/c++draft/basic.compound3.1);
      this is called <i>pointer zapping</i> <span class="inlinecode"><span class="id" title="var">note</span></span> <span class="inlinecode">1</span>.
      In our semantics, that only consumes the non-persistent predicate
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span>, not the persistent predicate <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">vt</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span>.

<div class="paragraph"> </div>

      Following Cerberus, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a></span> tracks liveness per allocation
      ID (see comments for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a></span>), and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a></span> is derived from it. Hence,
      a pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> past-the-end of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> also becomes dangling when <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> is
      deallocated.

<div class="paragraph"> </div>

      It's implementation-defined whether invalid pointer values are
      (non-copyable) trap representations. Instead, we restrict to
      implementations where dangling pointers are not trap representations
      (which is allowed, since this choice is implementation-defined) and
      pointer zapping does not actually clear pointers.

<div class="paragraph"> </div>

      <span class="inlinecode"><span class="id" title="var">Note</span></span> <span class="inlinecode">1</span>. See https://eel.is/c++draft/basic.stc.general4 and
      https://eel.is/c++draft/basic.compound3.1 for C++, and
      http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2369.pdf for
      discussion in the context of the C standard.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC._valid_ptr" class="idref" href="#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:7" class="idref" href="#cpp_logic0:7"><span class="id" title="binder">!</span></a><a id="cpp_logic0:7" class="idref" href="#cpp_logic0:7"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:5" class="idref" href="#thread_info:5"><span class="id" title="binder"><span id="cpp_logic0:7" class="id">thread_info</span></span></a> <a id="f525610baade8c1419220d275a93fff0" class="idref" href="#f525610baade8c1419220d275a93fff0"><span class="id" title="binder"><span id="cpp_logic0:7" class="id">Σ</span></span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="vt:8" class="idref" href="#vt:8"><span class="id" title="binder">vt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#validity_type"><span class="id" title="inductive">validity_type</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;strict&nbsp;validity&nbsp;(not&nbsp;past-the-end)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.strict_valid_ptr" class="idref" href="#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;validity&nbsp;(past-the-end&nbsp;allowed)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.valid_ptr" class="idref" href="#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:12" class="idref" href="#H:12"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC._valid_ptr_persistent" class="idref" href="#CPP_LOGIC._valid_ptr_persistent"><span class="id" title="axiom">_valid_ptr_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:13" class="idref" href="#b:13"><span class="id" title="binder">b</span></a> <a id="p:14" class="idref" href="#p:14"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b:13"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:14"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC._valid_ptr_affine" class="idref" href="#CPP_LOGIC._valid_ptr_affine"><span class="id" title="axiom">_valid_ptr_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:16" class="idref" href="#b:16"><span class="id" title="binder">b</span></a> <a id="p:17" class="idref" href="#p:17"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b:16"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:17"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC._valid_ptr_timeless" class="idref" href="#CPP_LOGIC._valid_ptr_timeless"><span class="id" title="axiom">_valid_ptr_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b:19" class="idref" href="#b:19"><span class="id" title="binder">b</span></a> <a id="p:20" class="idref" href="#p:20"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b:19"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:20"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr_persistent"><span class="id" title="axiom">_valid_ptr_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr_affine"><span class="id" title="axiom">_valid_ptr_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr_timeless"><span class="id" title="axiom">_valid_ptr_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.valid_ptr_nullptr" class="idref" href="#CPP_LOGIC.valid_ptr_nullptr"><span class="id" title="axiom">valid_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.not_strictly_valid_ptr_nullptr" class="idref" href="#CPP_LOGIC.not_strictly_valid_ptr_nullptr"><span class="id" title="axiom">not_strictly_valid_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.strict_valid_valid" class="idref" href="#CPP_LOGIC.strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:24" class="idref" href="#p:24"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:24"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:24"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> is an approximation in <span class="inlinecode"><a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a></span> of "<span class="inlinecode"><span class="id" title="var">v</span></span> is an initialized value
    of type <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#float_type.t"><span class="id" title="inductive">t</span></a></span>." This is intended to be preserved by the C++ type system.
    TODO: include in <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.prim.html#primR"><span class="id" title="module">primR</span></a></span>.
    TODO: refine for which types https://bedrocksystems.atlassian.net/browse/FM-3760
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.has_type" class="idref" href="#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:28" class="idref" href="#cpp_logic0:28"><span class="id" title="binder">!</span></a><a id="cpp_logic0:28" class="idref" href="#cpp_logic0:28"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:26" class="idref" href="#thread_info:26"><span class="id" title="binder"><span id="cpp_logic0:28" class="id">thread_info</span></span></a> <a id="2ce23d418d95c371330ae00e4301f160" class="idref" href="#2ce23d418d95c371330ae00e4301f160"><span class="id" title="binder"><span id="cpp_logic0:28" class="id">Σ</span></span></a>} {<a id="41fad5ed30e0ddd6aae2f148cb138a09" class="idref" href="#41fad5ed30e0ddd6aae2f148cb138a09"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.has_type_mono" class="idref" href="#CPP_LOGIC.has_type_mono"><span class="id" title="instance">has_type_mono</span></a> `{<a id="H:33" class="idref" href="#H:33"><span class="id" title="binder">cpp_logic</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
       <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> states that the location <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> stores a value of type <span class="inlinecode"><span class="id" title="var">ty</span></span>.
       Being a reference is stronger than being a pointer because pointers allow
       past-the-end pointers while references do not.

<div class="paragraph"> </div>

       This should be thought of as closely related to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VAL_MIXIN.Vref"><span class="id" title="abbreviation">Vref</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a>)</span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span> <span class="inlinecode"><span class="id" title="var">ty</span>)</span>
       except that it holds on types that are not valid C++ types. For example,
       if
       <code>
</code>       struct C { int&amp; r; } x;
       &gt;&gt;
       then <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tint"><span class="id" title="abbreviation">Tint</span></a>)</span> <span class="inlinecode">(<span class="id" title="var">x</span></span> <span class="inlinecode">.,</span> <span class="inlinecode">``::<a class="idref" href="bedrock.lang.algebra.coGset.html#C"><span class="id" title="abbreviation">C</span></a>::<span class="id" title="var">r</span>``)</span>.

<div class="paragraph"> </div>

       In the future, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VAL_MIXIN.Vref"><span class="id" title="abbreviation">Vref</span></a></span> <span class="inlinecode">(<span class="id" title="var">x</span></span> <span class="inlinecode">.,</span> <span class="inlinecode">``::<a class="idref" href="bedrock.lang.algebra.coGset.html#C"><span class="id" title="abbreviation">C</span></a>::<span class="id" title="var">r</span>``))</span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tint"><span class="id" title="abbreviation">Tint</span></a>))</span>
       may not hold since <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tint"><span class="id" title="abbreviation">Tint</span></a>)</span> is not a valid C++ type. The
       current blocker to this is that we use <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> to represent
       ownership of references. This would need to change.

<div class="paragraph"> </div>

       Note that the following code is (currently?) legal according to our
       semantics:
       <code>
</code>       { long x; *static_cast&lt;int*&gt;(&amp;x); }
       &gt;&gt;
       because <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a></span> only guarantees alignment, not anything
       about the dynamic type of the object. Requiring a property of the dynamic
       type of the object would require us to carry type information in
       <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a></span> (which would make it something like a pre-construction
       state of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span>).
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.reference_to" class="idref" href="#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:36" class="idref" href="#cpp_logic0:36"><span class="id" title="binder">!</span></a><a id="cpp_logic0:36" class="idref" href="#cpp_logic0:36"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:34" class="idref" href="#thread_info:34"><span class="id" title="binder"><span id="cpp_logic0:36" class="id">thread_info</span></span></a> <a id="9ea391fdfca2d92fa2d39490b0221e9c" class="idref" href="#9ea391fdfca2d92fa2d39490b0221e9c"><span class="id" title="binder"><span id="cpp_logic0:36" class="id">Σ</span></span></a>} {<a id="94078804e95e06d93abd3f704373ee2e" class="idref" href="#94078804e95e06d93abd3f704373ee2e"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.reference_to_mono" class="idref" href="#CPP_LOGIC.reference_to_mono"><span class="id" title="instance">reference_to_mono</span></a> `{<a id="H:41" class="idref" href="#H:41"><span class="id" title="binder">cpp_logic</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_genv" class="idref" href="#CPP_LOGIC.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:44" class="idref" href="#H:44"><span class="id" title="binder">cpp_logic</span></a>} {<a id="12746024225e12b6f4dadf863db7b551" class="idref" href="#12746024225e12b6f4dadf863db7b551"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.has_type_knowledge" class="idref" href="#CPP_LOGIC.has_type_knowledge"><span class="id" title="instance">has_type_knowledge</span></a> : <a class="idref" href="bedrock.lang.bi.spec.knowledge.html#Knowledge2"><span class="id" title="abbreviation">Knowledge2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.has_type_timeless" class="idref" href="#CPP_LOGIC.has_type_timeless"><span class="id" title="instance">has_type_timeless</span></a> : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless2"><span class="id" title="abbreviation">Timeless2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_has_type_prop" class="idref" href="#CPP_LOGIC.has_type_has_type_prop"><span class="id" title="axiom">has_type_has_type_prop</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="v:46" class="idref" href="#v:46"><span class="id" title="binder">v</span></a> <a id="ty:47" class="idref" href="#ty:47"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:46"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:47"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:46"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:47"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_prop_has_type_noptr" class="idref" href="#CPP_LOGIC.has_type_prop_has_type_noptr"><span class="id" title="axiom">has_type_prop_has_type_noptr</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="v:49" class="idref" href="#v:49"><span class="id" title="binder">v</span></a> <a id="ty:50" class="idref" href="#ty:50"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:50"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:49"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:50"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:49"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:50"><span class="id" title="variable">ty</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">has_type</span></span>&nbsp;is&nbsp;independent&nbsp;of&nbsp;qualifiers.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;allows&nbsp;casting&nbsp;betweeen&nbsp;<span class="inlinecode"><span class="id" title="var">const</span></span>&nbsp;and&nbsp;non-<span class="inlinecode"><span class="id" title="var">const</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_erase_qualifiers" class="idref" href="#CPP_LOGIC.has_type_erase_qualifiers"><span class="id" title="axiom">has_type_erase_qualifiers</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="ty:52" class="idref" href="#ty:52"><span class="id" title="binder">ty</span></a> <a id="v:53" class="idref" href="#v:53"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:53"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:52"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:53"><span class="id" title="variable">v</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:52"><span class="id" title="variable">ty</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Internal&nbsp;statements:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_nullptr'" class="idref" href="#CPP_LOGIC.has_type_nullptr'"><span class="id" title="axiom">has_type_nullptr'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:55" class="idref" href="#p:55"><span class="id" title="binder">p</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:55"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:55"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_ptr'" class="idref" href="#CPP_LOGIC.has_type_ptr'"><span class="id" title="axiom">has_type_ptr'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:57" class="idref" href="#p:57"><span class="id" title="binder">p</span></a> <a id="ty:58" class="idref" href="#ty:58"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:57"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tpointer"><span class="id" title="abbreviation">Tpointer</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:58"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:57"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:58"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:57"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;These&nbsp;two&nbsp;definitions&nbsp;are&nbsp;needed&nbsp;because&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto_has_type</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_ref'" class="idref" href="#CPP_LOGIC.has_type_ref'"><span class="id" title="axiom">has_type_ref'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:60" class="idref" href="#p:60"><span class="id" title="binder">p</span></a> <a id="ty:61" class="idref" href="#ty:61"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.Vref"><span class="id" title="abbreviation">Vref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:60"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:61"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:61"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:60"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_rv_ref'" class="idref" href="#CPP_LOGIC.has_type_rv_ref'"><span class="id" title="axiom">has_type_rv_ref'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:63" class="idref" href="#p:63"><span class="id" title="binder">p</span></a> <a id="ty:64" class="idref" href="#ty:64"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.Vref"><span class="id" title="abbreviation">Vref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:63"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:64"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:64"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:63"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.reference_to_knowledge" class="idref" href="#CPP_LOGIC.reference_to_knowledge"><span class="id" title="instance">reference_to_knowledge</span></a> : <a class="idref" href="bedrock.lang.bi.spec.knowledge.html#Knowledge2"><span class="id" title="abbreviation">Knowledge2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.reference_to_timeless" class="idref" href="#CPP_LOGIC.reference_to_timeless"><span class="id" title="instance">reference_to_timeless</span></a> : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless2"><span class="id" title="abbreviation">Timeless2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;this&nbsp;is&nbsp;almost&nbsp;derivable&nbsp;from&nbsp;<span class="inlinecode"><span class="id" title="var">reference_to_intro</span></span>&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">reference_to_elim</span></span>&nbsp;except&nbsp;for&nbsp;the&nbsp;issue&nbsp;with&nbsp;non-standard&nbsp;types.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.reference_to_erase" class="idref" href="#CPP_LOGIC.reference_to_erase"><span class="id" title="axiom">reference_to_erase</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:66" class="idref" href="#ty:66"><span class="id" title="binder">ty</span></a> <a id="p:67" class="idref" href="#p:67"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:66"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:67"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:66"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:67"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
The introduction and elimination forms are not the same
          to avoid using <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a></span> as types that are not C++ types.
          In practice, the only way to prove a <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a></span> is to have
          a <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> assertion.

<div class="paragraph"> </div>

          **A note on 0-sized objects**
          0-sized objects are problematic from the point of view of C++ (they are not
          permitted by the standard, but they are supported by standard compilers).
          The problem with 0-sized objects is that they do not have a unique identity
          but the BRiCk semantics will give them an identity using
          <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.struct_padding"><span class="id" title="axiom">struct_padding</span></a></span>/<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a></span>.

<div class="paragraph"> </div>

          Mitigation: We currently address this by forbidding reasoning about
                      constructors of 0-sized objects.
       
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.reference_to_intro" class="idref" href="#CPP_LOGIC.reference_to_intro"><span class="id" title="axiom">reference_to_intro</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:69" class="idref" href="#ty:69"><span class="id" title="binder">ty</span></a> <a id="p:70" class="idref" href="#p:70"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:70"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:70"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:69"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:69"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:70"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.reference_to_elim" class="idref" href="#CPP_LOGIC.reference_to_elim"><span class="id" title="axiom">reference_to_elim</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:72" class="idref" href="#ty:72"><span class="id" title="binder">ty</span></a> <a id="p:73" class="idref" href="#p:73"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:72"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:73"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:72"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:73"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:73"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:73"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:72"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'emp'"><span class="id" title="notation">emp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:73"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.has_type_or_undef" class="idref" href="#CPP_LOGIC.has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:77" class="idref" href="#cpp_logic0:77"><span class="id" title="binder">!</span></a><a id="cpp_logic0:77" class="idref" href="#cpp_logic0:77"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:75" class="idref" href="#thread_info:75"><span class="id" title="binder"><span id="cpp_logic0:77" class="id">thread_info</span></span></a> <a id="0e0d57bbddb84fea16244eabbdac2294" class="idref" href="#0e0d57bbddb84fea16244eabbdac2294"><span class="id" title="binder"><span id="cpp_logic0:77" class="id">Σ</span></span></a>} {<a id="51e5042b1fbc6f67a0780a423f472369" class="idref" href="#51e5042b1fbc6f67a0780a423f472369"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.has_type_or_undef_unfold" class="idref" href="#CPP_LOGIC.has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="H:82" class="idref" href="#H:82"><span class="id" title="binder">cpp_logic</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="78e95ecd0ac555e18a30c8417ce0c5ad" class="idref" href="#78e95ecd0ac555e18a30c8417ce0c5ad"><span class="id" title="binder">σ</span></a> <a id="v:84" class="idref" href="#v:84"><span class="id" title="binder">v</span></a> <a id="ty:85" class="idref" href="#ty:85"><span class="id" title="binder">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:84"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:85"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3a2de85a354f74f4500a62a40ce68fff"><span class="id" title="notation">\\//</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:84"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.Vundef"><span class="id" title="constructor">Vundef</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
Formalizes the notion of "provides storage",
    http://eel.is/c++draft/intro.objectdef:provides_storage 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.provides_storage" class="idref" href="#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:89" class="idref" href="#cpp_logic0:89"><span class="id" title="binder">!</span></a><a id="cpp_logic0:89" class="idref" href="#cpp_logic0:89"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:87" class="idref" href="#thread_info:87"><span class="id" title="binder"><span id="cpp_logic0:89" class="id">thread_info</span></span></a> <a id="585ebae11009187c5bbf3d0dc5e5ef0c" class="idref" href="#585ebae11009187c5bbf3d0dc5e5ef0c"><span class="id" title="binder"><span id="cpp_logic0:89" class="id">Σ</span></span></a>} (<a id="storage:90" class="idref" href="#storage:90"><span class="id" title="binder">storage</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="object:91" class="idref" href="#object:91"><span class="id" title="binder">object</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="object_type:92" class="idref" href="#object_type:92"><span class="id" title="binder">object_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:96" class="idref" href="#H:96"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_persistent" class="idref" href="#CPP_LOGIC.provides_storage_persistent"><span class="id" title="axiom">provides_storage_persistent</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:97" class="idref" href="#storage_ptr:97"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:98" class="idref" href="#obj_ptr:98"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:99" class="idref" href="#ty:99"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:97"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:98"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:99"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_affine" class="idref" href="#CPP_LOGIC.provides_storage_affine"><span class="id" title="axiom">provides_storage_affine</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:101" class="idref" href="#storage_ptr:101"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:102" class="idref" href="#obj_ptr:102"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:103" class="idref" href="#ty:103"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:101"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:102"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:103"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_timeless" class="idref" href="#CPP_LOGIC.provides_storage_timeless"><span class="id" title="axiom">provides_storage_timeless</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:105" class="idref" href="#storage_ptr:105"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:106" class="idref" href="#obj_ptr:106"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:107" class="idref" href="#ty:107"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:105"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:106"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:107"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage_persistent"><span class="id" title="axiom">provides_storage_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage_affine"><span class="id" title="axiom">provides_storage_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage_timeless"><span class="id" title="axiom">provides_storage_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab148"></a><h3 class="section">Typed points-to predicate.</h3>

    Fact <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#float_type.t"><span class="id" title="inductive">t</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#q"><span class="id" title="axiom">q</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode"><span class="id" title="var">v</span></span> asserts the following things:
    1. Pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> points to value <span class="inlinecode"><span class="id" title="var">v</span></span>.
    2. We have fractional ownership <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#q"><span class="id" title="axiom">q</span></a></span> (in the separation logic sense).
    3. Pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> points to a memory location with C++ type <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#float_type.t"><span class="id" title="inductive">t</span></a></span>.
    However:
    1. Value <span class="inlinecode"><span class="id" title="var">v</span></span> need not be initialized.
    2. Hence, <span class="inlinecode"><span class="id" title="var">v</span></span> might not satisfy <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.values.html#HAS_TYPE_MIXIN.with_env.has_type_prop"><span class="id" title="section">has_type_prop</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#float_type.t"><span class="id" title="inductive">t</span></a></span> <span class="inlinecode"><span class="id" title="var">v</span></span>.

<div class="paragraph"> </div>

    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> is only used to represent memory cells that contain
    values representable as a single <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.values.html#VAL_MIXIN.val"><span class="id" title="inductive">val</span></a></span>. This includes:
<ul class="doclist">
<li> value types (see <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#is_value_type"><span class="id" title="definition">is_value_type</span></a></span>), and

</li>
<li> reference types. Note that all gl-values, i.e. x-values (<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a></span>)
      and l-values (<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span>), are represented using <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a></span>.

</li>
</ul>
    These requirements justify the axiom <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto_valid_type"><span class="id" title="instance">tptsto_valid_type</span></a></span>.

<div class="paragraph"> </div>

    We use this predicate both for pointers to actual memory and for pointers to
    C++ locations that are not stored in memory (as an optimization).
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.tptsto" class="idref" href="#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:111" class="idref" href="#cpp_logic0:111"><span class="id" title="binder">!</span></a><a id="cpp_logic0:111" class="idref" href="#cpp_logic0:111"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:109" class="idref" href="#thread_info:109"><span class="id" title="binder"><span id="cpp_logic0:111" class="id">thread_info</span></span></a> <a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder"><span id="cpp_logic0:111" class="id">Σ</span></span></a>} {<a id="c6765da2d84aeeaed4c0765f12390ec0" class="idref" href="#c6765da2d84aeeaed4c0765f12390ec0"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:113" class="idref" href="#t:113"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#heap_type"><span class="id" title="definition">heap_type</span></a>) (<a id="q:114" class="idref" href="#q:114"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="a:115" class="idref" href="#a:115"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="v:116" class="idref" href="#v:116"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.val"><span class="id" title="inductive">val</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:120" class="idref" href="#H:120"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_valid_type" class="idref" href="#CPP_LOGIC.tptsto_valid_type"><span class="id" title="instance">tptsto_valid_type</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="6954d5c2e51d8ac5bcf7341b9ce1d94f" class="idref" href="#6954d5c2e51d8ac5bcf7341b9ce1d94f"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="t:122" class="idref" href="#t:122"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#heap_type"><span class="id" title="definition">heap_type</span></a>) (<a id="q:123" class="idref" href="#q:123"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="a:124" class="idref" href="#a:124"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="v:125" class="idref" href="#v:125"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF.val"><span class="id" title="inductive">val</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#is_heap_type"><span class="id" title="definition">is_heap_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:123"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a:124"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:125"><span class="id" title="variable">v</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_nonnull" class="idref" href="#CPP_LOGIC.tptsto_nonnull"><span class="id" title="axiom">tptsto_nonnull</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="2a63042f06b66c07fa22cdb0da5254ad" class="idref" href="#2a63042f06b66c07fa22cdb0da5254ad"><span class="id" title="binder">σ</span></a>} <a id="ty:127" class="idref" href="#ty:127"><span class="id" title="binder">ty</span></a> <a id="q:128" class="idref" href="#q:128"><span class="id" title="binder">q</span></a> <a id="a:129" class="idref" href="#a:129"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.logic.pred.html#2a63042f06b66c07fa22cdb0da5254ad"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:127"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:128"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#a:129"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_params" class="idref" href="#CPP_LOGIC.tptsto_params"><span class="id" title="instance">tptsto_params</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a>) 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_proper" class="idref" href="#CPP_LOGIC.tptsto_proper"><span class="id" title="instance">tptsto_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_eq"><span class="id" title="definition">genv_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_mono" class="idref" href="#CPP_LOGIC.tptsto_mono"><span class="id" title="instance">tptsto_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_timeless" class="idref" href="#CPP_LOGIC.tptsto_timeless"><span class="id" title="instance">tptsto_timeless</span></a> : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless5"><span class="id" title="abbreviation">Timeless5</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_cfractional" class="idref" href="#CPP_LOGIC.tptsto_cfractional"><span class="id" title="instance">tptsto_cfractional</span></a> {<a id="d498966faf899d987213152e0b48b701" class="idref" href="#d498966faf899d987213152e0b48b701"><span class="id" title="binder">σ</span></a>} <a id="ty:132" class="idref" href="#ty:132"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional2"><span class="id" title="abbreviation">CFractional2</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:132"><span class="id" title="variable">ty</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_cfrac_valid" class="idref" href="#CPP_LOGIC.tptsto_cfrac_valid"><span class="id" title="instance">tptsto_cfrac_valid</span></a> {<a id="85af08f1719ff8502e9dfb1c6af84752" class="idref" href="#85af08f1719ff8502e9dfb1c6af84752"><span class="id" title="binder">σ</span></a>} <a id="t:134" class="idref" href="#t:134"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid2"><span class="id" title="class">CFracValid2</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:134"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_welltyped" class="idref" href="#CPP_LOGIC.tptsto_welltyped"><span class="id" title="instance">tptsto_welltyped</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="2d672bc5ea0a22cd3c832b66f9766189" class="idref" href="#2d672bc5ea0a22cd3c832b66f9766189"><span class="id" title="binder">σ</span></a>} <a id="p:136" class="idref" href="#p:136"><span class="id" title="binder">p</span></a> <a id="ty:137" class="idref" href="#ty:137"><span class="id" title="binder">ty</span></a> <a id="q:138" class="idref" href="#q:138"><span class="id" title="binder">q</span></a> <a id="v:139" class="idref" href="#v:139"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:139"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:137"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:137"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:138"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:136"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:139"><span class="id" title="variable">v</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_reference_to" class="idref" href="#CPP_LOGIC.tptsto_reference_to"><span class="id" title="instance">tptsto_reference_to</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="8e78b00a890ae7b98d81e3dd364b7c0d" class="idref" href="#8e78b00a890ae7b98d81e3dd364b7c0d"><span class="id" title="binder">σ</span></a>} <a id="p:141" class="idref" href="#p:141"><span class="id" title="binder">p</span></a> <a id="ty:142" class="idref" href="#ty:142"><span class="id" title="binder">ty</span></a> <a id="q:143" class="idref" href="#q:143"><span class="id" title="binder">q</span></a> <a id="v:144" class="idref" href="#v:144"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.reference_to"><span class="id" title="axiom">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:142"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:141"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:142"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:143"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:141"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:144"><span class="id" title="variable">v</span></a>).<br/>

<br/>
</div>

<div class="doc">
    NOTE: We'll eventually need the stronger <span class="inlinecode"><span class="id" title="var">tptsto_learn</span></span> <span class="inlinecode">:</span> <span class="inlinecode">∀</span> <span class="inlinecode">{σ}</span> <span class="inlinecode"><span class="id" title="var">ty</span></span>
    <span class="inlinecode"><span class="id" title="var">q1</span></span> <span class="inlinecode"><span class="id" title="var">q2</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode"><span class="id" title="var">v1</span></span> <span class="inlinecode"><span class="id" title="var">v2</span>,</span> <span class="inlinecode">&lt;<span class="id" title="var">absorb</span>&gt;</span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">q1</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode"><span class="id" title="var">v1</span>)</span> <span class="inlinecode">//\\</span> <span class="inlinecode">&lt;<span class="id" title="var">absorb</span>&gt;</span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span>
    <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">q2</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode"><span class="id" title="var">v2</span>)</span> <span class="inlinecode">|--</span> <span class="inlinecode">[!</span> <span class="inlinecode"><span class="id" title="var">v1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">v2</span></span> <span class="inlinecode">!]</span> but setting up the proof in
    <span class="inlinecode"><span class="id" title="library">simple_pred</span></span> now would be a bit of a digression.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.tptsto_agree" class="idref" href="#CPP_LOGIC.tptsto_agree"><span class="id" title="instance">tptsto_agree</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="e3e0deaf2c894e3eaf987f9981599a59" class="idref" href="#e3e0deaf2c894e3eaf987f9981599a59"><span class="id" title="binder">σ</span></a>} <a id="ty:146" class="idref" href="#ty:146"><span class="id" title="binder">ty</span></a> <a id="q1:147" class="idref" href="#q1:147"><span class="id" title="binder">q1</span></a> <a id="q2:148" class="idref" href="#q2:148"><span class="id" title="binder">q2</span></a> <a id="p:149" class="idref" href="#p:149"><span class="id" title="binder">p</span></a> <a id="v1:150" class="idref" href="#v1:150"><span class="id" title="binder">v1</span></a> <a id="v2:151" class="idref" href="#v2:151"><span class="id" title="binder">v2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:150"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:151"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:146"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q1:147"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:149"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:150"><span class="id" title="variable">v1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:146"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q2:148"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:149"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:151"><span class="id" title="variable">v2</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
The allocation is alive. Neither persistent nor fractional.
      See https://eel.is/c++draft/basic.stc.general4 and
      https://eel.is/c++draft/basic.compound3.1.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.live_alloc_id" class="idref" href="#CPP_LOGIC.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:154" class="idref" href="#cpp_logic0:154"><span class="id" title="binder">!</span></a><a id="cpp_logic0:154" class="idref" href="#cpp_logic0:154"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:152" class="idref" href="#thread_info:152"><span class="id" title="binder"><span id="cpp_logic0:154" class="id">thread_info</span></span></a> <a id="7a945b9afea37aaa6ce61e5e6cdd6206" class="idref" href="#7a945b9afea37aaa6ce61e5e6cdd6206"><span class="id" title="binder"><span id="cpp_logic0:154" class="id">Σ</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:158" class="idref" href="#H:158"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.live_alloc_id_timeless" class="idref" href="#CPP_LOGIC.live_alloc_id_timeless"><span class="id" title="axiom">live_alloc_id_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:159" class="idref" href="#aid:159"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:159"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_alloc_id_timeless"><span class="id" title="axiom">live_alloc_id_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.valid_ptr_alloc_id" class="idref" href="#CPP_LOGIC.valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:161" class="idref" href="#p:161"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:161"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:161"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
This pointer is from a live allocation; this does not imply
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span>, because even overflowing offsets preserve the allocation ID.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="CPP_LOGIC.live_ptr" class="idref" href="#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> (<a id="p:163" class="idref" href="#p:163"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#default"><span class="id" title="abbreviation">default</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>%<span class="id" title="var">I</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:163"><span class="id" title="variable">p</span></a>).<br/>

<br/>
</div>

<div class="doc">
We consider <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a></span> as live, following Krebbers, as a way to
    simplify stating rules for pointer comparison. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.nullptr_live" class="idref" href="#CPP_LOGIC.nullptr_live"><span class="id" title="axiom">nullptr_live</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_live" class="idref" href="#CPP_LOGIC.tptsto_live"><span class="id" title="axiom">tptsto_live</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="0522366f01379e686f0625f31b2e78a6" class="idref" href="#0522366f01379e686f0625f31b2e78a6"><span class="id" title="binder">σ</span></a>} <a id="ty:166" class="idref" href="#ty:166"><span class="id" title="binder">ty</span></a> (<a id="q:167" class="idref" href="#q:167"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) <a id="p:168" class="idref" href="#p:168"><span class="id" title="binder">p</span></a> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:166"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:167"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:169"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">this</span></span> <span class="inlinecode"><span class="id" title="var">mdc</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#q"><span class="id" title="axiom">q</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> state that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> is a pointer to a (live)
        object of type <span class="inlinecode"><span class="id" title="var">this</span></span> that is part of an object that can be reached
        using the *path* <span class="inlinecode"><span class="id" title="var">mdc</span></span>. The ownership <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a></span> is only exposed to
        the program for an object of class <code>C</code> if <code>C</code> has <code>virtual</code>
        methods (or base classes, which are not currently supported).
<ul class="doclist">
<li> if <span class="inlinecode"><span class="id" title="var">mdc</span></span> <span class="inlinecode">=</span> <span class="inlinecode">[]</span> then this object mdc_path is not initialized yet,
          e.g. because its base classes are still being constructed.

</li>
<li> otherwise, <span class="inlinecode"><span class="id" title="var">mdc</span></span> is the *path* from the most derived class to this
          object. For example, suppose you have:
          <code>
</code>          struct A { virtual int f() { return 0; } };
          struct B : public A { virtual int f() { return 1; } };
          struct C : public A { };
          struct D : public B, public C { };

<div class="paragraph"> </div>

          int doA(A* a) { return a-&gt;f(); }
          int test() {
              D d;
              return doA(static_cast&lt;B*&gt;(&amp;d)) /* = 1 */
                   + doA(static_cast&lt;C*&gt;(&amp;d)) /* = 0 */;
          }
          &gt;&gt;
          for a fully constructed object of type `D` (at pointer <span class="inlinecode"><span class="id" title="var">d</span></span>), you would
          have:
          <br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> "::B" ["::D","::B"]      1 (<span class="id" title="var">d</span> ., <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::B") **<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> "::A" ["::D","::B","::A"] 1 (<span class="id" title="var">d</span> ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::B" ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::A") **<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> "::A" ["::D","::C","::A"] 1 (<span class="id" title="var">d</span> ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::C" ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::A")
<div class="paragraph"> </div>

</span>          in the partially constructed state, where "::D" has not yet been constructed
          but the base classes have been, you have the following:
          <br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> "::B" ["::B"]      1 (<span class="id" title="var">d</span> ., <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::B") **<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> "::A" ["::B","::A"] 1 (<span class="id" title="var">d</span> ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::B" ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::A") **<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> "::A" ["::C","::A"] 1 (<span class="id" title="var">d</span> ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::C" ,, <a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a> "::A")
<div class="paragraph"> </div>

</span>          Note that you do not get <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a></span> <span class="inlinecode">&quot;::<span class="id" title="var">D</span>&quot;</span> <span class="inlinecode">[]</span> <span class="inlinecode">1</span> <span class="inlinecode"><span class="id" title="var">d</span></span> at this point, you
          get <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a></span> <span class="inlinecode">&quot;::<span class="id" title="var">D</span>&quot;</span> <span class="inlinecode">[&quot;::<span class="id" title="var">D</span>&quot;]</span> <span class="inlinecode">1</span> <span class="inlinecode"><span class="id" title="var">d</span></span> when you update all the other paths
          (but not atomically).

</li>
</ul>

<div class="paragraph"> </div>

        <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a></span> is primarily used to dispatch <code>virtual</code> function calls.
        Compilers can use the ownership here to represent dynamic dispatch
        tables.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.mdc_path" class="idref" href="#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:173" class="idref" href="#cpp_logic0:173"><span class="id" title="binder">!</span></a><a id="cpp_logic0:173" class="idref" href="#cpp_logic0:173"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:171" class="idref" href="#thread_info:171"><span class="id" title="binder"><span id="cpp_logic0:173" class="id">thread_info</span></span></a> <a id="0646a2f53c44ced826a07974c20c1488" class="idref" href="#0646a2f53c44ced826a07974c20c1488"><span class="id" title="binder"><span id="cpp_logic0:173" class="id">Σ</span></span></a>} {<a id="99cca33ba64e7bc35d195824e11d3400" class="idref" href="#99cca33ba64e7bc35d195824e11d3400"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="this:175" class="idref" href="#this:175"><span class="id" title="binder">this</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>) (<a id="most_derived:176" class="idref" href="#most_derived:176"><span class="id" title="binder">most_derived</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:180" class="idref" href="#H:180"><span class="id" title="binder">cpp_logic</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.mdc_path_cfractional" class="idref" href="#CPP_LOGIC.mdc_path_cfractional"><span class="id" title="instance">mdc_path_cfractional</span></a> <a id="acfbeb59d2ec9c35a8ed06d7f69cce72" class="idref" href="#acfbeb59d2ec9c35a8ed06d7f69cce72"><span class="id" title="binder">σ</span></a> <a id="this:182" class="idref" href="#this:182"><span class="id" title="binder">this</span></a> <a id="mdc:183" class="idref" href="#mdc:183"><span class="id" title="binder">mdc</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional1"><span class="id" title="abbreviation">CFractional1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:182"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:183"><span class="id" title="variable">mdc</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.mdc_path_cfrac_valid" class="idref" href="#CPP_LOGIC.mdc_path_cfrac_valid"><span class="id" title="instance">mdc_path_cfrac_valid</span></a> {<a id="949d6c669ee719d08fa62aef04ff1a00" class="idref" href="#949d6c669ee719d08fa62aef04ff1a00"><span class="id" title="binder">σ</span></a>} <a id="cls:185" class="idref" href="#cls:185"><span class="id" title="binder">cls</span></a> <a id="path:186" class="idref" href="#path:186"><span class="id" title="binder">path</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid1"><span class="id" title="class">CFracValid1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:185"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#path:186"><span class="id" title="variable">path</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.mdc_path_timeless" class="idref" href="#CPP_LOGIC.mdc_path_timeless"><span class="id" title="instance">mdc_path_timeless</span></a> {<a id="870014fd505de8e887393136f175e632" class="idref" href="#870014fd505de8e887393136f175e632"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless4"><span class="id" title="abbreviation">Timeless4</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.mdc_path_strict_valid" class="idref" href="#CPP_LOGIC.mdc_path_strict_valid"><span class="id" title="instance">mdc_path_strict_valid</span></a> {<a id="b42cfa1eec7d2b00a4392b11732c8740" class="idref" href="#b42cfa1eec7d2b00a4392b11732c8740"><span class="id" title="binder">σ</span></a>} <a id="this:189" class="idref" href="#this:189"><span class="id" title="binder">this</span></a> <a id="mdc:190" class="idref" href="#mdc:190"><span class="id" title="binder">mdc</span></a> <a id="q:191" class="idref" href="#q:191"><span class="id" title="binder">q</span></a> <a id="p:192" class="idref" href="#p:192"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:192"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:189"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:190"><span class="id" title="variable">mdc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:191"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:192"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.mdc_path_agree" class="idref" href="#CPP_LOGIC.mdc_path_agree"><span class="id" title="instance">mdc_path_agree</span></a> {<a id="b565055c2f596209badf31bf41f2f080" class="idref" href="#b565055c2f596209badf31bf41f2f080"><span class="id" title="binder">σ</span></a>} <a id="cls1:194" class="idref" href="#cls1:194"><span class="id" title="binder">cls1</span></a> <a id="cls2:195" class="idref" href="#cls2:195"><span class="id" title="binder">cls2</span></a> <a id="q1:196" class="idref" href="#q1:196"><span class="id" title="binder">q1</span></a> <a id="q2:197" class="idref" href="#q2:197"><span class="id" title="binder">q2</span></a> <a id="p:198" class="idref" href="#p:198"><span class="id" title="binder">p</span></a> <a id="mdc1:199" class="idref" href="#mdc1:199"><span class="id" title="binder">mdc1</span></a> <a id="mdc2:200" class="idref" href="#mdc2:200"><span class="id" title="binder">mdc2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc1:199"><span class="id" title="variable">mdc1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc2:200"><span class="id" title="variable">mdc2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls1:194"><span class="id" title="variable">cls1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls2:195"><span class="id" title="variable">cls2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls1:194"><span class="id" title="variable">cls1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc1:199"><span class="id" title="variable">mdc1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q1:196"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:198"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls2:195"><span class="id" title="variable">cls2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc2:200"><span class="id" title="variable">mdc2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q2:197"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:198"><span class="id" title="variable">p</span></a>).<br/>

<br/>
</div>

<div class="doc">
this allows you to forget an object mdc_path, necessary for doing
        placement <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.with_cpp_logic.with_region.new"><span class="id" title="section">new</span></a></span> over an existing object.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.mdc_path_forget" class="idref" href="#CPP_LOGIC.mdc_path_forget"><span class="id" title="axiom">mdc_path_forget</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="114311b711f39d5fc7b21cd1efa50f3e" class="idref" href="#114311b711f39d5fc7b21cd1efa50f3e"><span class="id" title="binder">σ</span></a> <a id="mdc:202" class="idref" href="#mdc:202"><span class="id" title="binder">mdc</span></a> <a id="this:203" class="idref" href="#this:203"><span class="id" title="binder">this</span></a> <a id="p:204" class="idref" href="#p:204"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.logic.pred.html#114311b711f39d5fc7b21cd1efa50f3e"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:203"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:202"><span class="id" title="variable">mdc</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.m"><span class="id" title="abbreviation">cQp.m</span></a> 1) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:204"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#pred_ns"><span class="id" title="definition">pred_ns</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.mdc_path"><span class="id" title="axiom">mdc_path</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.logic.pred.html#114311b711f39d5fc7b21cd1efa50f3e"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:203"><span class="id" title="variable">this</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.m"><span class="id" title="abbreviation">cQp.m</span></a> 1) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:204"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
the pointer points to the code

<div class="paragraph"> </div>

      note that in the presence of code-loading, function calls will
      require an extra side-condition that the code is loaded.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.code_at" class="idref" href="#CPP_LOGIC.code_at"><span class="id" title="axiom">code_at</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:208" class="idref" href="#cpp_logic0:208"><span class="id" title="binder">!</span></a><a id="cpp_logic0:208" class="idref" href="#cpp_logic0:208"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:206" class="idref" href="#thread_info:206"><span class="id" title="binder"><span id="cpp_logic0:208" class="id">thread_info</span></span></a> <a id="2008e4a6f6b0fd127aa6f855da30ec04" class="idref" href="#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="binder"><span id="cpp_logic0:208" class="id">Σ</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Func"><span class="id" title="abbreviation">Func</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.method_at" class="idref" href="#CPP_LOGIC.method_at"><span class="id" title="axiom">method_at</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:212" class="idref" href="#cpp_logic0:212"><span class="id" title="binder">!</span></a><a id="cpp_logic0:212" class="idref" href="#cpp_logic0:212"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:210" class="idref" href="#thread_info:210"><span class="id" title="binder"><span id="cpp_logic0:212" class="id">thread_info</span></span></a> <a id="7b29c623ce651d4ecf7a06e4ebe95c95" class="idref" href="#7b29c623ce651d4ecf7a06e4ebe95c95"><span class="id" title="binder"><span id="cpp_logic0:212" class="id">Σ</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Method"><span class="id" title="abbreviation">Method</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.ctor_at" class="idref" href="#CPP_LOGIC.ctor_at"><span class="id" title="axiom">ctor_at</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:216" class="idref" href="#cpp_logic0:216"><span class="id" title="binder">!</span></a><a id="cpp_logic0:216" class="idref" href="#cpp_logic0:216"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:214" class="idref" href="#thread_info:214"><span class="id" title="binder"><span id="cpp_logic0:216" class="id">thread_info</span></span></a> <a id="b9d6d0fb1df238201dff677e7114a90a" class="idref" href="#b9d6d0fb1df238201dff677e7114a90a"><span class="id" title="binder"><span id="cpp_logic0:216" class="id">Σ</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Ctor"><span class="id" title="abbreviation">Ctor</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.dtor_at" class="idref" href="#CPP_LOGIC.dtor_at"><span class="id" title="axiom">dtor_at</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:220" class="idref" href="#cpp_logic0:220"><span class="id" title="binder">!</span></a><a id="cpp_logic0:220" class="idref" href="#cpp_logic0:220"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:218" class="idref" href="#thread_info:218"><span class="id" title="binder"><span id="cpp_logic0:220" class="id">thread_info</span></span></a> <a id="1ab40656d5e5c89572799d4533e92d93" class="idref" href="#1ab40656d5e5c89572799d4533e92d93"><span class="id" title="binder"><span id="cpp_logic0:220" class="id">Σ</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Dtor"><span class="id" title="abbreviation">Dtor</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="axiom">code_at</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> σ} <span class="id" title="var">tu</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="axiom">method_at</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> σ} <span class="id" title="var">tu</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="axiom">ctor_at</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> σ} <span class="id" title="var">tu</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="axiom">dtor_at</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> σ} <span class="id" title="var">tu</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_genv" class="idref" href="#CPP_LOGIC.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:224" class="idref" href="#H:224"><span class="id" title="binder">cpp_logic</span></a>} {<a id="664ca58032ba07cb82f569b38bf05ebf" class="idref" href="#664ca58032ba07cb82f569b38bf05ebf"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:226" class="idref" href="#tu:226"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.code_at" class="idref" href="#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> := (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="axiom">code_at</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_genv.tu"><span class="id" title="variable">tu</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.method_at" class="idref" href="#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> := (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="axiom">method_at</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_genv.tu"><span class="id" title="variable">tu</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.ctor_at" class="idref" href="#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> := (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="axiom">ctor_at</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_genv.tu"><span class="id" title="variable">tu</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.dtor_at" class="idref" href="#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> := (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="axiom">dtor_at</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#bc7d689062da95cc3891cf9108d76fc7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_genv.tu"><span class="id" title="variable">tu</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_persistent" class="idref" href="#CPP_LOGIC.code_at_persistent"><span class="id" title="axiom">code_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:227" class="idref" href="#f:227"><span class="id" title="binder">f</span></a> <a id="p:228" class="idref" href="#p:228"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:227"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:228"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_affine" class="idref" href="#CPP_LOGIC.code_at_affine"><span class="id" title="axiom">code_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:230" class="idref" href="#f:230"><span class="id" title="binder">f</span></a> <a id="p:231" class="idref" href="#p:231"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:230"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:231"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_timeless" class="idref" href="#CPP_LOGIC.code_at_timeless"><span class="id" title="axiom">code_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:233" class="idref" href="#f:233"><span class="id" title="binder">f</span></a> <a id="p:234" class="idref" href="#p:234"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:233"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:234"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_persistent" class="idref" href="#CPP_LOGIC.method_at_persistent"><span class="id" title="axiom">method_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:236" class="idref" href="#f:236"><span class="id" title="binder">f</span></a> <a id="p:237" class="idref" href="#p:237"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:236"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:237"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_affine" class="idref" href="#CPP_LOGIC.method_at_affine"><span class="id" title="axiom">method_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:239" class="idref" href="#f:239"><span class="id" title="binder">f</span></a> <a id="p:240" class="idref" href="#p:240"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:239"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:240"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_timeless" class="idref" href="#CPP_LOGIC.method_at_timeless"><span class="id" title="axiom">method_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:242" class="idref" href="#f:242"><span class="id" title="binder">f</span></a> <a id="p:243" class="idref" href="#p:243"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:242"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:243"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_persistent" class="idref" href="#CPP_LOGIC.ctor_at_persistent"><span class="id" title="axiom">ctor_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:245" class="idref" href="#f:245"><span class="id" title="binder">f</span></a> <a id="p:246" class="idref" href="#p:246"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:245"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:246"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_affine" class="idref" href="#CPP_LOGIC.ctor_at_affine"><span class="id" title="axiom">ctor_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:248" class="idref" href="#f:248"><span class="id" title="binder">f</span></a> <a id="p:249" class="idref" href="#p:249"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:248"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:249"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_timeless" class="idref" href="#CPP_LOGIC.ctor_at_timeless"><span class="id" title="axiom">ctor_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:251" class="idref" href="#f:251"><span class="id" title="binder">f</span></a> <a id="p:252" class="idref" href="#p:252"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:251"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:252"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_persistent" class="idref" href="#CPP_LOGIC.dtor_at_persistent"><span class="id" title="axiom">dtor_at_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:254" class="idref" href="#f:254"><span class="id" title="binder">f</span></a> <a id="p:255" class="idref" href="#p:255"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:254"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:255"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_affine" class="idref" href="#CPP_LOGIC.dtor_at_affine"><span class="id" title="axiom">dtor_at_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:257" class="idref" href="#f:257"><span class="id" title="binder">f</span></a> <a id="p:258" class="idref" href="#p:258"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:257"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:258"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_timeless" class="idref" href="#CPP_LOGIC.dtor_at_timeless"><span class="id" title="axiom">dtor_at_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:260" class="idref" href="#f:260"><span class="id" title="binder">f</span></a> <a id="p:261" class="idref" href="#p:261"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:260"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:261"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at_persistent"><span class="id" title="axiom">code_at_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at_affine"><span class="id" title="axiom">code_at_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at_timeless"><span class="id" title="axiom">code_at_timeless</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at_persistent"><span class="id" title="axiom">method_at_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at_affine"><span class="id" title="axiom">method_at_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at_timeless"><span class="id" title="axiom">method_at_timeless</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at_persistent"><span class="id" title="axiom">ctor_at_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at_affine"><span class="id" title="axiom">ctor_at_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at_timeless"><span class="id" title="axiom">ctor_at_timeless</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at_persistent"><span class="id" title="axiom">dtor_at_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at_affine"><span class="id" title="axiom">dtor_at_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at_timeless"><span class="id" title="axiom">dtor_at_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_live" class="idref" href="#CPP_LOGIC.code_at_live"><span class="id" title="axiom">code_at_live</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:263" class="idref" href="#f:263"><span class="id" title="binder">f</span></a> <a id="p:264" class="idref" href="#p:264"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:263"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:264"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:264"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_live" class="idref" href="#CPP_LOGIC.method_at_live"><span class="id" title="axiom">method_at_live</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:266" class="idref" href="#f:266"><span class="id" title="binder">f</span></a> <a id="p:267" class="idref" href="#p:267"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:266"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:267"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:267"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_live" class="idref" href="#CPP_LOGIC.ctor_at_live"><span class="id" title="axiom">ctor_at_live</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:269" class="idref" href="#f:269"><span class="id" title="binder">f</span></a> <a id="p:270" class="idref" href="#p:270"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:269"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:270"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:270"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_live" class="idref" href="#CPP_LOGIC.dtor_at_live"><span class="id" title="axiom">dtor_at_live</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:272" class="idref" href="#f:272"><span class="id" title="binder">f</span></a> <a id="p:273" class="idref" href="#p:273"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:272"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:273"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:273"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.code_at_strict_valid" class="idref" href="#CPP_LOGIC.code_at_strict_valid"><span class="id" title="axiom">code_at_strict_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:275" class="idref" href="#f:275"><span class="id" title="binder">f</span></a> <a id="p:276" class="idref" href="#p:276"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:275"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:276"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:276"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.method_at_strict_valid" class="idref" href="#CPP_LOGIC.method_at_strict_valid"><span class="id" title="axiom">method_at_strict_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:278" class="idref" href="#f:278"><span class="id" title="binder">f</span></a> <a id="p:279" class="idref" href="#p:279"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:278"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:279"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:279"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.ctor_at_strict_valid" class="idref" href="#CPP_LOGIC.ctor_at_strict_valid"><span class="id" title="axiom">ctor_at_strict_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:281" class="idref" href="#f:281"><span class="id" title="binder">f</span></a> <a id="p:282" class="idref" href="#p:282"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:281"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:282"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:282"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.dtor_at_strict_valid" class="idref" href="#CPP_LOGIC.dtor_at_strict_valid"><span class="id" title="axiom">dtor_at_strict_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:284" class="idref" href="#f:284"><span class="id" title="binder">f</span></a> <a id="p:285" class="idref" href="#p:285"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:284"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:285"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:285"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:289" class="idref" href="#H:289"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.offset_pinned_ptr_pure" class="idref" href="#CPP_LOGIC.offset_pinned_ptr_pure"><span class="id" title="axiom">offset_pinned_ptr_pure</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="6cf40356cb20dc2ae52b5db8d5a16a56" class="idref" href="#6cf40356cb20dc2ae52b5db8d5a16a56"><span class="id" title="binder">σ</span></a> <a id="o:291" class="idref" href="#o:291"><span class="id" title="binder">o</span></a> <a id="z:292" class="idref" href="#z:292"><span class="id" title="binder">z</span></a> <a id="va:293" class="idref" href="#va:293"><span class="id" title="binder">va</span></a> <a id="p:294" class="idref" href="#p:294"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#6cf40356cb20dc2ae52b5db8d5a16a56"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:291"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:292"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:294"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:293"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:294"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:291"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:293"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:292"><span class="id" title="variable">z</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:294"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:291"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:293"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:292"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.offset_inv_pinned_ptr_pure" class="idref" href="#CPP_LOGIC.offset_inv_pinned_ptr_pure"><span class="id" title="axiom">offset_inv_pinned_ptr_pure</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="97137c2171b7bf4bbc44b70393cb0cb5" class="idref" href="#97137c2171b7bf4bbc44b70393cb0cb5"><span class="id" title="binder">σ</span></a> <a id="o:297" class="idref" href="#o:297"><span class="id" title="binder">o</span></a> <a id="z:298" class="idref" href="#z:298"><span class="id" title="binder">z</span></a> <a id="va:299" class="idref" href="#va:299"><span class="id" title="binder">va</span></a> <a id="p:300" class="idref" href="#p:300"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#97137c2171b7bf4bbc44b70393cb0cb5"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:297"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:298"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:300"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:297"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:299"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:300"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:297"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:299"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:298"><span class="id" title="variable">z</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:300"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:299"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:298"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_same_address" class="idref" href="#CPP_LOGIC.provides_storage_same_address"><span class="id" title="axiom">provides_storage_same_address</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:302" class="idref" href="#storage_ptr:302"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:303" class="idref" href="#obj_ptr:303"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:304" class="idref" href="#ty:304"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:302"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:303"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:302"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:303"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:304"><span class="id" title="variable">ty</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_valid_storage_ptr" class="idref" href="#CPP_LOGIC.provides_storage_valid_storage_ptr"><span class="id" title="axiom">provides_storage_valid_storage_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:306" class="idref" href="#storage_ptr:306"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:307" class="idref" href="#obj_ptr:307"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:308" class="idref" href="#aty:308"><span class="id" title="binder">aty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:306"><span class="id" title="variable">storage_ptr</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:306"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:307"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:308"><span class="id" title="variable">aty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.provides_storage_valid_obj_ptr" class="idref" href="#CPP_LOGIC.provides_storage_valid_obj_ptr"><span class="id" title="axiom">provides_storage_valid_obj_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="storage_ptr:310" class="idref" href="#storage_ptr:310"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:311" class="idref" href="#obj_ptr:311"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:312" class="idref" href="#aty:312"><span class="id" title="binder">aty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:311"><span class="id" title="variable">obj_ptr</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:310"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:311"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:312"><span class="id" title="variable">aty</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage_same_address"><span class="id" title="axiom">provides_storage_same_address</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage_valid_storage_ptr"><span class="id" title="axiom">provides_storage_valid_storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.provides_storage_valid_obj_ptr"><span class="id" title="axiom">provides_storage_valid_obj_ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a></span> <span class="inlinecode"><span class="id" title="var">aid</span></span> states that the storage instance identified by <span class="inlinecode"><span class="id" title="var">aid</span></span> is
    "exposed" <span class="inlinecode">1</span>. This enables int2ptr casts to produce pointers into this
    storage instance.

<div class="paragraph"> </div>

    <span class="inlinecode">1</span> We use "exposed" in the sense defined by the N2577 draft C standard
    (http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2577.pdf).
    See https://dl.acm.org/doi/10.1145/3290380 for an introduction.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.exposed_aid" class="idref" href="#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:316" class="idref" href="#cpp_logic0:316"><span class="id" title="binder">!</span></a><a id="cpp_logic0:316" class="idref" href="#cpp_logic0:316"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:314" class="idref" href="#thread_info:314"><span class="id" title="binder"><span id="cpp_logic0:316" class="id">thread_info</span></span></a> <a id="073dbce7dc52d362f026b80380eb7f09" class="idref" href="#073dbce7dc52d362f026b80380eb7f09"><span class="id" title="binder"><span id="cpp_logic0:316" class="id">Σ</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:320" class="idref" href="#H:320"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_persistent" class="idref" href="#CPP_LOGIC.exposed_aid_persistent"><span class="id" title="axiom">exposed_aid_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:321" class="idref" href="#aid:321"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:321"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_affine" class="idref" href="#CPP_LOGIC.exposed_aid_affine"><span class="id" title="axiom">exposed_aid_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:323" class="idref" href="#aid:323"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:323"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_timeless" class="idref" href="#CPP_LOGIC.exposed_aid_timeless"><span class="id" title="axiom">exposed_aid_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="aid:325" class="idref" href="#aid:325"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:325"><span class="id" title="variable">aid</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.exposed_aid_null_alloc_id" class="idref" href="#CPP_LOGIC.exposed_aid_null_alloc_id"><span class="id" title="axiom">exposed_aid_null_alloc_id</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid_persistent"><span class="id" title="axiom">exposed_aid_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid_affine"><span class="id" title="axiom">exposed_aid_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.exposed_aid_timeless"><span class="id" title="axiom">exposed_aid_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode">{<span class="id" title="var">resolve</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">resolve</span>}</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> asserts that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> points to
      a (possibly dead) object of type <span class="inlinecode"><span class="id" title="var">ty</span></span> (in environment
      <span class="inlinecode"><span class="id" title="var">resolve</span></span>), as defined by https://eel.is/c++draft/basic.compound3.1.

      This implies:
      - the pointer is strictly valid [type_ptr_strict_valid], and
        "p + 1" is also valid (while possibly past-the-end) [type_ptr_valid_plus_one].
      - the pointer is not (an offset of) null pointers [type_ptr_off_nonnull, type_ptr_nonnull]
      - the pointer is properly aligned [type_ptr_aligned_pure]

      [type_ptr] is persistent and survives deallocation of the pointed-to
      object, like [_valid_ptr].

      TODO: before a complete object is fully initialized,
      what [type_ptr] facts are available? For now, we only use [type_ptr]
      for fully initialized objects.
      Consider http://eel.is/c++draft/basic.memobjbasic.life, especially
      from http://eel.is/c++draft/basic.memobjbasic.life-1 to
      http://eel.is/c++draft/basic.memobjbasic.life-4.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="CPP_LOGIC.type_ptr" class="idref" href="#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:330" class="idref" href="#cpp_logic0:330"><span class="id" title="binder">!</span></a><a id="cpp_logic0:330" class="idref" href="#cpp_logic0:330"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:328" class="idref" href="#thread_info:328"><span class="id" title="binder"><span id="cpp_logic0:330" class="id">thread_info</span></span></a> <a id="43175fea6c1b0fa7d9af888630299e40" class="idref" href="#43175fea6c1b0fa7d9af888630299e40"><span class="id" title="binder"><span id="cpp_logic0:330" class="id">Σ</span></span></a>} {<a id="resolve:331" class="idref" href="#resolve:331"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="c:332" class="idref" href="#c:332"><span class="id" title="binder">c</span></a>: <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:336" class="idref" href="#H:336"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_persistent" class="idref" href="#CPP_LOGIC.type_ptr_persistent"><span class="id" title="axiom">type_ptr_persistent</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f04ea84bccbe95c44e500b5c8a15394e" class="idref" href="#f04ea84bccbe95c44e500b5c8a15394e"><span class="id" title="binder">σ</span></a> <a id="p:338" class="idref" href="#p:338"><span class="id" title="binder">p</span></a> <a id="ty:339" class="idref" href="#ty:339"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:339"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:338"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_affine" class="idref" href="#CPP_LOGIC.type_ptr_affine"><span class="id" title="axiom">type_ptr_affine</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="530a3ab179c64cf681f0e9868e4c8bfc" class="idref" href="#530a3ab179c64cf681f0e9868e4c8bfc"><span class="id" title="binder">σ</span></a> <a id="p:342" class="idref" href="#p:342"><span class="id" title="binder">p</span></a> <a id="ty:343" class="idref" href="#ty:343"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:343"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:342"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_timeless" class="idref" href="#CPP_LOGIC.type_ptr_timeless"><span class="id" title="axiom">type_ptr_timeless</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a5f9888a28f836bd7df1e61d9a8a359b" class="idref" href="#a5f9888a28f836bd7df1e61d9a8a359b"><span class="id" title="binder">σ</span></a> <a id="p:346" class="idref" href="#p:346"><span class="id" title="binder">p</span></a> <a id="ty:347" class="idref" href="#ty:347"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:347"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:346"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr_persistent"><span class="id" title="axiom">type_ptr_persistent</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr_affine"><span class="id" title="axiom">type_ptr_affine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr_timeless"><span class="id" title="axiom">type_ptr_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_aligned_pure" class="idref" href="#CPP_LOGIC.type_ptr_aligned_pure"><span class="id" title="axiom">type_ptr_aligned_pure</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="bd99825b106d19af92a6386298daa833" class="idref" href="#bd99825b106d19af92a6386298daa833"><span class="id" title="binder">σ</span></a> <a id="ty:350" class="idref" href="#ty:350"><span class="id" title="binder">ty</span></a> <a id="p:351" class="idref" href="#p:351"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:350"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:351"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:350"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:351"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_off_nonnull" class="idref" href="#CPP_LOGIC.type_ptr_off_nonnull"><span class="id" title="axiom">type_ptr_off_nonnull</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="e2e29e23fb142b96f186aea5a773bbe6" class="idref" href="#e2e29e23fb142b96f186aea5a773bbe6"><span class="id" title="binder">σ</span></a> <a id="ty:354" class="idref" href="#ty:354"><span class="id" title="binder">ty</span></a> <a id="p:355" class="idref" href="#p:355"><span class="id" title="binder">p</span></a> <a id="o:356" class="idref" href="#o:356"><span class="id" title="binder">o</span></a>}<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:354"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:355"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:356"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:355"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_type_ptr" class="idref" href="#CPP_LOGIC.tptsto_type_ptr"><span class="id" title="axiom">tptsto_type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="d19c03c12f2d3a09689e8df34232c0f4" class="idref" href="#d19c03c12f2d3a09689e8df34232c0f4"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) <a id="ty:359" class="idref" href="#ty:359"><span class="id" title="binder">ty</span></a> <a id="q:360" class="idref" href="#q:360"><span class="id" title="binder">q</span></a> <a id="p:361" class="idref" href="#p:361"><span class="id" title="binder">p</span></a> <a id="v:362" class="idref" href="#v:362"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:359"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:361"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:359"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:360"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:361"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:362"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto_type_ptr"><span class="id" title="axiom">tptsto_type_ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;objects&nbsp;in&nbsp;the&nbsp;C++&nbsp;abstract&nbsp;machine&nbsp;have&nbsp;a&nbsp;size<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE&nbsp;to&nbsp;support&nbsp;un-sized&nbsp;objects,&nbsp;we&nbsp;can&nbsp;simply&nbsp;say&nbsp;that&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">sizeof</span></span>&nbsp;operator<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;C++&nbsp;is&nbsp;only&nbsp;a&nbsp;conservative&nbsp;approximation&nbsp;of&nbsp;the&nbsp;true&nbsp;size&nbsp;of&nbsp;an&nbsp;object.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_size" class="idref" href="#CPP_LOGIC.type_ptr_size"><span class="id" title="axiom">type_ptr_size</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="7819c5dad5c799e1664f5e343781eee5" class="idref" href="#7819c5dad5c799e1664f5e343781eee5"><span class="id" title="binder">σ</span></a> <a id="ty:365" class="idref" href="#ty:365"><span class="id" title="binder">ty</span></a> <a id="p:366" class="idref" href="#p:366"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:365"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:366"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#7819c5dad5c799e1664f5e343781eee5"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:365"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
    Recall that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a></span> don't include
    past-the-end pointers... 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_strict_valid" class="idref" href="#CPP_LOGIC.type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="resolve:368" class="idref" href="#resolve:368"><span class="id" title="binder">resolve</span></a> <a id="ty:369" class="idref" href="#ty:369"><span class="id" title="binder">ty</span></a> <a id="p:370" class="idref" href="#p:370"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:369"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:370"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:370"><span class="id" title="variable">p</span></a>.<br/>
</div>

<div class="doc">
Hence they can be incremented into (possibly past-the-end) valid pointers. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_valid_plus_one" class="idref" href="#CPP_LOGIC.type_ptr_valid_plus_one"><span class="id" title="axiom">type_ptr_valid_plus_one</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="resolve:372" class="idref" href="#resolve:372"><span class="id" title="binder">resolve</span></a> <a id="ty:373" class="idref" href="#ty:373"><span class="id" title="binder">ty</span></a> <a id="p:374" class="idref" href="#p:374"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:373"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:374"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:374"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#resolve:372"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:373"><span class="id" title="variable">ty</span></a> 1).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;When&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>&nbsp;to&nbsp;a&nbsp;C++&nbsp;object&nbsp;of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>,&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;/also/&nbsp;a&nbsp;pointer<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;the&nbsp;"object&nbsp;representation"&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;-&nbsp;which&nbsp;consists&nbsp;of&nbsp;"the&nbsp;sequence<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">sizeof</span>(<span class="id" title="var">ty</span>)</span>&nbsp;unsigned&nbsp;char&nbsp;objects&nbsp;taken&nbsp;up&nbsp;by&nbsp;the&nbsp;object&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>"&nbsp;<span class="inlinecode">1</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Detailed&nbsp;Justification:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a)&nbsp;From&nbsp;the&nbsp;comment&nbsp;above&nbsp;the&nbsp;axiomatization&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;asserts&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;points&nbsp;to&nbsp;a&nbsp;(possibly&nbsp;dead)&nbsp;object&nbsp;of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b)&nbsp;In&nbsp;<span class="inlinecode"><span class="id" title="var">basic.types.general</span>#4</span>&nbsp;<span class="inlinecode">1</span>&nbsp;the&nbsp;C++&nbsp;Standard&nbsp;states&nbsp;that:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;The&nbsp;object&nbsp;representation&nbsp;of&nbsp;an&nbsp;object&nbsp;of&nbsp;type&nbsp;T&nbsp;is&nbsp;the&nbsp;sequence&nbsp;of&nbsp;N&nbsp;unsigned<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;char&nbsp;objects&nbsp;taken&nbsp;up&nbsp;by&nbsp;the&nbsp;object&nbsp;of&nbsp;type&nbsp;T,&nbsp;where&nbsp;N&nbsp;equals&nbsp;sizeof(T).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d)&nbsp;(NOTE:&nbsp;the&nbsp;C++&nbsp;Standard&nbsp;lacks&nbsp;language&nbsp;regarding&nbsp;this&nbsp;point)&nbsp;the&nbsp;"object&nbsp;representation"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;an&nbsp;object&nbsp;pointed&nbsp;to&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;/also/&nbsp;accessible&nbsp;via&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e)&nbsp;(a)+(b)+(d)&nbsp;implies&nbsp;that&nbsp;a&nbsp;(potentially&nbsp;dead)&nbsp;object&nbsp;representation&nbsp;for&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;at&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f)&nbsp;(a)+(c)+(e)&nbsp;implies&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">.[</span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">])</span>&nbsp;holds&nbsp;(regardless&nbsp;of&nbsp;whether<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;the&nbsp;object/"object&nbsp;representation"&nbsp;is&nbsp;alive)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;There&nbsp;is&nbsp;no&nbsp;need&nbsp;to&nbsp;deal&nbsp;with&nbsp;past-the-end&nbsp;pointers&nbsp;explicitly&nbsp;since<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span>&nbsp;explicitly&nbsp;excludes&nbsp;them;&nbsp;validity&nbsp;of&nbsp;past-the-end&nbsp;pointers<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;be&nbsp;established&nbsp;using&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr_valid_plus_one</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode">1</span>&nbsp;&lt;https://eel.is/c++draft/basic.types.general4>
     *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation"><span class="id" title="section">type_ptr_object_representation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;section&nbsp;is&nbsp;intended&nbsp;to&nbsp;axiomatize&nbsp;a&nbsp;/sufficient/&nbsp;and&nbsp;/sound/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;of&nbsp;transport&nbsp;rules&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span>&nbsp;facts&nbsp;which&nbsp;can&nbsp;be&nbsp;used&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;satisfy&nbsp;the&nbsp;preconditions&nbsp;required&nbsp;when&nbsp;using&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span>&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transport&nbsp;other&nbsp;resources.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;following&nbsp;<span class="inlinecode"><span class="id" title="keyword">Axiom</span></span>&nbsp;reflects&nbsp;a&nbsp;trivially&nbsp;faithful&nbsp;encoding&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;quote&nbsp;from&nbsp;the&nbsp;C++&nbsp;standard&nbsp;above&nbsp;<span class="inlinecode"><span class="id" title="keyword">Section</span></span> <span class="inlinecode"><span class="id" title="var">type_ptr_object_representation</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;To&nbsp;practically&nbsp;use&nbsp;this&nbsp;<span class="inlinecode"><span class="id" title="keyword">Axiom</span></span>,&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span>&nbsp;must&nbsp;be&nbsp;<span class="inlinecode"><span class="id" title="var">Persistent</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;reasonable&nbsp;alternative&nbsp;axiomatization&nbsp;which&nbsp;sidestepts&nbsp;this&nbsp;issue<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;could&nbsp;produce&nbsp;/all/&nbsp;of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span>&nbsp;facts&nbsp;for&nbsp;the&nbsp;"object&nbsp;representation"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;once:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;...&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type_ptr&nbsp;ty&nbsp;p<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;|--&nbsp;<span class="inlinecode">∗<span class="id" title="var">list</span></span>&nbsp;i&nbsp;∈&nbsp;seqN&nbsp;0&nbsp;(sizeof&nbsp;ty),&nbsp;type_ptr&nbsp;Tu8&nbsp;(p&nbsp;.<span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation.conservative" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation.conservative"><span class="id" title="section">conservative</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.type_ptr_obj_repr_byte" class="idref" href="#CPP_LOGIC.type_ptr_obj_repr_byte"><span class="id" title="axiom">type_ptr_obj_repr_byte</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="7dd31eb32f67fdaada8904bcfb30b829" class="idref" href="#7dd31eb32f67fdaada8904bcfb30b829"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="ty:377" class="idref" href="#ty:377"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:378" class="idref" href="#p:378"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="i:379" class="idref" href="#i:379"><span class="id" title="binder">i</span></a> <a id="sz:380" class="idref" href="#sz:380"><span class="id" title="binder">sz</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#7dd31eb32f67fdaada8904bcfb30b829"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:377"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#sz:380"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;1)&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;has&nbsp;some&nbsp;byte-size&nbsp;<span class="inlinecode"><span class="id" title="var">sz</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:379"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#sz:380"><span class="id" title="variable">sz</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>             <span class="comment">(*&nbsp;2)&nbsp;by&nbsp;(1),&nbsp;<span class="inlinecode"><span class="id" title="var">sz</span></span>&nbsp;is&nbsp;nonzero&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;is&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte-offset&nbsp;into&nbsp;the&nbsp;object&nbsp;rooted&nbsp;at&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o</span></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;<span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">ty</span>,</span> <span class="inlinecode"><span class="id" title="var">size_of</span></span> <span class="inlinecode">(<span class="id" title="var">Tarray</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">0)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode">0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;zero-length&nbsp;arrays&nbsp;are&nbsp;not&nbsp;permitted&nbsp;by&nbsp;the&nbsp;Standard<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cf.&nbsp;&lt;https://eel.is/c++draft/dcl.arraydef:array,bound>).
                                         NOTE: if support for flexible array members is ever added,
                                         it will need to be carefully coordinated with these sorts
                                         of transport lemmas.
                                       *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;4)&nbsp;The&nbsp;existence&nbsp;of&nbsp;the&nbsp;"object&nbsp;representation"&nbsp;of&nbsp;an&nbsp;object&nbsp;of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;in&nbsp;conjunction&nbsp;with&nbsp;the&nbsp;premises&nbsp;-&nbsp;justifies&nbsp;"lowering"&nbsp;any<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;fact&nbsp;to&nbsp;a&nbsp;collection&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode">.[<span class="id" title="var">Tu8</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span>])</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;facts&nbsp;-&nbsp;where&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;is&nbsp;a&nbsp;byte-offset&nbsp;within&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;(<span class="inlinecode">0</span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">sizeof</span>(<span class="id" title="var">ty</span>)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:377"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:378"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:378"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:379"><span class="id" title="variable">i</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation.conservative"><span class="id" title="section">conservative</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;This&nbsp;might&nbsp;be&nbsp;reasonable&nbsp;to&nbsp;axiomatize&nbsp;directly;&nbsp;cf.&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">NOTE</span></span>&nbsp;above<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="keyword">Section</span></span> <span class="inlinecode"><span class="id" title="var">conservative</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation.all_at_once" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation.all_at_once"><span class="id" title="section">all_at_once</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="CPP_LOGIC.type_ptr_obj_repr" class="idref" href="#CPP_LOGIC.type_ptr_obj_repr"><span class="id" title="lemma">type_ptr_obj_repr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="b63913cd8f02ec53b5e3ef8b7bbb63bb" class="idref" href="#b63913cd8f02ec53b5e3ef8b7bbb63bb"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="ty:383" class="idref" href="#ty:383"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:384" class="idref" href="#p:384"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="sz:385" class="idref" href="#sz:385"><span class="id" title="binder">sz</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#b63913cd8f02ec53b5e3ef8b7bbb63bb"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:383"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#sz:385"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:383"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:384"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="i:386" class="idref" href="#i:386"><span class="id" title="binder"><span id="i:387" class="id">i</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <span class="id" title="definition">seqN</span> 0 <a class="idref" href="bedrock.lang.cpp.logic.pred.html#sz:385"><span class="id" title="variable">sz</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:384"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:386"><span class="id" title="variable">i</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hsz</span>; <span class="id" title="var">iIntros</span> "#tptr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL_intro"><span class="id" title="lemma">big_sepL_intro</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">k</span> <span class="id" title="var">n</span>) "%Hn'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#lookup"><span class="id" title="definition">lookup</span></a> (<span class="id" title="var">K</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#N.of_nat"><span class="id" title="definition">N.of_nat</span></a> <span class="id" title="var">k</span>) (<span class="id" title="definition">seqN</span> 0%<span class="id" title="var">N</span> <span class="id" title="var">sz</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#lookup"><span class="id" title="definition">lookupN</span></a>, <span class="id" title="instance">list_lookupN</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.Nnat.html#Nat2N.id"><span class="id" title="lemma">Nat2N.id</span></a> //);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookupN_seqN</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr_obj_repr_byte"><span class="id" title="axiom">type_ptr_obj_repr_byte</span></a> σ <span class="id" title="var">ty</span> <span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">sz</span> <span class="id" title="var">Hsz</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "tptr"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "$".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation.all_at_once"><span class="id" title="section">all_at_once</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic.type_ptr_object_representation"><span class="id" title="section">type_ptr_object_representation</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">offset_congP</span></span>&nbsp;hoists&nbsp;<span class="inlinecode"><span class="id" title="var">offset_cong</span></span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">mpred</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="CPP_LOGIC.offset_congP" class="idref" href="#CPP_LOGIC.offset_congP"><span class="id" title="definition">offset_congP</span></a> (<a id="d2e89a77ea5126a60e2bd77c23a0a4cb" class="idref" href="#d2e89a77ea5126a60e2bd77c23a0a4cb"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="o1:389" class="idref" href="#o1:389"><span class="id" title="binder">o1</span></a> <a id="o2:390" class="idref" href="#o2:390"><span class="id" title="binder">o2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.offset"><span class="id" title="axiom">offset</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#d2e89a77ea5126a60e2bd77c23a0a4cb"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:389"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:390"><span class="id" title="variable">o2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span>&nbsp;is&nbsp;an&nbsp;<span class="inlinecode"><span class="id" title="var">mpred</span></span>&nbsp;which&nbsp;quotients&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_cong</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;requiring&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span>&nbsp;holds&nbsp;for&nbsp;both&nbsp;<span class="inlinecode"><span class="id" title="var">p1</span></span>&nbsp;/and/&nbsp;<span class="inlinecode"><span class="id" title="var">p2</span></span>.&nbsp;This&nbsp;property<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;sound&nbsp;and&nbsp;sufficient&nbsp;for&nbsp;transporting&nbsp;certain&nbsp;physical<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resources&nbsp;between&nbsp;<span class="inlinecode"><span class="id" title="var">p1</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">p2</span></span>&nbsp;-&nbsp;and&nbsp;we&nbsp;hypothesize&nbsp;that&nbsp;it&nbsp;is&nbsp;also<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;necessary.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="CPP_LOGIC.ptr_congP" class="idref" href="#CPP_LOGIC.ptr_congP"><span class="id" title="definition">ptr_congP</span></a> (<a id="9c98c6d166cb1387f3cadf07d39c3e56" class="idref" href="#9c98c6d166cb1387f3cadf07d39c3e56"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="p1:392" class="idref" href="#p1:392"><span class="id" title="binder">p1</span></a> <a id="p2:393" class="idref" href="#p2:393"><span class="id" title="binder">p2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#9c98c6d166cb1387f3cadf07d39c3e56"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:392"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:393"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:392"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:393"><span class="id" title="variable">p2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span>&nbsp;facts&nbsp;can&nbsp;be&nbsp;transported&nbsp;over&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span>&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>s.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;High&nbsp;level&nbsp;meaning:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;the&nbsp;C++&nbsp;object&nbsp;model,&nbsp;a&nbsp;single&nbsp;byte&nbsp;of&nbsp;storage&nbsp;can&nbsp;be&nbsp;accessed&nbsp;through&nbsp;different&nbsp;pointers,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.&nbsp;consider&nbsp;<span class="inlinecode"><span class="id" title="keyword">struct</span></span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode">{</span> <span class="inlinecode"><span class="id" title="var">int</span></span> <span class="inlinecode"><span class="id" title="var">x</span>;</span> <span class="inlinecode"><span class="id" title="var">int</span></span> <span class="inlinecode"><span class="id" title="var">y</span>;</span> <span class="inlinecode">}</span> <span class="inlinecode"><span class="id" title="var">c</span>;</span>.&nbsp;The&nbsp;first&nbsp;byte&nbsp;of&nbsp;the&nbsp;struct&nbsp;can&nbsp;be&nbsp;read&nbsp;through<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">static_cast</span>&lt;<span class="id" title="var">byte</span>*&gt;(&amp;<span class="id" title="var">c</span>)</span>&nbsp;(with&nbsp;pointer&nbsp;representation&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>)&nbsp;as&nbsp;well&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">static_cast</span>&lt;<span class="id" title="var">byte</span>*&gt;(&amp;<span class="id" title="var">c.x</span>)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(with&nbsp;pointer&nbsp;representation&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">_field</span></span> <span class="inlinecode">&quot;::<span class="id" title="var">C</span>&quot;</span> <span class="inlinecode">&quot;<span class="id" title="var">x</span>&quot;</span>).&nbsp;To&nbsp;put&nbsp;an&nbsp;ownership&nbsp;discipline&nbsp;on&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single&nbsp;byte,&nbsp;we&nbsp;build&nbsp;an&nbsp;equivalence&nbsp;relation&nbsp;on&nbsp;pointers&nbsp;that&nbsp;allows&nbsp;us&nbsp;to&nbsp;transport&nbsp;ownership<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;byte&nbsp;between&nbsp;these&nbsp;different&nbsp;pointers.&nbsp;For&nbsp;example,&nbsp;half&nbsp;of&nbsp;the&nbsp;ownership&nbsp;could&nbsp;live&nbsp;at&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;the&nbsp;other&nbsp;half&nbsp;of&nbsp;the&nbsp;ownership&nbsp;can&nbsp;live&nbsp;at&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">_field</span></span> <span class="inlinecode">&quot;::<span class="id" title="var">C</span>&quot;</span> <span class="inlinecode">&quot;<span class="id" title="var">x</span>&quot;</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;standard&nbsp;justifies&nbsp;this&nbsp;as&nbsp;follows:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)&nbsp;(cf.&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span>&nbsp;comment)&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span>&nbsp;ensures&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;points&nbsp;to&nbsp;a&nbsp;memory<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;with&nbsp;C++&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;and&nbsp;which&nbsp;has&nbsp;some&nbsp;value&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2)&nbsp;(cf.&nbsp;<span class="inlinecode"><span class="id" title="keyword">Section</span></span> <span class="inlinecode"><span class="id" title="var">type_ptr_object_representation</span></span>)&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span>&nbsp;holds&nbsp;for&nbsp;all&nbsp;of&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bytes&nbsp;(i.e.&nbsp;the&nbsp;"object&nbsp;reprsentation")&nbsp;constituting&nbsp;well-typed&nbsp;C++&nbsp;objects.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3)&nbsp;NOTE&nbsp;(JH):&nbsp;the&nbsp;following&nbsp;isn't&nbsp;quite&nbsp;true&nbsp;yet,&nbsp;but&nbsp;we'll&nbsp;want&nbsp;this&nbsp;when&nbsp;we&nbsp;flesh<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;<span class="inlinecode"><span class="id" title="var">rawR</span></span>/<span class="inlinecode"><span class="id" title="var">RAW_BYTES</span></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a)&nbsp;all&nbsp;values&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span>&nbsp;can&nbsp;be&nbsp;converted&nbsp;into&nbsp;(potentially&nbsp;many)&nbsp;<span class="inlinecode"><span class="id" title="var">raw_byte</span></span>s&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;capture&nbsp;its&nbsp;"object&nbsp;representation"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b)&nbsp;all&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;facts&nbsp;can&nbsp;be&nbsp;shattered&nbsp;into&nbsp;(potentially&nbsp;many)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<span class="id" title="var">Vraw</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>&nbsp;facts&nbsp;corresponding&nbsp;to&nbsp;its&nbsp;"object&nbsp;representation"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4)&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<span class="id" title="var">Vraw</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>&nbsp;can&nbsp;be&nbsp;transported&nbsp;over&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span>&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>s:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a)&nbsp;<span class="inlinecode"><span class="id" title="var">tptso</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<span class="id" title="var">Vraw</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>&nbsp;facts&nbsp;deal&nbsp;with&nbsp;the&nbsp;"object&nbsp;representation"&nbsp;directly<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;thus&nbsp;permit&nbsp;erasing&nbsp;the&nbsp;structure&nbsp;of&nbsp;pointers&nbsp;in&nbsp;favor&nbsp;of&nbsp;reasoning&nbsp;about<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative&nbsp;byte&nbsp;offsets&nbsp;from&nbsp;a&nbsp;shared&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>-prefix.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b)&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>s&nbsp;are&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span>&nbsp;so&nbsp;we&nbsp;know&nbsp;that:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i)&nbsp;they&nbsp;share&nbsp;a&nbsp;common&nbsp;base&nbsp;pointer&nbsp;<span class="inlinecode"><span class="id" title="var">p_base</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ii)&nbsp;the&nbsp;byte-offset&nbsp;values&nbsp;of&nbsp;the&nbsp;C++&nbsp;offsets&nbsp;which&nbsp;reconstitute&nbsp;the&nbsp;src/dst&nbsp;from<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">p_base</span></span>&nbsp;are&nbsp;equal<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iii)&nbsp;NOTE:&nbsp;(cf.&nbsp;<span class="inlinecode"><span class="id" title="var">valid_ptr_nonnull_nonzero</span></span>/<span class="inlinecode"><span class="id" title="var">type_ptr_valid_ptr</span></span>/<span class="inlinecode"><span class="id" title="var">type_ptr_nonnull</span></span>&nbsp;below)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">p_base</span></span>&nbsp;has&nbsp;some&nbsp;<span class="inlinecode"><span class="id" title="var">vaddr</span></span>,&nbsp;but&nbsp;we&nbsp;don't&nbsp;currently&nbsp;rely&nbsp;on&nbsp;this&nbsp;fact.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;improve&nbsp;our&nbsp;axiomatic&nbsp;support&nbsp;for&nbsp;raw&nbsp;values&nbsp;-&nbsp;including&nbsp;"shattering"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;non-raw&nbsp;values&nbsp;into&nbsp;their&nbsp;constituent&nbsp;raw&nbsp;pieces&nbsp;-&nbsp;to&nbsp;enable&nbsp;deriving<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto_ptr_congP_transport</span></span>&nbsp;from&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto_raw_ptr_congP_transport</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.tptsto_ptr_congP_transport" class="idref" href="#CPP_LOGIC.tptsto_ptr_congP_transport"><span class="id" title="axiom">tptsto_ptr_congP_transport</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="dc15c1cac3910f6ae9e365fec052b5b7" class="idref" href="#dc15c1cac3910f6ae9e365fec052b5b7"><span class="id" title="binder">σ</span></a>} <a id="q:395" class="idref" href="#q:395"><span class="id" title="binder">q</span></a> <a id="p1:396" class="idref" href="#p1:396"><span class="id" title="binder">p1</span></a> <a id="p2:397" class="idref" href="#p2:397"><span class="id" title="binder">p2</span></a> <a id="v:398" class="idref" href="#v:398"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.ptr_congP"><span class="id" title="definition">ptr_congP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#dc15c1cac3910f6ae9e365fec052b5b7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:396"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:397"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.logic.pred.html#dc15c1cac3910f6ae9e365fec052b5b7"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:395"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:396"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:398"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.tptsto"><span class="id" title="axiom">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.logic.pred.html#dc15c1cac3910f6ae9e365fec052b5b7"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:395"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:397"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:398"><span class="id" title="variable">v</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab149"></a><h2 class="section">Deducing pointer equalities</h2>

     The following axioms, together with <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a></span>, enable going
     from <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED.same_address"><span class="id" title="axiom">same_address</span></a></span> (produced by C++ pointer equality) to actual pointer
     equalities.
     
<div class="paragraph"> </div>

 Pointer equality with <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a></span> is easy, as long as your pointer is valid.
     Validity is necessary: the C++ expression <span class="inlinecode">(<span class="id" title="var">char</span></span> <span class="inlinecode">*</span> <span class="inlinecode">)<a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">-</span> <span class="inlinecode">(<span class="id" title="var">uintptr_t</span>)</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span>
     produces an invalid pointer with address 0, which is not <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a></span> because
     it preserves the provenance of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.same_address_eq_null" class="idref" href="#CPP_LOGIC.same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:400" class="idref" href="#p:400"><span class="id" title="binder">p</span></a> <a id="tv:401" class="idref" href="#tv:401"><span class="id" title="binder">tv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tv:401"><span class="id" title="variable">tv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:400"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:400"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:400"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.same_address_eq_type_ptr"><span class="id" title="axiom">same_address_eq_type_ptr</span></a></span> concludes that two pointers <span class="inlinecode"><span class="id" title="var">p1</span></span> and <span class="inlinecode"><span class="id" title="var">p2</span></span> are
    equal if they have the same address, point to live objects <span class="inlinecode"><span class="id" title="var">o1</span></span> and <span class="inlinecode"><span class="id" title="var">o2</span></span>,
    and have the same (non-uchar) type <span class="inlinecode"><span class="id" title="var">ty</span></span> with nonzero size.

<div class="paragraph"> </div>

    Justifying this from the standard is tricky; here's a proof sketch.
<ul class="doclist">
<li> Because <span class="inlinecode"><span class="id" title="var">ty</span></span> has "nonzero size" (https://eel.is/c++draft/intro.object8),
      and we don't support bitfields, we apply the standard:

      > Unless it is a bit-field, an object with nonzero size shall occupy one
        or more bytes of storage, including every byte that is occupied in full
        or in part by any of its subobjects.

    - Because [o1] and [o2] are live, these objects share storage, hence they
      must coincide or one must be nested inside the other
      (https://eel.is/c++draft/intro.object4); if they coincide, our proof
      is done.

</li>
<li> Because <span class="inlinecode"><span class="id" title="var">ty</span></span> is not <span class="inlinecode"><span class="id" title="var">unsigned</span></span> <span class="inlinecode"><span class="id" title="var">char</span></span>, neither pointer can provide storage
      for the other (https://eel.is/c++draft/intro.object3); so one must be a
      subobject of the other.
    - Since [o1] and [o2] have type [ty], and type [ty] has "nonzero size",
      neither of [o1] and [o2] can be a subobject of the other;
      we conjecture is provable from the C++ type system.

    NOTE: we check "nonzero size"
    (https://eel.is/c++draft/basic.memobjintro.object-8) using <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a></span>,

</li>
</ul>
    which might incorporate implementation-specific compiler decisions.
    TODO: handle <span class="inlinecode"><span class="id" title="var">std</span>::<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.byte"><span class="id" title="definition">byte</span></a></span> like <span class="inlinecode"><span class="id" title="var">unsigned</span></span> <span class="inlinecode"><span class="id" title="var">char</span></span>.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.same_address_eq_type_ptr" class="idref" href="#CPP_LOGIC.same_address_eq_type_ptr"><span class="id" title="axiom">same_address_eq_type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="resolve:403" class="idref" href="#resolve:403"><span class="id" title="binder">resolve</span></a> <a id="ty:404" class="idref" href="#ty:404"><span class="id" title="binder">ty</span></a> <a id="p1:405" class="idref" href="#p1:405"><span class="id" title="binder">p1</span></a> <a id="p2:406" class="idref" href="#p2:406"><span class="id" title="binder">p2</span></a> <a id="n:407" class="idref" href="#n:407"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:405"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:406"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#resolve:403"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:404"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:407"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Tuchar</span></span>,&nbsp;one&nbsp;of&nbsp;these&nbsp;pointer&nbsp;could&nbsp;provide&nbsp;storage&nbsp;for&nbsp;the&nbsp;other.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:404"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tuchar"><span class="id" title="abbreviation">Tuchar</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:407"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:404"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:405"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:404"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:406"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:405"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:406"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#pred_ns"><span class="id" title="definition">pred_ns</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:405"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:406"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
Padding
        <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.struct_padding"><span class="id" title="axiom">struct_padding</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a></span> represent the object state of an aggregate.
        Ownership of this token implies that the object is a alive. They only given when
        an object is fully constructed, and are taken back at the end of the lifetime.
        This is related to the "construction state" in Tahina's work, i.e.
        &lt;https://inria.hal.science/file/index/docid/674663/filename/cpp-construction.pdf&gt;
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.struct_padding" class="idref" href="#CPP_LOGIC.struct_padding"><span class="id" title="axiom">struct_padding</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:411" class="idref" href="#cpp_logic0:411"><span class="id" title="binder">!</span></a><a id="cpp_logic0:411" class="idref" href="#cpp_logic0:411"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:409" class="idref" href="#thread_info:409"><span class="id" title="binder"><span id="cpp_logic0:411" class="id">thread_info</span></span></a> <a id="b85ef768ceb39cd19ad44a9d09da09c0" class="idref" href="#b85ef768ceb39cd19ad44a9d09da09c0"><span class="id" title="binder"><span id="cpp_logic0:411" class="id">Σ</span></span></a>} {<a id="e09784edaac69c90b15d0a7e110c0ec0" class="idref" href="#e09784edaac69c90b15d0a7e110c0ec0"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:416" class="idref" href="#H:416"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.struct_padding_timeless" class="idref" href="#CPP_LOGIC.struct_padding_timeless"><span class="id" title="instance">struct_padding_timeless</span></a> {<a id="c7a40afd53d2eb4c651c5b06459a0552" class="idref" href="#c7a40afd53d2eb4c651c5b06459a0552"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless3"><span class="id" title="abbreviation">Timeless3</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.struct_padding"><span class="id" title="axiom">struct_padding</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.struct_padding_fractional" class="idref" href="#CPP_LOGIC.struct_padding_fractional"><span class="id" title="instance">struct_padding_fractional</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="296d9afc436d189f4af1904ae95a5c28" class="idref" href="#296d9afc436d189f4af1904ae95a5c28"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:419" class="idref" href="#p:419"><span class="id" title="binder">p</span></a> <a id="cls:420" class="idref" href="#cls:420"><span class="id" title="binder">cls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:419"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:420"><span class="id" title="variable">cls</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.struct_padding_frac_valid" class="idref" href="#CPP_LOGIC.struct_padding_frac_valid"><span class="id" title="instance">struct_padding_frac_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="19d36e1fb3d97f0ec72897174c26a61d" class="idref" href="#19d36e1fb3d97f0ec72897174c26a61d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:422" class="idref" href="#p:422"><span class="id" title="binder">p</span></a> <a id="cls:423" class="idref" href="#cls:423"><span class="id" title="binder">cls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid0"><span class="id" title="class">CFracValid0</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:422"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:423"><span class="id" title="variable">cls</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.struct_padding_type_ptr_observe" class="idref" href="#CPP_LOGIC.struct_padding_type_ptr_observe"><span class="id" title="instance">struct_padding_type_ptr_observe</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="459180f4d92c1424eedfdb8c13d6b9c2" class="idref" href="#459180f4d92c1424eedfdb8c13d6b9c2"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:425" class="idref" href="#p:425"><span class="id" title="binder">p</span></a> <a id="cls:426" class="idref" href="#cls:426"><span class="id" title="binder">cls</span></a> <a id="q:427" class="idref" href="#q:427"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:426"><span class="id" title="variable">cls</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:425"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:425"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:426"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:427"><span class="id" title="variable">q</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#aggregate.cls"><span class="id" title="variable">cls</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#q"><span class="id" title="axiom">q</span></a></span> <span class="inlinecode"><span class="id" title="var">active_member</span></span> is <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#q"><span class="id" title="axiom">q</span></a></span> ownership of
     the union padding for union <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#aggregate.cls"><span class="id" title="variable">cls</span></a></span> for the active member
     <span class="inlinecode"><span class="id" title="var">active_member</span></span>. When there is no active member the <span class="inlinecode"><span class="id" title="var">active_member</span></span>
     is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span>, otherwise it is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span> <span class="inlinecode"><span class="id" title="var">idx</span></span> where <span class="inlinecode"><span class="id" title="var">idx</span></span> is the numeric
     index of member field.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="CPP_LOGIC.union_padding" class="idref" href="#CPP_LOGIC.union_padding"><span class="id" title="axiom">union_padding</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="cpp_logic0:430" class="idref" href="#cpp_logic0:430"><span class="id" title="binder">!</span></a><a id="cpp_logic0:430" class="idref" href="#cpp_logic0:430"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:428" class="idref" href="#thread_info:428"><span class="id" title="binder"><span id="cpp_logic0:430" class="id">thread_info</span></span></a> <a id="15738b1a079d38312a191940a9910a2e" class="idref" href="#15738b1a079d38312a191940a9910a2e"><span class="id" title="binder"><span id="cpp_logic0:430" class="id">Σ</span></span></a>} {<a id="3943267390edb633ebd39bd8b8602c8e" class="idref" href="#3943267390edb633ebd39bd8b8602c8e"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="CPP_LOGIC.with_cpp.with_cpp_logic" class="idref" href="#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:435" class="idref" href="#H:435"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.union_padding_timeless" class="idref" href="#CPP_LOGIC.union_padding_timeless"><span class="id" title="instance">union_padding_timeless</span></a> {<a id="ac5d14a1b229320f8b97b6552043c6fc" class="idref" href="#ac5d14a1b229320f8b97b6552043c6fc"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} :  <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless4"><span class="id" title="abbreviation">Timeless4</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.union_padding"><span class="id" title="axiom">union_padding</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.union_padding_fractional" class="idref" href="#CPP_LOGIC.union_padding_fractional"><span class="id" title="instance">union_padding_fractional</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="c7dba9ce643bc1c9c077c7cce93e99dc" class="idref" href="#c7dba9ce643bc1c9c077c7cce93e99dc"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:438" class="idref" href="#p:438"><span class="id" title="binder">p</span></a> <a id="cls:439" class="idref" href="#cls:439"><span class="id" title="binder">cls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional1"><span class="id" title="abbreviation">CFractional1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:438"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:439"><span class="id" title="variable">cls</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.union_padding_frac_valid" class="idref" href="#CPP_LOGIC.union_padding_frac_valid"><span class="id" title="instance">union_padding_frac_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="47ee50f676ed6c11bc677a1f074d789d" class="idref" href="#47ee50f676ed6c11bc677a1f074d789d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:441" class="idref" href="#p:441"><span class="id" title="binder">p</span></a> <a id="cls:442" class="idref" href="#cls:442"><span class="id" title="binder">cls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid1"><span class="id" title="class">CFracValid1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:441"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:442"><span class="id" title="variable">cls</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.union_padding_type_ptr_observe" class="idref" href="#CPP_LOGIC.union_padding_type_ptr_observe"><span class="id" title="instance">union_padding_type_ptr_observe</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="dec7ec7f0a8a78a1f8a0d993485df121" class="idref" href="#dec7ec7f0a8a78a1f8a0d993485df121"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:444" class="idref" href="#p:444"><span class="id" title="binder">p</span></a> <a id="cls:445" class="idref" href="#cls:445"><span class="id" title="binder">cls</span></a> <a id="q:446" class="idref" href="#q:446"><span class="id" title="binder">q</span></a> <a id="active:447" class="idref" href="#active:447"><span class="id" title="binder">active</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:445"><span class="id" title="variable">cls</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:444"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:444"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:445"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:446"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#active:447"><span class="id" title="variable">active</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="CPP_LOGIC.union_padding_agree" class="idref" href="#CPP_LOGIC.union_padding_agree"><span class="id" title="instance">union_padding_agree</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="7ceed8d386063e7e3dc2b8da679054d9" class="idref" href="#7ceed8d386063e7e3dc2b8da679054d9"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:449" class="idref" href="#p:449"><span class="id" title="binder">p</span></a> <a id="cls:450" class="idref" href="#cls:450"><span class="id" title="binder">cls</span></a> <a id="q:451" class="idref" href="#q:451"><span class="id" title="binder">q</span></a> <a id="q':452" class="idref" href="#q':452"><span class="id" title="binder">q'</span></a> <a id="i:453" class="idref" href="#i:453"><span class="id" title="binder">i</span></a> <a id="i':454" class="idref" href="#i':454"><span class="id" title="binder">i'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:453"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i':454"><span class="id" title="variable">i'</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:449"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:450"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:451"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:453"><span class="id" title="variable">i</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:449"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:450"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q':452"><span class="id" title="variable">q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i':454"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp.with_cpp_logic"><span class="id" title="section">with_cpp_logic</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;strict&nbsp;validity&nbsp;(not&nbsp;past-the-end)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.strict_valid_ptr" class="idref" href="#CPP_LOGIC.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;validity&nbsp;(past-the-end&nbsp;allowed)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="CPP_LOGIC.valid_ptr" class="idref" href="#CPP_LOGIC.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Pointer&nbsp;axioms.&nbsp;XXX&nbsp;Not&nbsp;modeled&nbsp;for&nbsp;now.&nbsp;*)</span><br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="VALID_PTR_AXIOMS" class="idref" href="#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">INTF</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_FUNCTOR"><span class="id" title="module">VALUES_INTF_FUNCTOR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P"><span class="id" title="module">P</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">CC</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS"><span class="id" title="module">CPP_LOGIC_CLASS</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">Import</span> <span class="id" title="var">CPP</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P"><span class="id" title="module">P</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#INTF"><span class="id" title="module">INTF</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CC"><span class="id" title="module">CC</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="VALID_PTR_AXIOMS.with_cpp" class="idref" href="#VALID_PTR_AXIOMS.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:457" class="idref" href="#H:457"><span class="id" title="binder">cpp_logic</span></a>} {<a id="b3783e3bbc35d4cc5bd36b7dce5814cd" class="idref" href="#b3783e3bbc35d4cc5bd36b7dce5814cd"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.invalid_ptr_invalid" class="idref" href="#VALID_PTR_AXIOMS.invalid_ptr_invalid"><span class="id" title="axiom">invalid_ptr_invalid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="vt:459" class="idref" href="#vt:459"><span class="id" title="binder">vt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:459"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>

<br/>
</div>

<div class="doc">
Justified by <span class="inlinecode"><span class="id" title="var">https</span>://<span class="id" title="var">eel.is</span>/<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.c"><span class="id" title="abbreviation">c</span></a>++<span class="id" title="var">draft</span>/<span class="id" title="var">expr.add</span>#4.1</span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS._valid_ptr_nullptr_sub_false" class="idref" href="#VALID_PTR_AXIOMS._valid_ptr_nullptr_sub_false"><span class="id" title="axiom">_valid_ptr_nullptr_sub_false</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="vt:461" class="idref" href="#vt:461"><span class="id" title="binder">vt</span></a> <a id="ty:462" class="idref" href="#ty:462"><span class="id" title="binder">ty</span></a> (<a id="i:463" class="idref" href="#i:463"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:463"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:461"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:462"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:463"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;TODO&nbsp;Controversial;&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;is&nbsp;the&nbsp;first&nbsp;field,&nbsp;<span class="inlinecode"><span class="id" title="var">nullptr</span>-&gt;<span class="id" title="var">f</span></span>&nbsp;or&nbsp;casts&nbsp;relying&nbsp;on<br/>
&nbsp;&nbsp;&nbsp;&nbsp;https://eel.is/c++draft/basic.compound4 might invalidate this.
    To make this valid, we could ensure our axiomatic semantics produces
    [nullptr] instead of [nullptr ., o_field]. *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;_valid_ptr_nullptr_field_false&nbsp;:&nbsp;forall&nbsp;vt&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_valid_ptr&nbsp;vt&nbsp;(nullptr&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--&nbsp;False.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
These axioms are named after the predicate in the conclusion. 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

    TODO: The intended proof of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a></span> assumes that, if <span class="inlinecode"><span class="id" title="var">p'</span></span>
    normalizes to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">]</span>, then <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p'</span></span> is defined to imply
    validity of all pointers from <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> to <span class="inlinecode"><span class="id" title="var">p'</span></span>.

<div class="paragraph"> </div>

    Note that `arrR` exposes stronger reasoning principles, but this might still be useful.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.strict_valid_ptr_sub" class="idref" href="#VALID_PTR_AXIOMS.strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="i:465" class="idref" href="#i:465"><span class="id" title="binder">i</span></a> <a id="j:466" class="idref" href="#j:466"><span class="id" title="binder">j</span></a> <a id="k:467" class="idref" href="#k:467"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="p:468" class="idref" href="#p:468"><span class="id" title="binder">p</span></a> <a id="ty:469" class="idref" href="#ty:469"><span class="id" title="binder">ty</span></a> <a id="vt1:470" class="idref" href="#vt1:470"><span class="id" title="binder">vt1</span></a> <a id="vt2:471" class="idref" href="#vt2:471"><span class="id" title="binder">vt2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:465"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:466"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:467"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt1:470"><span class="id" title="variable">vt1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:468"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:469"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:465"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt2:471"><span class="id" title="variable">vt2</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:468"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:469"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:467"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:468"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:469"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:466"><span class="id" title="variable">j</span></a>).<br/>

<br/>
</div>

<div class="doc">
XXX: this axiom is convoluted but
    TODO: The intended proof of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a></span> (and friends) is that
    (1) if <span class="inlinecode"><span class="id" title="var">p'</span></span> normalizes to <span class="inlinecode"><span class="id" title="var">p''</span></span> <span class="inlinecode">.,</span> <span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">]</span>, then <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p'</span></span> implies
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p''</span></span>.
    (2) <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#qual_norm.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> will normalize to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a></span>
    <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#qual_norm.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span>, without cancellation.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.strict_valid_ptr_field_sub" class="idref" href="#VALID_PTR_AXIOMS.strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="p:473" class="idref" href="#p:473"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:474" class="idref" href="#ty:474"><span class="id" title="binder">ty</span></a> (<a id="i:475" class="idref" href="#i:475"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="f:476" class="idref" href="#f:476"><span class="id" title="binder">f</span></a> <a id="vt:477" class="idref" href="#vt:477"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:475"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:477"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:473"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:476"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:474"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:475"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:473"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:476"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;can&nbsp;we&nbsp;deduce&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;strictly&nbsp;valid?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS._valid_ptr_field" class="idref" href="#VALID_PTR_AXIOMS._valid_ptr_field"><span class="id" title="axiom">_valid_ptr_field</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:479" class="idref" href="#p:479"><span class="id" title="binder">p</span></a> <a id="f:480" class="idref" href="#f:480"><span class="id" title="binder">f</span></a> <a id="vt:481" class="idref" href="#vt:481"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:481"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:479"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:480"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:481"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:479"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;Pointers&nbsp;to&nbsp;fields&nbsp;can't&nbsp;be&nbsp;past-the-end,&nbsp;right?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Except&nbsp;0-size&nbsp;arrays.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;strict_valid_ptr_field&nbsp;:&nbsp;∀&nbsp;p&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strict_valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;if&nbsp;we&nbsp;add&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr_field</span></span>,&nbsp;we&nbsp;can&nbsp;derive<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">_valid_ptr_field</span></span>&nbsp;from&nbsp;just&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr_field</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;strict_valid_ptr_field&nbsp;:&nbsp;∀&nbsp;p&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strict_valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--&nbsp;strict_valid_ptr&nbsp;p.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We're&nbsp;ignoring&nbsp;virtual&nbsp;inheritance&nbsp;here,&nbsp;since&nbsp;we&nbsp;have&nbsp;no&nbsp;plans&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;support&nbsp;it&nbsp;for&nbsp;now,&nbsp;but&nbsp;this&nbsp;might&nbsp;hold&nbsp;there&nbsp;too.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.o_base_directly_derives" class="idref" href="#VALID_PTR_AXIOMS.o_base_directly_derives"><span class="id" title="axiom">o_base_directly_derives</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:483" class="idref" href="#p:483"><span class="id" title="binder">p</span></a> <a id="base:484" class="idref" href="#base:484"><span class="id" title="binder">base</span></a> <a id="derived:485" class="idref" href="#derived:485"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:483"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:485"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:484"><span class="id" title="variable">base</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:485"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:484"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.o_derived_directly_derives" class="idref" href="#VALID_PTR_AXIOMS.o_derived_directly_derives"><span class="id" title="axiom">o_derived_directly_derives</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:487" class="idref" href="#p:487"><span class="id" title="binder">p</span></a> <a id="base:488" class="idref" href="#base:488"><span class="id" title="binder">base</span></a> <a id="derived:489" class="idref" href="#derived:489"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:487"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:488"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:489"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:489"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:488"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;maybe&nbsp;add&nbsp;a&nbsp;validity&nbsp;of&nbsp;offsets&nbsp;to&nbsp;allow&nbsp;stating&nbsp;this&nbsp;more&nbsp;generally.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.valid_o_sub_size" class="idref" href="#VALID_PTR_AXIOMS.valid_o_sub_size"><span class="id" title="axiom">valid_o_sub_size</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:491" class="idref" href="#p:491"><span class="id" title="binder">p</span></a> <a id="ty:492" class="idref" href="#ty:492"><span class="id" title="binder">ty</span></a> <a id="i:493" class="idref" href="#i:493"><span class="id" title="binder">i</span></a> <a id="vt:494" class="idref" href="#vt:494"><span class="id" title="binder">vt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:494"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:491"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:492"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:493"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:492"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.type_ptr_o_base" class="idref" href="#VALID_PTR_AXIOMS.type_ptr_o_base"><span class="id" title="axiom">type_ptr_o_base</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="derived:496" class="idref" href="#derived:496"><span class="id" title="binder">derived</span></a> <a id="base:497" class="idref" href="#base:497"><span class="id" title="binder">base</span></a> <a id="p:498" class="idref" href="#p:498"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#class_derives"><span class="id" title="class">class_derives</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:496"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:497"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:496"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:498"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:497"><span class="id" title="variable">base</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:498"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P._base"><span class="id" title="abbreviation">_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:496"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:497"><span class="id" title="variable">base</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.type_ptr_o_field_type_ptr" class="idref" href="#VALID_PTR_AXIOMS.type_ptr_o_field_type_ptr"><span class="id" title="axiom">type_ptr_o_field_type_ptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:500" class="idref" href="#p:500"><span class="id" title="binder">p</span></a> <a id="fld:501" class="idref" href="#fld:501"><span class="id" title="binder">fld</span></a> <a id="cls:502" class="idref" href="#cls:502"><span class="id" title="binder">cls</span></a> (<a id="st:503" class="idref" href="#st:503"><span class="id" title="binder">st</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Struct"><span class="id" title="abbreviation">Struct</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#glob_def"><span class="id" title="definition">glob_def</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#68387cd259ba3e4a2c75cfa6fec2e622"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:502"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#st:503"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#fld:501"><span class="id" title="variable">fld</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_fields"><span class="id" title="projection">s_fields</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#st:503"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:502"><span class="id" title="variable">cls</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:500"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#fld:501"><span class="id" title="variable">fld</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_type"><span class="id" title="projection">mem_type</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:500"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#277907e5594f9eaa696e8f1504306db3"><span class="id" title="notation">.,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#277907e5594f9eaa696e8f1504306db3"><span class="id" title="notation">{|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#fld:501"><span class="id" title="variable">fld</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_name"><span class="id" title="projection">mem_name</span></a>) ; <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:502"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#277907e5594f9eaa696e8f1504306db3"><span class="id" title="notation">|}</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR_AXIOMS.type_ptr_o_sub" class="idref" href="#VALID_PTR_AXIOMS.type_ptr_o_sub"><span class="id" title="axiom">type_ptr_o_sub</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:505" class="idref" href="#p:505"><span class="id" title="binder">p</span></a> (<a id="m:506" class="idref" href="#m:506"><span class="id" title="binder">m</span></a> <a id="n:507" class="idref" href="#n:507"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) <a id="ty:508" class="idref" href="#ty:508"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#m:506"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:507"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:508"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:507"><span class="id" title="variable">n</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:505"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP.type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:508"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:505"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P._sub"><span class="id" title="abbreviation">_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:508"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#m:506"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Module</span> <a id="L" class="idref" href="#L"><span class="id" title="module">L</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM"><span class="id" title="module">PTRS_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM"><span class="id" title="module">VALUES_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC"><span class="id" title="module">LC</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L"><span class="id" title="module">L</span></a>.<br/>

<br/>
<span class="id" title="keyword">Declare Module</span> <span class="id" title="keyword">Export</span> <a id="VALID_PTR" class="idref" href="#VALID_PTR"><span class="id" title="module">VALID_PTR</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM"><span class="id" title="module">PTRS_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM"><span class="id" title="module">VALUES_INTF_AXIOM</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC"><span class="id" title="module">LC</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L"><span class="id" title="module">L</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="valid_ptr_code" class="idref" href="#valid_ptr_code"><span class="id" title="section">valid_ptr_code</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:512" class="idref" href="#H:512"><span class="id" title="binder">cpp_logic</span></a>} {<a id="40dc0f8a935f892f235989c70afdf6c9" class="idref" href="#40dc0f8a935f892f235989c70afdf6c9"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:514" class="idref" href="#tu:514"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="code_at_valid" class="idref" href="#code_at_valid"><span class="id" title="lemma">code_at_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:515" class="idref" href="#f:515"><span class="id" title="binder">f</span></a> <a id="p:516" class="idref" href="#p:516"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#code_at"><span class="id" title="axiom">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_code.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:515"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:516"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:516"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#code_at_strict_valid"><span class="id" title="axiom">code_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="method_at_valid" class="idref" href="#method_at_valid"><span class="id" title="lemma">method_at_valid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:517" class="idref" href="#f:517"><span class="id" title="binder">f</span></a> <a id="p:518" class="idref" href="#p:518"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#method_at"><span class="id" title="axiom">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_code.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:517"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:518"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:518"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#method_at_strict_valid"><span class="id" title="axiom">method_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ctor_at_valid" class="idref" href="#ctor_at_valid"><span class="id" title="lemma">ctor_at_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:519" class="idref" href="#f:519"><span class="id" title="binder">f</span></a> <a id="p:520" class="idref" href="#p:520"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ctor_at"><span class="id" title="axiom">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_code.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:519"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:520"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:520"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ctor_at_strict_valid"><span class="id" title="axiom">ctor_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dtor_at_valid" class="idref" href="#dtor_at_valid"><span class="id" title="lemma">dtor_at_valid</span></a>   : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:521" class="idref" href="#f:521"><span class="id" title="binder">f</span></a> <a id="p:522" class="idref" href="#p:522"><span class="id" title="binder">p</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a>   <a class="idref" href="bedrock.lang.cpp.logic.pred.html#dtor_at"><span class="id" title="axiom">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_code.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:521"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:522"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:522"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#dtor_at_strict_valid"><span class="id" title="axiom">dtor_at_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_code"><span class="id" title="section">valid_ptr_code</span></a>.<br/>

<br/>
<a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">mlock</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">Definition</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">exposed_ptr</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">`{</span></span></span></span></span></span></span></a><a id="H:525" class="idref" href="#H:525"><span class="id" title="axiom, binder, definition, module"><span id="H:530" class="id"><span id="exposed_ptr_Locked" class="id"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">cpp_logic</span></span></span></span></span></span></span></span></span></a><a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">}</span></span></span></span></span></span></span></a> <a id="p:526" class="idref" href="#p:526"><span class="id" title="axiom, binder, definition, module"><span id="p:531" class="id"><span id="exposed_ptr_Locked" class="id"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">p</span></span></span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">mpred</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">:=</span></span></span></span></span></span></span></a><br/>
&nbsp;&nbsp;<a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">valid_ptr</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">p</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">**</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">∃</span></span></span></span></span></span></span></a> <a id="aid:527" class="idref" href="#aid:527"><span class="id" title="axiom, binder, definition, module"><span id="exposed_ptr_Locked" class="id"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">aid</span></span></span></span></span></span></span></span></a><a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">,</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">[|</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">ptr_alloc_id</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">p</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">=</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">Some</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">aid</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">|]</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">**</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">exposed_aid</span></span></span></span></span></span></span></a> <a id="exposed_ptr_Locked" class="idref" href="#exposed_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="exposed_ptr_Locked.body" class="id"><span id="exposed_ptr_Locked.unlock" class="id"><span id="exposed_ptr" class="id"><span id="exposed_ptr.body" class="id"><span id="exposed_ptr.unlock" class="id"><span id="exposed_ptr_unlock_subterm" class="id">aid</span></span></span></span></span></span></span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#body"><span class="id" title="axiom">exposed_ptr</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">p</span> : <span class="id" title="tactic">assert</span>.<br/>

<br/>
</div>

<div class="doc">
Physical representation of pointers.  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">va</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> states that the abstract pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> is tied to a
  virtual address <span class="inlinecode"><span class="id" title="var">va</span></span>.
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a></span> will only hold on pointers that are associated to addresses,
  but other pointers exist. 
</div>
<div class="code">
<a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">mlock</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">Definition</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">pinned_ptr</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">`{</span></span></span></span></span></span></span></a><a id="H:534" class="idref" href="#H:534"><span class="id" title="axiom, binder, definition, module"><span id="H:539" class="id"><span id="pinned_ptr_Locked" class="id"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">cpp_logic</span></span></span></span></span></span></span></span></span></a><a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">}</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="va:535" class="idref" href="#va:535"><span class="id" title="axiom, binder, definition, module"><span id="va:540" class="id"><span id="pinned_ptr_Locked" class="id"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">va</span></span></span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">vaddr</span></span></span></span></span></span></span></a><a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="p:536" class="idref" href="#p:536"><span class="id" title="axiom, binder, definition, module"><span id="p:541" class="id"><span id="pinned_ptr_Locked" class="id"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">p</span></span></span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">ptr</span></span></span></span></span></span></span></a><a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">mpred</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">:=</span></span></span></span></span></span></span></a><br/>
&nbsp;&nbsp;<a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">[|</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">ptr_vaddr</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">p</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">=</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">Some</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">va</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">|]</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">**</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">exposed_ptr</span></span></span></span></span></span></span></a> <a id="pinned_ptr_Locked" class="idref" href="#pinned_ptr_Locked"><span class="id" title="axiom, definition, module"><span id="pinned_ptr_Locked.body" class="id"><span id="pinned_ptr_Locked.unlock" class="id"><span id="pinned_ptr" class="id"><span id="pinned_ptr.body" class="id"><span id="pinned_ptr.unlock" class="id"><span id="pinned_ptr_unlock_subterm" class="id">p</span></span></span></span></span></span></span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#body"><span class="id" title="axiom">pinned_ptr</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">va</span> <span class="id" title="var">p</span> : <span class="id" title="tactic">assert</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="pinned_ptr_Z" class="idref" href="#pinned_ptr_Z"><span class="id" title="abbreviation">pinned_ptr_Z</span></a> <span class="id" title="var">va</span> <span class="id" title="var">p</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">va</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> <span class="id" title="var">va</span>) <span class="id" title="var">p</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="pinned_ptr_def" class="idref" href="#pinned_ptr_def"><span class="id" title="section">pinned_ptr_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:544" class="idref" href="#H:544"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_persistent" class="idref" href="#exposed_ptr_persistent"><span class="id" title="instance">exposed_ptr_persistent</span></a> <a id="p:545" class="idref" href="#p:545"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:545"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">exposed_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_affine" class="idref" href="#exposed_ptr_affine"><span class="id" title="instance">exposed_ptr_affine</span></a> <a id="p:546" class="idref" href="#p:546"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:546"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">exposed_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_timeless" class="idref" href="#exposed_ptr_timeless"><span class="id" title="instance">exposed_ptr_timeless</span></a> <a id="p:547" class="idref" href="#p:547"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:547"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">exposed_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="exposed_ptr_valid" class="idref" href="#exposed_ptr_valid"><span class="id" title="instance">exposed_ptr_valid</span></a> <a id="p:548" class="idref" href="#p:548"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:548"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:548"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">exposed_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="exposed_ptr_nullptr" class="idref" href="#exposed_ptr_nullptr"><span class="id" title="lemma">exposed_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">exposed_ptr.unlock</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_nullptr"><span class="id" title="axiom">valid_ptr_nullptr</span></a> <span class="id" title="keyword">as</span> "$". <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_aid_null_alloc_id"><span class="id" title="axiom">exposed_aid_null_alloc_id</span></a> <span class="id" title="keyword">as</span> "$".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset2_exposed_ptr" class="idref" href="#offset2_exposed_ptr"><span class="id" title="lemma">offset2_exposed_ptr</span></a> <a id="p:549" class="idref" href="#p:549"><span class="id" title="binder">p</span></a> <a id="o1:550" class="idref" href="#o1:550"><span class="id" title="binder">o1</span></a> <a id="o2:551" class="idref" href="#o2:551"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:549"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:551"><span class="id" title="variable">o2</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:549"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:550"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:549"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:551"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">exposed_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#V2 #[V1 E]"; <span class="id" title="var">iFrame</span> "V2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> // <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_exposed_ptr" class="idref" href="#offset_exposed_ptr"><span class="id" title="lemma">offset_exposed_ptr</span></a> <a id="p:552" class="idref" href="#p:552"><span class="id" title="binder">p</span></a> <a id="o:553" class="idref" href="#o:553"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:552"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:553"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:552"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:552"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:553"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset2_exposed_ptr"><span class="id" title="lemma">offset2_exposed_ptr</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_inv_exposed_ptr" class="idref" href="#offset_inv_exposed_ptr"><span class="id" title="lemma">offset_inv_exposed_ptr</span></a> <a id="p:554" class="idref" href="#p:554"><span class="id" title="binder">p</span></a> <a id="o:555" class="idref" href="#o:555"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:554"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:554"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:555"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:554"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -{1 3}(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset2_exposed_ptr"><span class="id" title="lemma">offset2_exposed_ptr</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_exposed_ptr_all" class="idref" href="#offset_exposed_ptr_all"><span class="id" title="lemma">offset_exposed_ptr_all</span></a> <a id="p:556" class="idref" href="#p:556"><span class="id" title="binder">p</span></a> <a id="o:557" class="idref" href="#o:557"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:556"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:556"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:557"><span class="id" title="variable">o</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:556"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#5d86c478d2da7bfe16f1a17917a6c4c5"><span class="id" title="notation">∗-∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:556"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:557"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#[V V']"; <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_exposed_ptr"><span class="id" title="lemma">offset_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_inv_exposed_ptr"><span class="id" title="lemma">offset_inv_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_persistent" class="idref" href="#pinned_ptr_persistent"><span class="id" title="instance">pinned_ptr_persistent</span></a> <a id="va:558" class="idref" href="#va:558"><span class="id" title="binder">va</span></a> <a id="p:559" class="idref" href="#p:559"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:558"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:559"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_affine" class="idref" href="#pinned_ptr_affine"><span class="id" title="instance">pinned_ptr_affine</span></a> <a id="va:560" class="idref" href="#va:560"><span class="id" title="binder">va</span></a> <a id="p:561" class="idref" href="#p:561"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:560"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:561"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_timeless" class="idref" href="#pinned_ptr_timeless"><span class="id" title="instance">pinned_ptr_timeless</span></a> <a id="va:562" class="idref" href="#va:562"><span class="id" title="binder">va</span></a> <a id="p:563" class="idref" href="#p:563"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:562"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:563"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_intro" class="idref" href="#pinned_ptr_intro"><span class="id" title="lemma">pinned_ptr_intro</span></a> <a id="p:564" class="idref" href="#p:564"><span class="id" title="binder">p</span></a> <a id="va:565" class="idref" href="#va:565"><span class="id" title="binder">va</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:564"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:565"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:564"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:565"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:564"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (?) "$". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_ptr_vaddr" class="idref" href="#pinned_ptr_ptr_vaddr"><span class="id" title="instance">pinned_ptr_ptr_vaddr</span></a> <a id="va:566" class="idref" href="#va:566"><span class="id" title="binder">va</span></a> <a id="p:567" class="idref" href="#p:567"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:567"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:566"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:566"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:567"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_change_va_eq" class="idref" href="#pinned_ptr_change_va_eq"><span class="id" title="lemma">pinned_ptr_change_va_eq</span></a> (<a id="p:568" class="idref" href="#p:568"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="va:569" class="idref" href="#va:569"><span class="id" title="binder">va</span></a> <a id="va':570" class="idref" href="#va':570"><span class="id" title="binder">va'</span></a> : <span class="id" title="definition">vaddr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Heq:571" class="idref" href="#Heq:571"><span class="id" title="binder">Heq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:568"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:569"><span class="id" title="variable">va</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':570"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:568"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a>  <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':570"><span class="id" title="variable">va'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:569"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:569"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:568"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#P".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe_elim_pure"><span class="id" title="lemma">observe_elim_pure</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">va'</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "P"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_change_va" class="idref" href="#pinned_ptr_change_va"><span class="id" title="lemma">pinned_ptr_change_va</span></a> <a id="p:572" class="idref" href="#p:572"><span class="id" title="binder">p</span></a> <a id="va:573" class="idref" href="#va:573"><span class="id" title="binder">va</span></a> <a id="va':574" class="idref" href="#va':574"><span class="id" title="binder">va'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Heq:575" class="idref" href="#Heq:575"><span class="id" title="binder">Heq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:572"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:573"><span class="id" title="variable">va</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':574"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:572"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:573"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:572"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_change_va_eq"><span class="id" title="lemma">pinned_ptr_change_va_eq</span></a> //. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "[_ $]". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_agree" class="idref" href="#pinned_ptr_agree"><span class="id" title="instance">pinned_ptr_agree</span></a> <a id="va1:576" class="idref" href="#va1:576"><span class="id" title="binder">va1</span></a> <a id="va2:577" class="idref" href="#va2:577"><span class="id" title="binder">va2</span></a> <a id="p:578" class="idref" href="#p:578"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va1:576"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va2:577"><span class="id" title="variable">va2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va1:576"><span class="id" title="variable">va1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:578"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va2:577"><span class="id" title="variable">va2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:578"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#P1 #P2 !&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe_elim_pure"><span class="id" title="lemma">observe_elim_pure</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "P1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe_elim_pure"><span class="id" title="lemma">observe_elim_pure</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "P2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_valid" class="idref" href="#pinned_ptr_valid"><span class="id" title="instance">pinned_ptr_valid</span></a> <a id="va:579" class="idref" href="#va:579"><span class="id" title="binder">va</span></a> <a id="p:580" class="idref" href="#p:580"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:580"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:579"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:580"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Just a corollary of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage_same_address"><span class="id" title="instance">provides_storage_same_address</span></a></span> in the style of
  <span class="inlinecode"><span class="id" title="var">provides_storage_pinned_ptr</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="provides_storage_pinned_ptr_pure" class="idref" href="#provides_storage_pinned_ptr_pure"><span class="id" title="lemma">provides_storage_pinned_ptr_pure</span></a> {<a id="storage_ptr:581" class="idref" href="#storage_ptr:581"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:582" class="idref" href="#obj_ptr:582"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:583" class="idref" href="#aty:583"><span class="id" title="binder">aty</span></a> <a id="va:584" class="idref" href="#va:584"><span class="id" title="binder">va</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:581"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:584"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:581"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:582"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:583"><span class="id" title="variable">aty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:582"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:584"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_same_address"><span class="id" title="axiom">provides_storage_same_address</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (<span class="id" title="var">HP</span> &lt;-). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_def"><span class="id" title="section">pinned_ptr_def</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_cpp" class="idref" href="#with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:587" class="idref" href="#H:587"><span class="id" title="binder">cpp_logic</span></a>} {<a id="9a5e0ef6eea911e5b6fa00e16456be86" class="idref" href="#9a5e0ef6eea911e5b6fa00e16456be86"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_address_bool_null" class="idref" href="#same_address_bool_null"><span class="id" title="lemma">same_address_bool_null</span></a> <a id="p:589" class="idref" href="#p:589"><span class="id" title="binder">p</span></a> <a id="tv:590" class="idref" href="#tv:590"><span class="id" title="binder">tv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tv:590"><span class="id" title="variable">tv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:589"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:589"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:589"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a>; <span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="valid_ptr_zero_null" class="idref" href="#valid_ptr_zero_null"><span class="id" title="lemma">valid_ptr_zero_null</span></a> <a id="p:591" class="idref" href="#p:591"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:591"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:591"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:591"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Haddr</span> [<span class="id" title="var">Hsuff</span> <span class="id" title="var">_</span>]) "!%". <span class="id" title="tactic">apply</span>: <span class="id" title="var">Hsuff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="valid_ptr_nonnull_nonzero" class="idref" href="#valid_ptr_nonnull_nonzero"><span class="id" title="lemma">valid_ptr_nonnull_nonzero</span></a> <a id="p:592" class="idref" href="#p:592"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:592"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:592"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:592"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>)); <span class="id" title="var">last</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_zero_null"><span class="id" title="lemma">valid_ptr_zero_null</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_ptr_nonnull" class="idref" href="#type_ptr_nonnull"><span class="id" title="lemma">type_ptr_nonnull</span></a> <a id="ty:593" class="idref" href="#ty:593"><span class="id" title="binder">ty</span></a> <a id="p:594" class="idref" href="#p:594"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:593"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:594"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:594"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -{1}(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_off_nonnull"><span class="id" title="axiom">type_ptr_off_nonnull</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_observe_nonnull" class="idref" href="#type_ptr_observe_nonnull"><span class="id" title="instance">type_ptr_observe_nonnull</span></a> <a id="ty:595" class="idref" href="#ty:595"><span class="id" title="binder">ty</span></a> <a id="p:596" class="idref" href="#p:596"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:596"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:595"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:596"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_nonnull"><span class="id" title="lemma">type_ptr_nonnull</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="provides_storage_preserves_nullptr" class="idref" href="#provides_storage_preserves_nullptr"><span class="id" title="instance">provides_storage_preserves_nullptr</span></a> {<a id="storage_ptr:597" class="idref" href="#storage_ptr:597"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:598" class="idref" href="#obj_ptr:598"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:599" class="idref" href="#aty:599"><span class="id" title="binder">aty</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:597"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:598"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:597"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:598"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:599"><span class="id" title="variable">aty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro_only_provable"><span class="id" title="lemma">observe_intro_only_provable</span></a>; <span class="id" title="var">iIntros</span> "PS".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_same_address"><span class="id" title="axiom">provides_storage_same_address</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_valid_obj_ptr"><span class="id" title="axiom">provides_storage_valid_obj_ptr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#VO".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_valid_storage_ptr"><span class="id" title="axiom">provides_storage_valid_storage_ptr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#VS {PS}".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "VO"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[<span class="id" title="var">HeqO</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_eq_null"><span class="id" title="axiom">same_address_eq_null</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "VS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[<span class="id" title="var">HeqS</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!%"; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">HeqO</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a>, <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">HeqS</span>, <span class="id" title="var">Hsm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="provides_storage_preserves_nonnull" class="idref" href="#provides_storage_preserves_nonnull"><span class="id" title="instance">provides_storage_preserves_nonnull</span></a> {<a id="storage_ptr:600" class="idref" href="#storage_ptr:600"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:601" class="idref" href="#obj_ptr:601"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:602" class="idref" href="#aty:602"><span class="id" title="binder">aty</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:600"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:601"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage"><span class="id" title="axiom">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#storage_ptr:600"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#obj_ptr:601"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aty:602"><span class="id" title="variable">aty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro_only_provable"><span class="id" title="lemma">observe_intro_only_provable</span></a>. <span class="id" title="var">iIntros</span> "PS".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#provides_storage_preserves_nullptr"><span class="id" title="instance">provides_storage_preserves_nullptr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "PS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "#-&gt; {PS}".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_unique" class="idref" href="#pinned_ptr_unique"><span class="id" title="instance">pinned_ptr_unique</span></a> <a id="va:603" class="idref" href="#va:603"><span class="id" title="binder">va</span></a> <a id="va':604" class="idref" href="#va':604"><span class="id" title="binder">va'</span></a> <a id="p:605" class="idref" href="#p:605"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:603"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':604"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:603"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:605"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va':604"><span class="id" title="variable">va'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:605"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[%H1 _] [%H2 _] !&gt; !%". <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_2_pinned_ptr_pure" class="idref" href="#offset_2_pinned_ptr_pure"><span class="id" title="lemma">offset_2_pinned_ptr_pure</span></a> <a id="o1:606" class="idref" href="#o1:606"><span class="id" title="binder">o1</span></a> <a id="o2:607" class="idref" href="#o2:607"><span class="id" title="binder">o2</span></a> <a id="z1:608" class="idref" href="#z1:608"><span class="id" title="binder">z1</span></a> <a id="z2:609" class="idref" href="#z2:609"><span class="id" title="binder">z2</span></a> <a id="va:610" class="idref" href="#va:610"><span class="id" title="binder">va</span></a> <a id="p:611" class="idref" href="#p:611"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:606"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:608"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:607"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:609"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:611"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:606"><span class="id" title="variable">o1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:610"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:611"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:611"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:606"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:611"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:607"><span class="id" title="variable">o2</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:610"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:608"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:609"><span class="id" title="variable">z2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:611"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:607"><span class="id" title="variable">o2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:610"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:608"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:609"><span class="id" title="variable">z2</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He1</span> <span class="id" title="var">He2</span> <span class="id" title="var">Hpin1</span>) "V V1 V2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_inv_pinned_ptr_pure"><span class="id" title="axiom">offset_inv_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[<span class="id" title="var">Hle1</span> <span class="id" title="var">Hp</span>]; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_pinned_ptr_pure"><span class="id" title="axiom">offset_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[<span class="id" title="var">Hle2</span> <span class="id" title="var">Hgoal</span>]; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.Znat.html#Z2N.id"><span class="id" title="lemma">Z2N.id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hgoal</span>, <span class="id" title="var">Hle2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_null" class="idref" href="#pinned_ptr_null"><span class="id" title="lemma">pinned_ptr_null</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> 0 <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_nullptr"><span class="id" title="lemma">exposed_ptr_nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_zero_is_null" class="idref" href="#pinned_ptr_zero_is_null"><span class="id" title="instance">pinned_ptr_zero_is_null</span></a> (<a id="p:612" class="idref" href="#p:612"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:612"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> 0 <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:612"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[%Heq #E]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_zero_null"><span class="id" title="lemma">valid_ptr_zero_null</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr_valid"><span class="id" title="instance">exposed_ptr_valid</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "E"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="pinned_ptr_null_is_zero" class="idref" href="#pinned_ptr_null_is_zero"><span class="id" title="instance">pinned_ptr_null_is_zero</span></a> <a id="addr:613" class="idref" href="#addr:613"><span class="id" title="binder">addr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#addr:613"><span class="id" title="variable">addr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">N</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#addr:613"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="bedrock.lang.bi.observe.html#observe_derive_only_provable"><span class="id" title="lemma">observe_derive_only_provable</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">addr</span>)); <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_same_address" class="idref" href="#pinned_ptr_same_address"><span class="id" title="lemma">pinned_ptr_same_address</span></a> <a id="pp1:614" class="idref" href="#pp1:614"><span class="id" title="binder">pp1</span></a> <a id="pp2:615" class="idref" href="#pp2:615"><span class="id" title="binder">pp2</span></a> <a id="v:616" class="idref" href="#v:616"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pp1:614"><span class="id" title="variable">pp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pp2:615"><span class="id" title="variable">pp2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#exposed_ptr"><span class="id" title="abbreviation">exposed_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pp2:615"><span class="id" title="variable">pp2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:616"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pp1:614"><span class="id" title="variable">pp1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:616"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pp2:615"><span class="id" title="variable">pp2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> ((? &amp; -&gt; &amp; -&gt;)%<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a>) "$ [%Hp _] !%".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_pinned_ptr_Z" class="idref" href="#offset_pinned_ptr_Z"><span class="id" title="lemma">offset_pinned_ptr_Z</span></a> <a id="o:617" class="idref" href="#o:617"><span class="id" title="binder">o</span></a> <a id="z:618" class="idref" href="#z:618"><span class="id" title="binder">z</span></a> <a id="va:619" class="idref" href="#va:619"><span class="id" title="binder">va</span></a> <a id="p:620" class="idref" href="#p:620"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:617"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:618"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:620"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:617"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:619"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:620"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_Z"><span class="id" title="abbreviation">pinned_ptr_Z</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:619"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:618"><span class="id" title="variable">z</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:620"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:617"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He</span>) "#V' #(%P &amp; E)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_pinned_ptr_pure"><span class="id" title="axiom">offset_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V'"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$ $]"; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_exposed_ptr"><span class="id" title="lemma">offset_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_pinned_ptr" class="idref" href="#offset_pinned_ptr"><span class="id" title="lemma">offset_pinned_ptr</span></a> <a id="o:621" class="idref" href="#o:621"><span class="id" title="binder">o</span></a> <a id="z:622" class="idref" href="#z:622"><span class="id" title="binder">z</span></a> <a id="va:623" class="idref" href="#va:623"><span class="id" title="binder">va</span></a> <a id="p:624" class="idref" href="#p:624"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:621"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:622"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:624"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:621"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:623"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:624"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:623"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:622"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:624"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:621"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "V P".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_pinned_ptr_Z"><span class="id" title="lemma">offset_pinned_ptr_Z</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V P"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[_ $]".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_inv_pinned_ptr_Z" class="idref" href="#offset_inv_pinned_ptr_Z"><span class="id" title="lemma">offset_inv_pinned_ptr_Z</span></a> <a id="o:625" class="idref" href="#o:625"><span class="id" title="binder">o</span></a> <a id="z:626" class="idref" href="#z:626"><span class="id" title="binder">z</span></a> <a id="va:627" class="idref" href="#va:627"><span class="id" title="binder">va</span></a> <a id="p:628" class="idref" href="#p:628"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:625"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:626"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:628"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:627"><span class="id" title="variable">va</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:628"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:625"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_Z"><span class="id" title="abbreviation">pinned_ptr_Z</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:627"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:626"><span class="id" title="variable">z</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:628"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He</span>) "#V #(%P &amp; E)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_inv_pinned_ptr_pure"><span class="id" title="axiom">offset_inv_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "-#[$$]"; [<span class="id" title="var">done</span>..| |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "E"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_inv_exposed_ptr"><span class="id" title="lemma">offset_inv_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_2_pinned_ptr_Z" class="idref" href="#offset_2_pinned_ptr_Z"><span class="id" title="lemma">offset_2_pinned_ptr_Z</span></a> <a id="o1:629" class="idref" href="#o1:629"><span class="id" title="binder">o1</span></a> <a id="o2:630" class="idref" href="#o2:630"><span class="id" title="binder">o2</span></a> <a id="z1:631" class="idref" href="#z1:631"><span class="id" title="binder">z1</span></a> <a id="z2:632" class="idref" href="#z2:632"><span class="id" title="binder">z2</span></a> <a id="va:633" class="idref" href="#va:633"><span class="id" title="binder">va</span></a> <a id="p:634" class="idref" href="#p:634"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:629"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:631"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:630"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:632"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:634"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:634"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:629"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:634"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:630"><span class="id" title="variable">o2</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:633"><span class="id" title="variable">va</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:634"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:629"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_Z"><span class="id" title="abbreviation">pinned_ptr_Z</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:633"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z1:631"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z2:632"><span class="id" title="variable">z2</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:634"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:630"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>) "V V1 #V2 #(%P &amp; E)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_2_pinned_ptr_pure"><span class="id" title="lemma">offset_2_pinned_ptr_pure</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V V1 V2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$$]"; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset2_exposed_ptr"><span class="id" title="lemma">offset2_exposed_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_aligned_divide" class="idref" href="#pinned_ptr_aligned_divide"><span class="id" title="lemma">pinned_ptr_aligned_divide</span></a> <a id="va:635" class="idref" href="#va:635"><span class="id" title="binder">va</span></a> <a id="n:636" class="idref" href="#n:636"><span class="id" title="binder">n</span></a> <a id="p:637" class="idref" href="#p:637"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:635"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:637"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:636"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:637"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:636"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:635"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>; <span class="id" title="var">iIntros</span> "(%P &amp; _) !%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.pinned_ptr_pure_aligned_divide"><span class="id" title="lemma">pinned_ptr_pure_aligned_divide</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_pure_type_divide_1" class="idref" href="#pinned_ptr_pure_type_divide_1"><span class="id" title="lemma">pinned_ptr_pure_type_divide_1</span></a> <a id="va:638" class="idref" href="#va:638"><span class="id" title="binder">va</span></a> <a id="n:639" class="idref" href="#n:639"><span class="id" title="binder">n</span></a> <a id="p:640" class="idref" href="#p:640"><span class="id" title="binder">p</span></a> <a id="ty:641" class="idref" href="#ty:641"><span class="id" title="binder">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:642" class="idref" href="#Hal:642"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:641"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:639"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:641"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:640"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:640"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:638"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:639"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:638"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_aligned_pure"><span class="id" title="axiom">type_ptr_aligned_pure</span></a>. <span class="id" title="var">iIntros</span> "!%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.pinned_ptr_pure_divide_1"><span class="id" title="lemma">pinned_ptr_pure_divide_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="pinned_ptr_type_divide_1" class="idref" href="#pinned_ptr_type_divide_1"><span class="id" title="lemma">pinned_ptr_type_divide_1</span></a> <a id="va:643" class="idref" href="#va:643"><span class="id" title="binder">va</span></a> <a id="n:644" class="idref" href="#n:644"><span class="id" title="binder">n</span></a> <a id="p:645" class="idref" href="#p:645"><span class="id" title="binder">p</span></a> <a id="ty:646" class="idref" href="#ty:646"><span class="id" title="binder">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:647" class="idref" href="#Hal:647"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:646"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:644"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:646"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:645"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:643"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:645"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:644"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:643"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#unlock"><span class="id" title="axiom">pinned_ptr.unlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#? #(? &amp; _)". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_pure_type_divide_1"><span class="id" title="lemma">pinned_ptr_pure_type_divide_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_pinned_ptr_Z_sub" class="idref" href="#shift_pinned_ptr_Z_sub"><span class="id" title="lemma">shift_pinned_ptr_Z_sub</span></a> <a id="ty:648" class="idref" href="#ty:648"><span class="id" title="binder">ty</span></a> <a id="z:649" class="idref" href="#z:649"><span class="id" title="binder">z</span></a> <a id="va:650" class="idref" href="#va:650"><span class="id" title="binder">va</span></a> (<a id="p1:651" class="idref" href="#p1:651"><span class="id" title="binder">p1</span></a> <a id="p2:652" class="idref" href="#p2:652"><span class="id" title="binder">p2</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o:653" class="idref" href="#o:653"><span class="id" title="binder">o</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:651"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:648"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:649"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:652"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:648"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:653"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:652"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:650"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:651"><span class="id" title="variable">p1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr_Z"><span class="id" title="abbreviation">pinned_ptr_Z</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:650"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:649"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:653"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:652"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; &lt;- <span class="id" title="var">o_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[val pin1]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_pinned_ptr_Z"><span class="id" title="lemma">offset_pinned_ptr_Z</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "val"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.eval_o_sub"><span class="id" title="axiom">eval_o_sub</span></a> <span class="id" title="var">o_eq</span> /= <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.mul_comm"><span class="id" title="lemma">Z.mul_comm</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_pinned_ptr_sub" class="idref" href="#shift_pinned_ptr_sub"><span class="id" title="lemma">shift_pinned_ptr_sub</span></a> <a id="ty:654" class="idref" href="#ty:654"><span class="id" title="binder">ty</span></a> <a id="z:655" class="idref" href="#z:655"><span class="id" title="binder">z</span></a> <a id="va:656" class="idref" href="#va:656"><span class="id" title="binder">va</span></a> (<a id="p1:657" class="idref" href="#p1:657"><span class="id" title="binder">p1</span></a> <a id="p2:658" class="idref" href="#p2:658"><span class="id" title="binder">p2</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o:659" class="idref" href="#o:659"><span class="id" title="binder">o</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:657"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:654"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:655"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:658"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:654"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:659"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:658"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:656"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p1:657"><span class="id" title="variable">p1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#pinned_ptr"><span class="id" title="abbreviation">pinned_ptr</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#va:656"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#z:655"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o:659"><span class="id" title="variable">o</span></a>)) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p2:658"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "VP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#shift_pinned_ptr_Z_sub"><span class="id" title="lemma">shift_pinned_ptr_Z_sub</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "VP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[_ $]".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="_valid_valid" class="idref" href="#_valid_valid"><span class="id" title="lemma">_valid_valid</span></a> <a id="p:660" class="idref" href="#p:660"><span class="id" title="binder">p</span></a> <a id="vt:661" class="idref" href="#vt:661"><span class="id" title="binder">vt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:661"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:660"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:660"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">vt</span> =&gt; [|//]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="valid_ptr_sub" class="idref" href="#valid_ptr_sub"><span class="id" title="lemma">valid_ptr_sub</span></a> (<a id="i:662" class="idref" href="#i:662"><span class="id" title="binder">i</span></a> <a id="j:663" class="idref" href="#j:663"><span class="id" title="binder">j</span></a> <a id="k:664" class="idref" href="#k:664"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="p:665" class="idref" href="#p:665"><span class="id" title="binder">p</span></a> <a id="ty:666" class="idref" href="#ty:666"><span class="id" title="binder">ty</span></a> <a id="vt:667" class="idref" href="#vt:667"><span class="id" title="binder">vt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hj:668" class="idref" href="#Hj:668"><span class="id" title="binder">Hj</span></a> : (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:662"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:663"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:664"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:667"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:665"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:666"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:662"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:667"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:665"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:666"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#k:664"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:665"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:666"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#j:663"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)) <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">Hne</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_valid"><span class="id" title="lemma">_valid_valid</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "_ $". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="_valid_ptr_field_sub" class="idref" href="#_valid_ptr_field_sub"><span class="id" title="lemma">_valid_ptr_field_sub</span></a> (<a id="i:669" class="idref" href="#i:669"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="p:670" class="idref" href="#p:670"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:671" class="idref" href="#ty:671"><span class="id" title="binder">ty</span></a> <a id="f:672" class="idref" href="#f:672"><span class="id" title="binder">f</span></a> <a id="vt:673" class="idref" href="#vt:673"><span class="id" title="binder">vt</span></a> (<a id="Hle:674" class="idref" href="#Hle:674"><span class="id" title="binder">Hle</span></a> : (0 <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:669"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:673"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:670"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:672"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:671"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:669"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:673"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:670"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#f:672"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "V". <span class="id" title="tactic">case</span>: (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">Z</span>) <span class="id" title="var">Hle</span> =&gt; [-&gt; <span class="id" title="var">_</span>|<span class="id" title="var">Hne</span> <span class="id" title="var">Hle</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_o_sub_size"><span class="id" title="axiom">valid_o_sub_size</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_sub_0"><span class="id" title="lemma">offset_ptr_sub_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">vt</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="o_base_derived_strict" class="idref" href="#o_base_derived_strict"><span class="id" title="lemma">o_base_derived_strict</span></a> <a id="p:675" class="idref" href="#p:675"><span class="id" title="binder">p</span></a> <a id="base:676" class="idref" href="#base:676"><span class="id" title="binder">base</span></a> <a id="derived:677" class="idref" href="#derived:677"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:675"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:677"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:676"><span class="id" title="variable">base</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:675"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:677"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:676"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:676"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:677"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:675"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o_base_directly_derives"><span class="id" title="axiom">o_base_directly_derives</span></a>. <span class="id" title="var">f_equiv</span> =&gt; ?. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="o_derived_base_strict" class="idref" href="#o_derived_base_strict"><span class="id" title="lemma">o_derived_base_strict</span></a> <a id="p:678" class="idref" href="#p:678"><span class="id" title="binder">p</span></a> <a id="base:679" class="idref" href="#base:679"><span class="id" title="binder">base</span></a> <a id="derived:680" class="idref" href="#derived:680"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:678"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:679"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:680"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:678"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:679"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:680"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:680"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:679"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:678"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o_derived_directly_derives"><span class="id" title="axiom">o_derived_directly_derives</span></a>. <span class="id" title="var">f_equiv</span> =&gt; ?. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="o_derived_base_type" class="idref" href="#o_derived_base_type"><span class="id" title="lemma">o_derived_base_type</span></a> <a id="p:681" class="idref" href="#p:681"><span class="id" title="binder">p</span></a> <a id="base:682" class="idref" href="#base:682"><span class="id" title="binder">base</span></a> <a id="derived:683" class="idref" href="#derived:683"><span class="id" title="binder">derived</span></a> <a id="ty:684" class="idref" href="#ty:684"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:684"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:681"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:682"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:683"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:681"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:682"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:683"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:683"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:682"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:681"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#o_derived_base_strict"><span class="id" title="lemma">o_derived_base_strict</span></a> <span class="id" title="var">p</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">_inv</span></span> because unlike <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.type_ptr_o_base"><span class="id" title="axiom">type_ptr_o_base</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.type_ptr_o_field_type_ptr"><span class="id" title="axiom">type_ptr_o_field_type_ptr</span></a></span>,
  this lemma fits the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a>)</span> <span class="inlinecode">⊢</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> schema instead of the
  converse. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_ptr_o_derived_inv" class="idref" href="#type_ptr_o_derived_inv"><span class="id" title="lemma">type_ptr_o_derived_inv</span></a> <a id="derived:685" class="idref" href="#derived:685"><span class="id" title="binder">derived</span></a> <a id="base:686" class="idref" href="#base:686"><span class="id" title="binder">base</span></a> <a id="p:687" class="idref" href="#p:687"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#class_derives"><span class="id" title="class">class_derives</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:685"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:686"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:685"><span class="id" title="variable">derived</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:687"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._derived"><span class="id" title="abbreviation">_derived</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:686"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#derived:685"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#base:686"><span class="id" title="variable">base</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:687"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Hcd</span>) "T".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#o_derived_base_type"><span class="id" title="lemma">o_derived_base_type</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "T"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_o_base"><span class="id" title="axiom">type_ptr_o_base</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcd</span>) <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> is a valid pointer value in the sense of the standard, or
  "standard-valid" (https://eel.is/c++draft/basic.compound3.1), that is both
  valid (in our sense) and live.

  In particular, [p] is a valid pointer value even when accounting for
  pointer zapping.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="_valid_live_ptr" class="idref" href="#_valid_live_ptr"><span class="id" title="definition">_valid_live_ptr</span></a> <a id="vt:688" class="idref" href="#vt:688"><span class="id" title="binder">vt</span></a> (<a id="p:689" class="idref" href="#p:689"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:688"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:689"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:689"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="valid_live_ptr" class="idref" href="#valid_live_ptr"><span class="id" title="definition">valid_live_ptr</span></a> <a id="p:690" class="idref" href="#p:690"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_live_ptr"><span class="id" title="definition">_valid_live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:690"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="strict_valid_live_ptr" class="idref" href="#strict_valid_live_ptr"><span class="id" title="definition">strict_valid_live_ptr</span></a> <a id="p:691" class="idref" href="#p:691"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_live_ptr"><span class="id" title="definition">_valid_live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:691"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="tptsto_flip_mono" class="idref" href="#tptsto_flip_mono"><span class="id" title="instance">tptsto_flip_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto_mono"><span class="id" title="axiom">tptsto_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="tptsto_as_cfractional" class="idref" href="#tptsto_as_cfractional"><span class="id" title="instance">tptsto_as_cfractional</span></a> <a id="ty:692" class="idref" href="#ty:692"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional2"><span class="id" title="abbreviation">AsCFractional2</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:692"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_as_cfrac</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="mdc_path_as_cfractional" class="idref" href="#mdc_path_as_cfractional"><span class="id" title="instance">mdc_path_as_cfractional</span></a> <a id="this:693" class="idref" href="#this:693"><span class="id" title="binder">this</span></a> <a id="mdc:694" class="idref" href="#mdc:694"><span class="id" title="binder">mdc</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional1"><span class="id" title="abbreviation">AsCFractional1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc_path"><span class="id" title="axiom">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#this:693"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#mdc:694"><span class="id" title="variable">mdc</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_as_cfrac</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="tptsto_observe_nonnull" class="idref" href="#tptsto_observe_nonnull"><span class="id" title="instance">tptsto_observe_nonnull</span></a> <a id="t:695" class="idref" href="#t:695"><span class="id" title="binder">t</span></a> <a id="q:696" class="idref" href="#q:696"><span class="id" title="binder">q</span></a> <a id="p:697" class="idref" href="#p:697"><span class="id" title="binder">p</span></a> <a id="v:698" class="idref" href="#v:698"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:697"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:695"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:696"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:697"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:698"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro"><span class="id" title="lemma">observe_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto_nonnull"><span class="id" title="axiom">tptsto_nonnull</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.False_elim"><span class="id" title="lemma">bi.False_elim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tptsto_disjoint" class="idref" href="#tptsto_disjoint"><span class="id" title="lemma">tptsto_disjoint</span></a> <a id="ty:699" class="idref" href="#ty:699"><span class="id" title="binder">ty</span></a> <a id="c1:700" class="idref" href="#c1:700"><span class="id" title="binder">c1</span></a> <a id="c2:701" class="idref" href="#c2:701"><span class="id" title="binder">c2</span></a> <a id="q:702" class="idref" href="#q:702"><span class="id" title="binder">q</span></a> <a id="p:703" class="idref" href="#p:703"><span class="id" title="binder">p</span></a> <a id="v1:704" class="idref" href="#v1:704"><span class="id" title="binder">v1</span></a> <a id="v2:705" class="idref" href="#v2:705"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:699"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mk"><span class="id" title="constructor">cQp.mk</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#c1:700"><span class="id" title="variable">c1</span></a> 1) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:703"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:704"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto"><span class="id" title="axiom">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:699"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mk"><span class="id" title="constructor">cQp.mk</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#c2:701"><span class="id" title="variable">c2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:702"><span class="id" title="variable">q</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:703"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:705"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[T1 T2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#tptsto_agree"><span class="id" title="axiom">tptsto_agree</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "T1 T2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iCombine</span> "T1 T2" <span class="id" title="keyword">as</span> "T".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#cfrac_valid_2"><span class="id" title="method">cfrac_valid_2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "T"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#Qp.not_add_le_l"><span class="id" title="lemma">Qp.not_add_le_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="offset_ptr_congP" class="idref" href="#offset_ptr_congP"><span class="id" title="lemma">offset_ptr_congP</span></a> (<a id="p:706" class="idref" href="#p:706"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o1:707" class="idref" href="#o1:707"><span class="id" title="binder">o1</span></a> <a id="o2:708" class="idref" href="#o2:708"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#offset_congP"><span class="id" title="definition">offset_congP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:707"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:708"><span class="id" title="variable">o2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:706"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:707"><span class="id" title="variable">o1</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:706"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:708"><span class="id" title="variable">o2</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#ptr_congP"><span class="id" title="definition">ptr_congP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:706"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o1:707"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:706"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#o2:708"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "% T1 T2". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#ptr_congP"><span class="id" title="definition">ptr_congP</span></a>. <span class="id" title="var">iFrame</span> "T1 T2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_cong"><span class="id" title="lemma">offset_ptr_cong</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab150"></a><h3 class="section">Just wrappers.</h3>
 We can lift validity entailments through <span class="inlinecode"><a class="idref" href="bedrock.lang.proofmode.own_obs.html#Observe"><span class="id" title="abbreviation">Observe</span></a></span> (using
  <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.observe.html#Observe_mono"><span class="id" title="instance">Observe_mono</span></a></span>. These are not instances, to avoid causing slowdowns in
  proof search. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="observe_strict_valid_valid" class="idref" href="#observe_strict_valid_valid"><span class="id" title="lemma">observe_strict_valid_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="Hobs:711" class="idref" href="#Hobs:711"><span class="id" title="binder">Hobs</span></a> : !<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a id="p:709" class="idref" href="#p:709"><span class="id" title="binder">p</span></a>) <a id="P:710" class="idref" href="#P:710"><span class="id" title="binder">P</span></a>) : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:709"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P:710"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="observe_type_ptr_strict_valid" class="idref" href="#observe_type_ptr_strict_valid"><span class="id" title="lemma">observe_type_ptr_strict_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="Hobs:715" class="idref" href="#Hobs:715"><span class="id" title="binder">Hobs</span></a> : !<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a id="ty:712" class="idref" href="#ty:712"><span class="id" title="binder">ty</span></a> <a id="p:713" class="idref" href="#p:713"><span class="id" title="binder">p</span></a>) <a id="P:714" class="idref" href="#P:714"><span class="id" title="binder">P</span></a>) : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:713"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P:714"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="observe_type_ptr_valid_plus_one" class="idref" href="#observe_type_ptr_valid_plus_one"><span class="id" title="lemma">observe_type_ptr_valid_plus_one</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="Hobs:719" class="idref" href="#Hobs:719"><span class="id" title="binder">Hobs</span></a> : !<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a id="ty:716" class="idref" href="#ty:716"><span class="id" title="binder">ty</span></a> <a id="p:717" class="idref" href="#p:717"><span class="id" title="binder">p</span></a>) <a id="P:718" class="idref" href="#P:718"><span class="id" title="binder">P</span></a>) : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:717"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:716"><span class="id" title="variable">ty</span></a> 1)) <a class="idref" href="bedrock.lang.cpp.logic.pred.html#P:718"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_valid_plus_one"><span class="id" title="axiom">type_ptr_valid_plus_one</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_ptr_valid" class="idref" href="#type_ptr_valid"><span class="id" title="lemma">type_ptr_valid</span></a> <a id="ty:720" class="idref" href="#ty:720"><span class="id" title="binder">ty</span></a> <a id="p:721" class="idref" href="#p:721"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:720"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:721"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:721"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="type_ptr__valid" class="idref" href="#type_ptr__valid"><span class="id" title="lemma">type_ptr__valid</span></a> <a id="ty:722" class="idref" href="#ty:722"><span class="id" title="binder">ty</span></a> <a id="p:723" class="idref" href="#p:723"><span class="id" title="binder">p</span></a> <a id="vt:724" class="idref" href="#vt:724"><span class="id" title="binder">vt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:722"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:723"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#_valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#vt:724"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:723"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">vt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_valid"><span class="id" title="lemma">type_ptr_valid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_size_observe" class="idref" href="#type_ptr_size_observe"><span class="id" title="instance">type_ptr_size_observe</span></a> <a id="ty:725" class="idref" href="#ty:725"><span class="id" title="binder">ty</span></a> <a id="p:726" class="idref" href="#p:726"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:725"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:725"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:726"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_size"><span class="id" title="axiom">type_ptr_size</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="valid_ptr_sub_0" class="idref" href="#valid_ptr_sub_0"><span class="id" title="instance">valid_ptr_sub_0</span></a> (<a id="p:727" class="idref" href="#p:727"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ty:728" class="idref" href="#ty:728"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#HasSize"><span class="id" title="class">HasSize</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:728"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:727"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:728"><span class="id" title="variable">ty</span></a> 0)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:727"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> // <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_sub_0" class="idref" href="#type_ptr_sub_0"><span class="id" title="instance">type_ptr_sub_0</span></a> (<a id="p:729" class="idref" href="#p:729"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ty:730" class="idref" href="#ty:730"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#HasSize"><span class="id" title="class">HasSize</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:730"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:729"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:730"><span class="id" title="variable">ty</span></a> 0)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:730"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:729"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_valid"><span class="id" title="lemma">type_ptr_valid</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_sub_0"><span class="id" title="instance">valid_ptr_sub_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="type_ptr_valid_ptr_next" class="idref" href="#type_ptr_valid_ptr_next"><span class="id" title="instance">type_ptr_valid_ptr_next</span></a> (<a id="p:731" class="idref" href="#p:731"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ty:732" class="idref" href="#ty:732"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="m:733" class="idref" href="#m:733"><span class="id" title="binder">m</span></a> <a id="n:734" class="idref" href="#n:734"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#m:733"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:734"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:731"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:732"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#m:733"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr"><span class="id" title="axiom">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:732"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:731"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:732"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#n:734"><span class="id" title="variable">n</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.observe.html#observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "X"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "z".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#observe_type_ptr_valid_plus_one"><span class="id" title="lemma">observe_type_ptr_valid_plus_one</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_sub_sub"><span class="id" title="lemma">o_sub_sub</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_alloc_refl" class="idref" href="#same_alloc_refl"><span class="id" title="lemma">same_alloc_refl</span></a> <a id="p:735" class="idref" href="#p:735"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:735"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:735"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:735"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>. <span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">case</span>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="live_has_alloc_id" class="idref" href="#live_has_alloc_id"><span class="id" title="lemma">live_has_alloc_id</span></a> <a id="p:736" class="idref" href="#p:736"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:736"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="aid:737" class="idref" href="#aid:737"><span class="id" title="binder">aid</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:736"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:737"><span class="id" title="variable">aid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#aid:737"><span class="id" title="variable">aid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#live_ptr"><span class="id" title="definition">live_ptr</span></a>; <span class="id" title="var">iIntros</span>. <span class="id" title="tactic">case</span>: (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <span class="id" title="var">p</span>) =&gt; /= [<span class="id" title="var">aid</span>|]; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="struct_padding_as_fractional" class="idref" href="#struct_padding_as_fractional"><span class="id" title="instance">struct_padding_as_fractional</span></a> <a id="p:738" class="idref" href="#p:738"><span class="id" title="binder">p</span></a> <a id="cls:739" class="idref" href="#cls:739"><span class="id" title="binder">cls</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional0"><span class="id" title="abbreviation">AsCFractional0</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:738"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:739"><span class="id" title="variable">cls</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_as_cfrac</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="struct_padding_valid_observe" class="idref" href="#struct_padding_valid_observe"><span class="id" title="instance">struct_padding_valid_observe</span></a> <a id="p:740" class="idref" href="#p:740"><span class="id" title="binder">p</span></a> <a id="q:741" class="idref" href="#q:741"><span class="id" title="binder">q</span></a> <a id="cls:742" class="idref" href="#cls:742"><span class="id" title="binder">cls</span></a> : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:740"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:740"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:742"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:741"><span class="id" title="variable">q</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="struct_paddingR_valid_observe" class="idref" href="#struct_paddingR_valid_observe"><span class="id" title="instance">struct_paddingR_valid_observe</span></a> <a id="p:743" class="idref" href="#p:743"><span class="id" title="binder">p</span></a> <a id="q:744" class="idref" href="#q:744"><span class="id" title="binder">q</span></a> <a id="cls:745" class="idref" href="#cls:745"><span class="id" title="binder">cls</span></a> : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:743"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:743"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:745"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:744"><span class="id" title="variable">q</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="union_padding_as_fractional" class="idref" href="#union_padding_as_fractional"><span class="id" title="instance">union_padding_as_fractional</span></a> <a id="p:746" class="idref" href="#p:746"><span class="id" title="binder">p</span></a> <a id="cls:747" class="idref" href="#cls:747"><span class="id" title="binder">cls</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional1"><span class="id" title="abbreviation">AsCFractional1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:746"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:747"><span class="id" title="variable">cls</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_as_cfrac</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="union_padding_strict_valid_observe" class="idref" href="#union_padding_strict_valid_observe"><span class="id" title="instance">union_padding_strict_valid_observe</span></a> <a id="p:748" class="idref" href="#p:748"><span class="id" title="binder">p</span></a> <a id="q:749" class="idref" href="#q:749"><span class="id" title="binder">q</span></a> <a id="cls:750" class="idref" href="#cls:750"><span class="id" title="binder">cls</span></a> <a id="i:751" class="idref" href="#i:751"><span class="id" title="binder">i</span></a> : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:748"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:748"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:750"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:749"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:751"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#type_ptr_strict_valid"><span class="id" title="axiom">type_ptr_strict_valid</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="union_padding_valid_observe" class="idref" href="#union_padding_valid_observe"><span class="id" title="instance">union_padding_valid_observe</span></a> <a id="p:752" class="idref" href="#p:752"><span class="id" title="binder">p</span></a> <a id="q:753" class="idref" href="#q:753"><span class="id" title="binder">q</span></a> <a id="cls:754" class="idref" href="#cls:754"><span class="id" title="binder">cls</span></a> <a id="i:755" class="idref" href="#i:755"><span class="id" title="binder">i</span></a> : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:752"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#p:752"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#cls:754"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:753"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#i:755"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#strict_valid_valid"><span class="id" title="axiom">strict_valid_valid</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="has_type" class="idref" href="#has_type"><span class="id" title="section">has_type</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:758" class="idref" href="#H:758"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a>) 3 := {}.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_type_proper" class="idref" href="#has_type_proper"><span class="id" title="instance">has_type_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_eq"><span class="id" title="definition">genv_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Heq</span> ??? ???; <span class="id" title="var">split'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_mono"><span class="id" title="axiom">has_type_mono</span></a> =&gt; //; <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_type_flip_mono" class="idref" href="#has_type_flip_mono"><span class="id" title="instance">has_type_flip_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_entails"><span class="id" title="projection">bi_entails</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; ??+ ??-&gt; ??-&gt; =&gt; -&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_type_knowledge" class="idref" href="#has_type_knowledge"><span class="id" title="instance">has_type_knowledge</span></a> {<a id="176fd8fd3468a100f08478e5543d9c15" class="idref" href="#176fd8fd3468a100f08478e5543d9c15"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="bedrock.lang.bi.spec.knowledge.html#Knowledge2"><span class="id" title="abbreviation">Knowledge2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_type_timeless" class="idref" href="#has_type_timeless"><span class="id" title="instance">has_type_timeless</span></a> {<a id="2b006ffd7c1d683014cedc53999ee2bf" class="idref" href="#2b006ffd7c1d683014cedc53999ee2bf"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless2"><span class="id" title="abbreviation">Timeless2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_nonptr" class="idref" href="#has_type_nonptr"><span class="id" title="lemma">has_type_nonptr</span></a> {<a id="9be496d5b73ce82c0d2a22e81d515f45" class="idref" href="#9be496d5b73ce82c0d2a22e81d515f45"><span class="id" title="binder">σ</span></a>} <a id="v:762" class="idref" href="#v:762"><span class="id" title="binder">v</span></a> <a id="ty:763" class="idref" href="#ty:763"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:763"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:762"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:763"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:762"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:763"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">split'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_has_type_prop"><span class="id" title="axiom">has_type_has_type_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_prop_has_type_noptr"><span class="id" title="axiom">has_type_prop_has_type_noptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_qual_iff" class="idref" href="#has_type_qual_iff"><span class="id" title="lemma">has_type_qual_iff</span></a> {<a id="6f28097536fc71578643aede232556db" class="idref" href="#6f28097536fc71578643aede232556db"><span class="id" title="binder">σ</span></a>} <a id="t:765" class="idref" href="#t:765"><span class="id" title="binder">t</span></a> <a id="q:766" class="idref" href="#q:766"><span class="id" title="binder">q</span></a> <a id="x:767" class="idref" href="#x:767"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#x:767"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:765"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#x:767"><span class="id" title="variable">x</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:766"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:765"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_erase_qualifiers"><span class="id" title="axiom">has_type_erase_qualifiers</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_erase_qualifiers"><span class="id" title="axiom">has_type_erase_qualifiers</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_drop_qualifiers" class="idref" href="#has_type_drop_qualifiers"><span class="id" title="lemma">has_type_drop_qualifiers</span></a> {<a id="9bd8d73000f3c5e8761ea768cce9878c" class="idref" href="#9bd8d73000f3c5e8761ea768cce9878c"><span class="id" title="binder">σ</span></a>} <a id="v:769" class="idref" href="#v:769"><span class="id" title="binder">v</span></a> <a id="ty:770" class="idref" href="#ty:770"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:769"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:770"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:769"><span class="id" title="variable">v</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#drop_qualifiers"><span class="id" title="definition">drop_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:770"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_erase_qualifiers"><span class="id" title="axiom">has_type_erase_qualifiers</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#drop_qualifiers"><span class="id" title="definition">drop_qualifiers</span></a> <span class="id" title="var">_</span>)) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_drop_qualifiers"><span class="id" title="lemma">erase_drop_qualifiers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_erase_qualifiers"><span class="id" title="axiom">has_type_erase_qualifiers</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_val_related" class="idref" href="#has_type_val_related"><span class="id" title="lemma">has_type_val_related</span></a> {<a id="46d2c1ba4a970bceee941830f905d787" class="idref" href="#46d2c1ba4a970bceee941830f905d787"><span class="id" title="binder">σ</span></a>} <a id="ty:772" class="idref" href="#ty:772"><span class="id" title="binder">ty</span></a> <a id="v1:773" class="idref" href="#v1:773"><span class="id" title="binder">v1</span></a> <a id="v2:774" class="idref" href="#v2:774"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val_related"><span class="id" title="inductive">val_related</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:772"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:773"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:774"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:773"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:772"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:774"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:772"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_qual_iff"><span class="id" title="lemma">has_type_qual_iff</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_nonptr"><span class="id" title="lemma">has_type_nonptr</span></a> ?<a class="idref" href="bedrock.lang.cpp.semantics.values.html#has_type_prop_raw_bytes_of_val"><span class="id" title="lemma">has_type_prop_raw_bytes_of_val</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type_or_undef"><span class="id" title="definition">has_type_or_undef</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_undef" class="idref" href="#is_undef"><span class="id" title="definition">is_undef</span></a> (<a id="v:775" class="idref" href="#v:775"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:775"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vundef"><span class="id" title="constructor">Vundef</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a>) 3 := {}.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_type_or_undef_proper" class="idref" href="#has_type_or_undef_proper"><span class="id" title="instance">has_type_or_undef_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_eq"><span class="id" title="definition">genv_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a>; <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_type_or_undef_mono" class="idref" href="#has_type_or_undef_mono"><span class="id" title="instance">has_type_or_undef_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a>; <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_or_undef_undef" class="idref" href="#has_type_or_undef_undef"><span class="id" title="lemma">has_type_or_undef_undef</span></a> {<a id="e279b5d89ad0eaa299b505ff9620b116" class="idref" href="#e279b5d89ad0eaa299b505ff9620b116"><span class="id" title="binder">σ</span></a>} <a id="t:778" class="idref" href="#t:778"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vundef"><span class="id" title="constructor">Vundef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:778"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iRight</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_or_undef_nonundef" class="idref" href="#has_type_or_undef_nonundef"><span class="id" title="lemma">has_type_or_undef_nonundef</span></a> {<a id="8ad3c5ce554b98f04ed3fc0e60e500d2" class="idref" href="#8ad3c5ce554b98f04ed3fc0e60e500d2"><span class="id" title="binder">σ</span></a>} <a id="t:780" class="idref" href="#t:780"><span class="id" title="binder">t</span></a> <a id="v:781" class="idref" href="#v:781"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~~</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#is_undef"><span class="id" title="definition">is_undef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:781"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:781"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:780"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:781"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:780"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a>. <span class="id" title="var">split'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[$ | %]". <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "?". <span class="id" title="tactic">by</span> <span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_or_undef_qual_iff" class="idref" href="#has_type_or_undef_qual_iff"><span class="id" title="lemma">has_type_or_undef_qual_iff</span></a> {<a id="f55925b9ea750133411e90ac6dcc763d" class="idref" href="#f55925b9ea750133411e90ac6dcc763d"><span class="id" title="binder">σ</span></a>} <a id="t:783" class="idref" href="#t:783"><span class="id" title="binder">t</span></a> <a id="q:784" class="idref" href="#q:784"><span class="id" title="binder">q</span></a> <a id="v:785" class="idref" href="#v:785"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:785"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:783"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v:785"><span class="id" title="variable">v</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#q:784"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#t:783"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_unfold"><span class="id" title="axiom">has_type_or_undef_unfold</span></a> -!<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_qual_iff"><span class="id" title="lemma">has_type_qual_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="has_type_or_undef_val_related" class="idref" href="#has_type_or_undef_val_related"><span class="id" title="lemma">has_type_or_undef_val_related</span></a> {<a id="ffb9995f2d9e8111c7f63ddc156d7ed8" class="idref" href="#ffb9995f2d9e8111c7f63ddc156d7ed8"><span class="id" title="binder">σ</span></a>} <a id="ty:787" class="idref" href="#ty:787"><span class="id" title="binder">ty</span></a> <a id="v1:788" class="idref" href="#v1:788"><span class="id" title="binder">v1</span></a> <a id="v2:789" class="idref" href="#v2:789"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val_related"><span class="id" title="inductive">val_related</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:787"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:788"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:789"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v1:788"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:787"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef"><span class="id" title="axiom">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#v2:789"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#ty:787"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_qual_iff"><span class="id" title="lemma">has_type_or_undef_qual_iff</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_or_undef_nonundef"><span class="id" title="lemma">has_type_or_undef_nonundef</span></a>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type_nonptr"><span class="id" title="lemma">has_type_nonptr</span></a>// <a class="idref" href="bedrock.lang.cpp.semantics.values.html#has_type_prop_raw_bytes_of_val"><span class="id" title="lemma">has_type_prop_raw_bytes_of_val</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#has_type"><span class="id" title="section">has_type</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
