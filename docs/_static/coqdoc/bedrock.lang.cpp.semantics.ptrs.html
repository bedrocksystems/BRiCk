<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.semantics.ptrs</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2021&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
The "operational" style definitions about C++ pointers.

<div class="paragraph"> </div>

C++ pointers are subtle to model.
The definitions in this file are based on the C and C++ standards, and
formalizations of their memory object models (see <span class="inlinecode"><span class="id" title="var">doc</span>/<span class="id" title="var">sphinx</span>/<span class="id" title="var">bibliography.rst</span></span>).
 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">elpi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">locker</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="bedrock.prelude.addr.html#"><span class="id" title="library">addr</span></a> <a class="idref" href="bedrock.prelude.option.html#"><span class="id" title="library">option</span></a> <a class="idref" href="bedrock.prelude.numbers.html#"><span class="id" title="library">numbers</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.ast.html#"><span class="id" title="library">bedrock.lang.cpp.ast</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp.semantics</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#"><span class="id" title="library">types</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#"><span class="id" title="library">genv</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;only&nbsp;load&nbsp;Iris&nbsp;to&nbsp;declare&nbsp;trivial&nbsp;OFEs&nbsp;over&nbsp;pointers&nbsp;via&nbsp;<span class="inlinecode"><span class="id" title="var">leibnizO</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#"><span class="id" title="library">iris.algebra.ofe</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (σ : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab97"></a><h2 class="section">Allocation IDs. We use them to model pointer provenance, following</h2>

Cerberus. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="alloc_id" class="idref" href="#alloc_id"><span class="id" title="record">alloc_id</span></a> := <span class="id" title="var">MkAllocId</span> { <a id="alloc_id_car" class="idref" href="#alloc_id_car"><span class="id" title="projection">alloc_id_car</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> }.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="MkAllocId_inj" class="idref" href="#MkAllocId_inj"><span class="id" title="instance">MkAllocId_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#MkAllocId"><span class="id" title="constructor">MkAllocId</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?? [=]. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="alloc_id_eq_dec" class="idref" href="#alloc_id_eq_dec"><span class="id" title="instance">alloc_id_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="alloc_id_countable" class="idref" href="#alloc_id_countable"><span class="id" title="instance">alloc_id_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#inj_countable'"><span class="id" title="definition">inj_countable'</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id_car"><span class="id" title="projection">alloc_id_car</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#MkAllocId"><span class="id" title="constructor">MkAllocId</span></a>) =&gt; -[?]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_SYNTAX_INPUTS" class="idref" href="#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.ptr" class="idref" href="#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a> : <span class="id" title="keyword">Set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.offset" class="idref" href="#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> : <span class="id" title="keyword">Set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.__offset_ptr" class="idref" href="#PTRS_SYNTAX_INPUTS.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.__o_dot" class="idref" href="#PTRS_SYNTAX_INPUTS.__o_dot"><span class="id" title="axiom">__o_dot</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_SYNTAX_MIXIN" class="idref" href="#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">Inputs</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ #[<span class="id" title="var">canonical</span>=<span class="id" title="var">yes</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_from" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; #[<span class="id" title="var">canonical</span>=<span class="id" title="var">yes</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_to" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> :&gt; <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; #[<span class="id" title="var">canonical</span>=<span class="id" title="keyword">no</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_dot" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#DOT_from:8"><span class="id" title="method">DOT_from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#DOT_to:9"><span class="id" title="method">DOT_to</span></a> }.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> {<span class="id" title="var">DOT</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">rename</span>, <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT_ptr_offset" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_ptr_offset"><span class="id" title="definition">DOT_ptr_offset</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.ptr"><span class="id" title="axiom">ptr</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.ptr"><span class="id" title="axiom">ptr</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> <a id="p:11" class="idref" href="#p:11"><span class="id" title="binder">p</span></a> <a id="o:12" class="idref" href="#o:12"><span class="id" title="binder">o</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:11"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:12"><span class="id" title="variable">o</span></a> |}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT_offset_offset" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_offset_offset"><span class="id" title="definition">DOT_offset_offset</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> <a id="o1:13" class="idref" href="#o1:13"><span class="id" title="binder">o1</span></a> <a id="o2:14" class="idref" href="#o2:14"><span class="id" title="binder">o2</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.__o_dot"><span class="id" title="axiom">__o_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:13"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:14"><span class="id" title="variable">o2</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">mlock</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">_dot</span> := @<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.body"><span class="id" title="axiom">_dot</span></a> {<span class="id" title="var">DOT</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">rename</span>, <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="PTRS_SYNTAX_MIXIN._offset_ptr" class="idref" href="#PTRS_SYNTAX_MIXIN._offset_ptr"><span class="id" title="abbreviation">_offset_ptr</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_ptr_offset"><span class="id" title="definition">DOT_ptr_offset</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="PTRS_SYNTAX_MIXIN.o_dot" class="idref" href="#PTRS_SYNTAX_MIXIN.o_dot"><span class="id" title="abbreviation">o_dot</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_offset_offset"><span class="id" title="definition">DOT_offset_offset</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p ,, o" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> <span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "p  ,,  o") : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS" class="idref" href="#PTRS"><span class="id" title="module">PTRS</span></a>.<br/>
</div>

<div class="doc">
<a id="lab98"></a><h1 class="section">Pointers.</h1>


<div class="paragraph"> </div>

  This is the abstract model of pointers in C++ — more precisely, of their
  values. Pointers describe paths that might identify objects, which might be
  alive. Hence they must be understood relative to the C++ object model
  (https://eel.is/c++draft/intro.object). We also use pointers to represent the
  values of references, even if those are restricted to point to objects or
  functions (https://eel.is/c++draft/dcl.ref5).

  - Not all of our pointers have concrete addresses.
    In C++, pointers to some objects are never created, and typical compilers
    might choose to not store such objects in memory; nevertheless, for
    uniformity our semantics identifies such objects via pointers, but
    our pointers need not represent an address
    (https://eel.is/c++draft/basic.compounddef:represents_the_address).
    Function <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a></span> maps a pointer to the address it represents, if any.
    See also documentation of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a></span>.
    (Compilers might temporarily store objects elsewhere, but only as a
    semantics-preserving optimization, which we ignore in our model of the C++
    abstract machine).
    That objects (of non-zero size) have constant addresses follows:
<ul class="doclist">
<li> for C11 (draft N1570), from 6.2.4.2:
      &gt; An object exists, has a constant address^33
      &gt; <span class="inlinecode">33</span>: The term ‘‘constant address’’ means that two pointers to the object
      constructed at possibly different times will compare equal.

</li>
<li> for C++, from https://eel.is/c++draft/intro.object8:

      > an object with nonzero size shall occupy one or more bytes of storage

      and https://eel.is/c++draft/intro.memory1:

<div class="paragraph"> </div>

      &gt; every byte has a unique address.

</li>
</ul>

<div class="paragraph"> </div>

  Pointers also have an <i>allocation ID</i>; the concept does not exist in
  the standard but is used to model provenance in many models of C
  pointers (CompCert, Krebbers, Cerberus, LLVM's twin semantics), sometimes
  under the name of "object ID". Allocation ID of deallocated regions are never
  reused for new regions.
<ul class="doclist">
<li> C++ objects form a forest of <i>complete objects</i>, and subobjects contained
    within (https://eel.is/c++draft/intro.object2).
    All subobjects of the same complete object share the same allocation
    ID.
  - Character array objects can _provide storage_ to other objects.
    (http://eel.is/c++draft/intro.objectdef:provides_storage)
    In particular, when memory allocators allocate an object <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> out of a
    character array <span class="inlinecode"><span class="id" title="library">arr</span></span>, then <span class="inlinecode"><span class="id" title="library">arr</span></span> provides storage to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span>.
    Following Cerberus, a pointer to <span class="inlinecode"><span class="id" title="library">arr</span></span> and a pointer to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> are
    considered as having distinct provenance.

<div class="paragraph"> </div>

    In Cerberus, pointers with fresh provenances are created by a
    magic <span class="inlinecode"><span class="id" title="var">malloc</span></span> primitive, which cannot be implemented in C (at least
    because of effective types, as Krebbers explains); in our semantics,
    pointers with fresh provenance are created by <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.with_cpp_logic.with_resolve.new"><span class="id" title="section">new</span></a></span> operations (see
    <span class="inlinecode"><span class="id" title="var">wp_prval_new</span></span> axiom).

</li>
</ul>

<div class="paragraph"> </div>

  From a pointer to an object, one can use offsets to constructs pointers
  to subojects.

<div class="paragraph"> </div>

  Our API allows tracking nested objects accurately, matching the C (object)
  memory model (as rendered by Krebbers) and the model mandated by the C++
  standard.

<div class="paragraph"> </div>

  A simple model is <span class="inlinecode"><span class="id" title="var">alloc</span></span> <span class="inlinecode"><span class="id" title="var">ID</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a></span> <span class="inlinecode"><span class="id" title="var">address</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers.html#SIMPLE_PTRS_IMPL"><span class="id" title="module">SIMPLE_PTRS_IMPL</span></a></span>; a richer
  one is <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a></span>.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr" class="idref" href="#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_eq_dec" class="idref" href="#PTRS.ptr_eq_dec"><span class="id" title="axiom">ptr_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="x:16" class="idref" href="#x:16"><span class="id" title="binder">x</span></a> <a id="y:17" class="idref" href="#y:17"><span class="id" title="binder">y</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#x:16"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#y:17"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#x:16"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#y:17"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS.ptr_eq_dec'" class="idref" href="#PTRS.ptr_eq_dec'"><span class="id" title="instance">ptr_eq_dec'</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_eq_dec"><span class="id" title="axiom">ptr_eq_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;AUTO:&nbsp;replace&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_eq_dec'</span></span>&nbsp;with:<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Axiom&nbsp;ptr_eq_dec&nbsp;:&nbsp;EqDecision&nbsp;ptr.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[global] Existing Instance ptr_eq_dec.

  However, removing [ptr_eq_dec'] breaks some clients, especially for
  automation. *)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_countable" class="idref" href="#PTRS.ptr_countable"><span class="id" title="axiom">ptr_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ptr_countable</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab99"></a><h1 class="section">Pointer offsets.</h1>

      Offsets represent paths between objects and subobjects.

<div class="paragraph"> </div>

      If <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> points to an object and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> is an offset to a subobject,
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> is a pointer to that subobject. If no such object exist,
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a>)</span> will not hold.

<div class="paragraph"> </div>

      For instance, if <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a>-&gt;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.x"><span class="id" title="variable">x</span></a></span> is a C++ object but <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a>-&gt;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.y"><span class="id" title="variable">y</span></a></span> isn't, in Coq,
      the pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span> <span class="inlinecode">&quot;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.x"><span class="id" title="variable">x</span></a>&quot;</span> will be valid but <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span> <span class="inlinecode">&quot;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.y"><span class="id" title="variable">y</span></a>&quot;</span>
      will not.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.offset" class="idref" href="#PTRS.offset"><span class="id" title="axiom">offset</span></a> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_eq_dec" class="idref" href="#PTRS.offset_eq_dec"><span class="id" title="axiom">offset_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">offset_eq_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_countable" class="idref" href="#PTRS.offset_countable"><span class="id" title="axiom">offset_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">offset_countable</span>.<br/>

<br/>
</div>

<div class="doc">
combine an offset and a pointer to get a new pointer;
    this is a right monoid action.
   
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Parameter</span> <a id="PTRS.__offset_ptr" class="idref" href="#PTRS.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Parameter</span> <a id="PTRS.__o_dot" class="idref" href="#PTRS.__o_dot"><span class="id" title="axiom">__o_dot</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a>.<br/>

<br/>
</div>

<div class="doc">
Offsets form a monoid 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_id" class="idref" href="#PTRS.o_id"><span class="id" title="axiom">o_id</span></a>  : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.id_dot" class="idref" href="#PTRS.id_dot"><span class="id" title="axiom">id_dot</span></a>    : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a>  <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.dot_id" class="idref" href="#PTRS.dot_id"><span class="id" title="axiom">dot_id</span></a>    : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.dot_assoc" class="idref" href="#PTRS.dot_assoc"><span class="id" title="axiom">dot_assoc</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a>   <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a>      <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">id_dot</span> <span class="id" title="var">dot_id</span> <span class="id" title="var">dot_assoc</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_ptr_id" class="idref" href="#PTRS.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:29" class="idref" href="#p:29"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:29"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:29"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_ptr_dot" class="idref" href="#PTRS.offset_ptr_dot"><span class="id" title="axiom">offset_ptr_dot</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="p:31" class="idref" href="#p:31"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o1:32" class="idref" href="#o1:32"><span class="id" title="binder">o1</span></a> <a id="o2:33" class="idref" href="#o2:33"><span class="id" title="binder">o2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:31"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:32"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:33"><span class="id" title="variable">o2</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:31"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:32"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:33"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
</div>

<div class="doc">
C++ provides a distinguished pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a></span> that is *never
      dereferenceable*
      (https://eel.is/c++draft/basic.compound3)
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.nullptr" class="idref" href="#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
An invalid pointer, included as a sentinel value. Other pointers might
      be invalid as well; see <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.invalid_ptr" class="idref" href="#PTRS.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Pointer&nbsp;to&nbsp;a&nbsp;C++&nbsp;"complete&nbsp;object"&nbsp;with&nbsp;external&nbsp;or&nbsp;internal&nbsp;linkage,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;"functions";&nbsp;even&nbsp;if&nbsp;they&nbsp;are&nbsp;distinct&nbsp;in&nbsp;C/C++&nbsp;standards&nbsp;(e.g.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://eel.is/c++draft/basic.pre:object
     https://eel.is/c++draft/basic.compound3.1),&nbsp;we&nbsp;represent&nbsp;them&nbsp;in&nbsp;the&nbsp;same<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;way.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Since&nbsp;function&nbsp;pointers&nbsp;cannot&nbsp;be&nbsp;offset,&nbsp;offsetting&nbsp;function&nbsp;pointers<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produces&nbsp;<span class="inlinecode"><span class="id" title="var">invalid_ptr</span></span>,&nbsp;but&nbsp;we&nbsp;haven't&nbsp;needed&nbsp;to&nbsp;expose&nbsp;this.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;the&nbsp;address&nbsp;of&nbsp;global&nbsp;variables&nbsp;&amp;&nbsp;functions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.global_ptr" class="idref" href="#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#obj_name"><span class="id" title="definition">obj_name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Dynamic&nbsp;loading&nbsp;might&nbsp;require&nbsp;adding&nbsp;some&nbsp;abstract&nbsp;<span class="inlinecode"><span class="id" title="var">translation_unit_id</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Might&nbsp;need&nbsp;deferring,&nbsp;as&nbsp;it&nbsp;needs&nbsp;designing&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">translation_unit_id</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;since&nbsp;loading&nbsp;the&nbsp;same&nbsp;translation&nbsp;unit&nbsp;twice&nbsp;can&nbsp;give&nbsp;different<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addresses.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull" class="idref" href="#PTRS.global_ptr_nonnull"><span class="id" title="axiom">global_ptr_nonnull</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:38" class="idref" href="#tu:38"><span class="id" title="binder">tu</span></a> <a id="o:39" class="idref" href="#o:39"><span class="id" title="binder">o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:38"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:39"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Other&nbsp;constructors&nbsp;exist,&nbsp;but&nbsp;they&nbsp;are&nbsp;internal&nbsp;to&nbsp;C++&nbsp;model.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;They&nbsp;include:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;pointers&nbsp;to&nbsp;local&nbsp;variables&nbsp;(objects&nbsp;with&nbsp;automatic&nbsp;linkage/storage<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;duration,&nbsp;https://eel.is/c++draft/basic.memobjbasic.stc.auto).
     - pointers to this (https://eel.is/c++draft/expr.prim.this) are just normal
       pointers naming the receiver of a method invocation.
   *)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab100"></a><h2 class="section">Concrete pointer offsets.</h2>


<div class="paragraph"> </div>

      They correspond to the kind of aggregate objects described in e.g.
      https://eel.is/c++draft/basic.compound.
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">cls</span>*</span>&nbsp;points&nbsp;to&nbsp;an&nbsp;object&nbsp;with&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">cls</span></span>&nbsp;and&nbsp;field&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o_field</span></span> <span class="inlinecode"><span class="id" title="var">cls</span></span> <span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;points&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">f</span></span>.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_field" class="idref" href="#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#field"><span class="id" title="record">field</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p ., o" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> <span class="id" title="var">_</span> <span class="id" title="var">o</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">cls</span>*</span>&nbsp;points&nbsp;to&nbsp;an&nbsp;array&nbsp;object&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>&nbsp;elements&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">≤</span> <span class="inlinecode"><span class="id" title="var">n</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o_sub</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;represents&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;(which&nbsp;might&nbsp;be&nbsp;a&nbsp;past-the-end&nbsp;pointer).<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_sub" class="idref" href="#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p .[ t ! n ]" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "p  .[  t  '!'  n  ]") : <span class="id" title="var">stdpp_scope</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> ".[ t ! n ]" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> ".[  t  !  n  ]") : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">o_sub_0</span></span>&nbsp;axiom&nbsp;is&nbsp;required&nbsp;because&nbsp;any&nbsp;object&nbsp;is&nbsp;a&nbsp;1-object&nbsp;array<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(https://eel.is/c++draft/expr.addfootnote-80).
   *)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_sub_0" class="idref" href="#PTRS.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="e301eb36a877cd02cbb5965c6e966e14" class="idref" href="#e301eb36a877cd02cbb5965c6e966e14"><span class="id" title="binder">σ</span></a> <a id="ty:44" class="idref" href="#ty:44"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#e301eb36a877cd02cbb5965c6e966e14"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:44"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:44"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;drop&nbsp;(is_Some&nbsp;(size_of&nbsp;σ&nbsp;ty))&nbsp;via<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`displacement&nbsp;(o_sub&nbsp;σ&nbsp;ty&nbsp;i)&nbsp;=&nbsp;if&nbsp;(i&nbsp;=&nbsp;0)&nbsp;then&nbsp;0&nbsp;else&nbsp;i&nbsp;*&nbsp;size_of&nbsp;σ&nbsp;ty`<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
going up and down the class hierarchy, one step at a time;
  these offsets are only for non-virtual inheritance. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_base" class="idref" href="#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="derived:46" class="idref" href="#derived:46"><span class="id" title="binder">derived</span></a> <a id="base:47" class="idref" href="#base:47"><span class="id" title="binder">base</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_derived" class="idref" href="#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="base:49" class="idref" href="#base:49"><span class="id" title="binder">base</span></a> <a id="derived:50" class="idref" href="#derived:50"><span class="id" title="binder">derived</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We're&nbsp;ignoring&nbsp;virtual&nbsp;inheritance&nbsp;here,&nbsp;since&nbsp;we&nbsp;have&nbsp;no&nbsp;plans&nbsp;to<br/>
&nbsp;&nbsp;support&nbsp;it&nbsp;for&nbsp;now,&nbsp;but&nbsp;this&nbsp;might&nbsp;hold&nbsp;there&nbsp;too.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_base_derived" class="idref" href="#PTRS.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="193018d7d3b117e3eea7635a6f1d98b6" class="idref" href="#193018d7d3b117e3eea7635a6f1d98b6"><span class="id" title="binder">σ</span></a> <a id="p:53" class="idref" href="#p:53"><span class="id" title="binder">p</span></a> <a id="base:54" class="idref" href="#base:54"><span class="id" title="binder">base</span></a> <a id="derived:55" class="idref" href="#derived:55"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#193018d7d3b117e3eea7635a6f1d98b6"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:55"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:54"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:53"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#193018d7d3b117e3eea7635a6f1d98b6"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:55"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:54"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#193018d7d3b117e3eea7635a6f1d98b6"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:54"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:55"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:53"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_derived_base" class="idref" href="#PTRS.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="0004dfbbb2b40f74ec780d3b14e9a694" class="idref" href="#0004dfbbb2b40f74ec780d3b14e9a694"><span class="id" title="binder">σ</span></a> <a id="p:58" class="idref" href="#p:58"><span class="id" title="binder">p</span></a> <a id="base:59" class="idref" href="#base:59"><span class="id" title="binder">base</span></a> <a id="derived:60" class="idref" href="#derived:60"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#0004dfbbb2b40f74ec780d3b14e9a694"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:60"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:59"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:58"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#0004dfbbb2b40f74ec780d3b14e9a694"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:59"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:60"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#0004dfbbb2b40f74ec780d3b14e9a694"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:60"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:59"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:58"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
Map pointers to allocation IDs; total on valid pointers thanks to
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr_alloc_id" class="idref" href="#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.null_alloc_id" class="idref" href="#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_alloc_id_nullptr" class="idref" href="#PTRS.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_alloc_id_offset" class="idref" href="#PTRS.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="p:65" class="idref" href="#p:65"><span class="id" title="binder">p</span></a> <a id="o:66" class="idref" href="#o:66"><span class="id" title="binder">o</span></a>}<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:65"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:66"><span class="id" title="variable">o</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:65"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:66"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:65"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
Map pointers to the address they represent,
      (https://eel.is/c++draft/basic.compounddef:represents_the_address).
      Not defined on all valid pointers; defined on pointers existing in C++ (
      https://eel.is/c++draft/basic.compound3).
      See discussion above.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr_vaddr" class="idref" href="#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.prelude.addr.html#vaddr"><span class="id" title="definition">vaddr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_nullptr"><span class="id" title="lemma">ptr_vaddr_nullptr</span></a></span> is not mandated by the standard, but valid across
      compilers we are interested in.
      The closest hint is in https://eel.is/c++draft/conv.ptr
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_vaddr_nullptr" class="idref" href="#PTRS.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull_addr" class="idref" href="#PTRS.global_ptr_nonnull_addr"><span class="id" title="axiom">global_ptr_nonnull_addr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:70" class="idref" href="#tu:70"><span class="id" title="binder">tu</span></a> <a id="o:71" class="idref" href="#o:71"><span class="id" title="binder">o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:70"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:71"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull_aid" class="idref" href="#PTRS.global_ptr_nonnull_aid"><span class="id" title="axiom">global_ptr_nonnull_aid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:73" class="idref" href="#tu:73"><span class="id" title="binder">tu</span></a> <a id="o:74" class="idref" href="#o:74"><span class="id" title="binder">o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:73"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:74"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_inj" class="idref" href="#PTRS.global_ptr_inj"><span class="id" title="axiom">global_ptr_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:76" class="idref" href="#tu:76"><span class="id" title="binder">tu</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:76"><span class="id" title="variable">tu</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_addr_inj" class="idref" href="#PTRS.global_ptr_addr_inj"><span class="id" title="axiom">global_ptr_addr_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:78" class="idref" href="#tu:78"><span class="id" title="binder">tu</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="o:79" class="idref" href="#o:79"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:78"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:79"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_aid_inj" class="idref" href="#PTRS.global_ptr_aid_inj"><span class="id" title="axiom">global_ptr_aid_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:81" class="idref" href="#tu:81"><span class="id" title="binder">tu</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="o:82" class="idref" href="#o:82"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:81"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:82"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <span class="id" title="var">global_ptr_inj</span> <span class="id" title="var">global_ptr_addr_inj</span> <span class="id" title="var">global_ptr_aid_inj</span>.<br/>

<br/>
</div>

<div class="doc">
Pointers into the same array with the same address have the same index.
  Wrapped by <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_vaddr_o_sub_eq" class="idref" href="#PTRS.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:84" class="idref" href="#p:84"><span class="id" title="binder">p</span></a> <a id="16089a5a3050c460b02beb3e441921cf" class="idref" href="#16089a5a3050c460b02beb3e441921cf"><span class="id" title="binder">σ</span></a> <a id="ty:86" class="idref" href="#ty:86"><span class="id" title="binder">ty</span></a> <a id="n1:87" class="idref" href="#n1:87"><span class="id" title="binder">n1</span></a> <a id="n2:88" class="idref" href="#n2:88"><span class="id" title="binder">n2</span></a> <a id="sz:89" class="idref" href="#sz:89"><span class="id" title="binder">sz</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#16089a5a3050c460b02beb3e441921cf"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:86"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:89"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:89"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:84"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:86"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:87"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:84"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:86"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:88"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:87"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:88"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_dot_sub" class="idref" href="#PTRS.o_dot_sub"><span class="id" title="axiom">o_dot_sub</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">{</span></a><a id="c45a719e878307ba3d2852fbe7434a9c" class="idref" href="#c45a719e878307ba3d2852fbe7434a9c"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="i:92" class="idref" href="#i:92"><span class="id" title="binder">i</span></a> <a id="j:93" class="idref" href="#j:93"><span class="id" title="binder">j</span></a> <a id="ty:94" class="idref" href="#ty:94"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:94"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:92"><span class="id" title="variable">i</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:94"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:93"><span class="id" title="variable">j</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:94"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:92"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:93"><span class="id" title="variable">j</span></a>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> and associated axioms are more advanced, only to be used
  in special cases. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;drop&nbsp;<span class="inlinecode"><span class="id" title="var">genv</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.eval_offset" class="idref" href="#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.eval_o_sub" class="idref" href="#PTRS.eval_o_sub"><span class="id" title="axiom">eval_o_sub</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="8222f0ea3aca5a6b9e14fe0688e0aff9" class="idref" href="#8222f0ea3aca5a6b9e14fe0688e0aff9"><span class="id" title="binder">σ</span></a> <a id="ty:98" class="idref" href="#ty:98"><span class="id" title="binder">ty</span></a> (<a id="i:99" class="idref" href="#i:99"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#8222f0ea3aca5a6b9e14fe0688e0aff9"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#8222f0ea3aca5a6b9e14fe0688e0aff9"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:98"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:99"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;order&nbsp;enables&nbsp;reducing&nbsp;for&nbsp;known&nbsp;ty.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="n:100" class="idref" href="#n:100"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:100"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:99"><span class="id" title="variable">i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#8222f0ea3aca5a6b9e14fe0688e0aff9"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:98"><span class="id" title="variable">ty</span></a>.<br/>

<br/>
</div>

<div class="doc">
  To hide implementation details of the compiler from proofs, we restrict
  this axiom to POD/Standard-layout structures.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.eval_o_field" class="idref" href="#PTRS.eval_o_field"><span class="id" title="axiom">eval_o_field</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="d7016a0fe7ed7af7d48ad2473098c004" class="idref" href="#d7016a0fe7ed7af7d48ad2473098c004"><span class="id" title="binder">σ</span></a> <a id="f:103" class="idref" href="#f:103"><span class="id" title="binder">f</span></a> <a id="n:104" class="idref" href="#n:104"><span class="id" title="binder">n</span></a> <a id="cls:105" class="idref" href="#cls:105"><span class="id" title="binder">cls</span></a> <a id="st:106" class="idref" href="#st:106"><span class="id" title="binder">st</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:104"><span class="id" title="variable">n</span></a> ; <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#cls:105"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#glob_def"><span class="id" title="definition">glob_def</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#d7016a0fe7ed7af7d48ad2473098c004"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#cls:105"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#st:106"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#st:106"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#POD"><span class="id" title="constructor">POD</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#st:106"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Standard"><span class="id" title="constructor">Standard</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#d7016a0fe7ed7af7d48ad2473098c004"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#d7016a0fe7ed7af7d48ad2473098c004"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:103"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#offset_of"><span class="id" title="definition">offset_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#d7016a0fe7ed7af7d48ad2473098c004"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:103"><span class="id" title="variable">f</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:103"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eval_offset</span></span>&nbsp;respects&nbsp;the&nbsp;monoidal&nbsp;structure&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">offset</span></span>s&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.eval_offset_dot" class="idref" href="#PTRS.eval_offset_dot"><span class="id" title="axiom">eval_offset_dot</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="e8168e9b06e4097ad28f2c2fcb974958" class="idref" href="#e8168e9b06e4097ad28f2c2fcb974958"><span class="id" title="binder">σ</span></a> (<a id="o1:109" class="idref" href="#o1:109"><span class="id" title="binder">o1</span></a> <a id="o2:110" class="idref" href="#o2:110"><span class="id" title="binder">o2</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#e8168e9b06e4097ad28f2c2fcb974958"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:109"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:110"><span class="id" title="variable">o2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.prelude.option.html#add_opt"><span class="id" title="definition">add_opt</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#e8168e9b06e4097ad28f2c2fcb974958"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:109"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#e8168e9b06e4097ad28f2c2fcb974958"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:110"><span class="id" title="variable">o2</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_DERIVED" class="idref" href="#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_DERIVED.same_alloc" class="idref" href="#PTRS_DERIVED.same_alloc"><span class="id" title="axiom">same_alloc</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS_DERIVED.same_alloc_eq" class="idref" href="#PTRS_DERIVED.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_DERIVED.same_address" class="idref" href="#PTRS_DERIVED.same_address"><span class="id" title="axiom">same_address</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS_DERIVED.same_address_eq" class="idref" href="#PTRS_DERIVED.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_INTF_MINIMAL" class="idref" href="#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a> &lt;+ <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_MIXIN" class="idref" href="#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>
</div>

<div class="doc">
  Explictly declare that all Iris equalities on pointers are trivial.
  We only add such explicit declarations as actually needed.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_MIXIN.ptrO" class="idref" href="#PTRS_MIXIN.ptrO"><span class="id" title="definition">ptrO</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_inhabited" class="idref" href="#PTRS_MIXIN.ptr_inhabited"><span class="id" title="instance">ptr_inhabited</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#populate"><span class="id" title="constructor">populate</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab101"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a></span> Congruence</h2>


<div class="paragraph"> </div>

     <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> <span class="inlinecode"><span class="id" title="var">o2</span></span> expresses that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o2</span></span>
     both produce <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span> shared numerical value.

<div class="paragraph"> </div>

     Given that offsets are typed, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> is not generally sufficient to
     transport resources - when the resources are even transportable in the first place.
     However, in certain limited circumstances where the integral values of pointers are
     meaningful - such as reasoning at the level of the byte-representation of an
     object - <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> becomes a useful way of locally "erasing" the richer structure
     of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span>s/<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a></span>s.

<div class="paragraph"> </div>

     NOTE: <span class="inlinecode"><a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a></span> ensures that the partial <span class="inlinecode"><span class="id" title="var">obs</span></span>ervation (<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span>)
     are both <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span>; <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a></span> for some <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a></span> iff
     <span class="inlinecode"><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a>)</span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.offset_cong" class="idref" href="#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset"><span class="id" title="axiom">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="03f86bc26ea6bf4494eb49e11860d2a4" class="idref" href="#03f86bc26ea6bf4494eb49e11860d2a4"><span class="id" title="binder">σ</span></a> <a id="o1:117" class="idref" href="#o1:117"><span class="id" title="binder">o1</span></a> <a id="o2:118" class="idref" href="#o2:118"><span class="id" title="binder">o2</span></a> =&gt; <a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#03f86bc26ea6bf4494eb49e11860d2a4"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:117"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:118"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.offset_cong_equiv" class="idref" href="#PTRS_MIXIN.offset_cong_equiv"><span class="id" title="instance">offset_cong_equiv</span></a> {<a id="1b464494a25fb0e1888fce4a22fd58ae" class="idref" href="#1b464494a25fb0e1888fce4a22fd58ae"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#1b464494a25fb0e1888fce4a22fd58ae"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.prelude.option.html#same_property_per"><span class="id" title="instance">same_property_per</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab102"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> Congruence</h2>


<div class="paragraph"> </div>

     <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> expresses that <span class="inlinecode"><span class="id" title="var">p1</span></span> and <span class="inlinecode"><span class="id" title="var">p2</span></span> share a common <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> prefix and that
     <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> <span class="inlinecode"><span class="id" title="var">o2</span></span> holds for the suffixes which "complete" p1 and p2.

<div class="paragraph"> </div>

     Given that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span>s have a rich structure, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> is not generally sufficient to
     transport resources - when the resources are even transportable in the first place.
     However, in certain limited circumstances where the integral values of pointers are
     meaningful - such as reasoning at the level of the byte-representation of an
     object - <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> (in conjunction with <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a></span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode">**</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a></span> <span class="inlinecode"><span class="id" title="var">p2</span></span>)
     /can/ be used to transport select resources.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.ptr_cong" class="idref" href="#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="4840c06534f3cf3f02b3a2e3bd7a1f3d" class="idref" href="#4840c06534f3cf3f02b3a2e3bd7a1f3d"><span class="id" title="binder">σ</span></a> <a id="p1:121" class="idref" href="#p1:121"><span class="id" title="binder">p1</span></a> <a id="p2:122" class="idref" href="#p2:122"><span class="id" title="binder">p2</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="p:123" class="idref" href="#p:123"><span class="id" title="binder">p</span></a> <a id="o1:124" class="idref" href="#o1:124"><span class="id" title="binder">o1</span></a> <a id="o2:125" class="idref" href="#o2:125"><span class="id" title="binder">o2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:121"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:123"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:124"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:122"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:123"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:125"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#4840c06534f3cf3f02b3a2e3bd7a1f3d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:124"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:125"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_cong_reflexive" class="idref" href="#PTRS_MIXIN.ptr_cong_reflexive"><span class="id" title="instance">ptr_cong_reflexive</span></a> {<a id="2a63042f06b66c07fa22cdb0da5254ad" class="idref" href="#2a63042f06b66c07fa22cdb0da5254ad"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#2a63042f06b66c07fa22cdb0da5254ad"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>, (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0 <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>), (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>//].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.eval_o_sub"><span class="id" title="axiom">eval_o_sub</span></a>/= <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#Z.mul_0_r"><span class="id" title="lemma">Z.mul_0_r</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_cong_sym" class="idref" href="#PTRS_MIXIN.ptr_cong_sym"><span class="id" title="instance">ptr_cong_sym</span></a> {<a id="f887727adfc781e6aae727f3f8c4ea6f" class="idref" href="#f887727adfc781e6aae727f3f8c4ea6f"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f887727adfc781e6aae727f3f8c4ea6f"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> [<span class="id" title="var">p''</span> [<span class="id" title="var">o1</span> [<span class="id" title="var">o2</span> [<span class="id" title="var">Hp</span> [<span class="id" title="var">Hp'</span> <span class="id" title="var">Hcong</span>]]]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p''</span>, <span class="id" title="var">o2</span>, <span class="id" title="var">o1</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE&nbsp;(JH):&nbsp;<span class="inlinecode"><span class="id" title="var">Transitive</span></span>&nbsp;isn't&nbsp;provable&nbsp;without&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_vaddr</span></span>&nbsp;side-condition&nbsp;because<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;intermediate&nbsp;<span class="inlinecode"><span class="id" title="var">offset</span></span>&nbsp;might&nbsp;not&nbsp;<span class="inlinecode"><span class="id" title="var">eval_offset</span></span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">Some</span></span>&nbsp;integral&nbsp;value.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;[global] Instance ptr_cong_trans {σ : genv} : Transitive (ptr_cong σ). *)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab103"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#PTRS_DERIVED_MIXIN.same_address"><span class="id" title="definition">same_address</span></a></span> lemmas</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_dec" class="idref" href="#PTRS_MIXIN.same_address_dec"><span class="id" title="instance">same_address_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_per" class="idref" href="#PTRS_MIXIN.same_address_per"><span class="id" title="instance">same_address_per</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_comm" class="idref" href="#PTRS_MIXIN.same_address_comm"><span class="id" title="instance">same_address_comm</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_RewriteRelation" class="idref" href="#PTRS_MIXIN.same_address_RewriteRelation"><span class="id" title="instance">same_address_RewriteRelation</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#RewriteRelation"><span class="id" title="class">RewriteRelation</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> := {}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_iff" class="idref" href="#PTRS_MIXIN.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a> <a id="p1:128" class="idref" href="#p1:128"><span class="id" title="binder">p1</span></a> <a id="p2:129" class="idref" href="#p2:129"><span class="id" title="binder">p2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:128"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:129"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="va:130" class="idref" href="#va:130"><span class="id" title="binder">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:128"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:130"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:129"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:130"><span class="id" title="variable">va</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_pinned" class="idref" href="#PTRS_MIXIN.same_address_pinned"><span class="id" title="lemma">same_address_pinned</span></a> <a id="p1:131" class="idref" href="#p1:131"><span class="id" title="binder">p1</span></a> <a id="p2:132" class="idref" href="#p2:132"><span class="id" title="binder">p2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:131"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:132"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="va:133" class="idref" href="#va:133"><span class="id" title="binder">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:131"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:133"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:132"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:133"><span class="id" title="variable">va</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_intro" class="idref" href="#PTRS_MIXIN.same_address_intro"><span class="id" title="lemma">same_address_intro</span></a> <a id="p1:134" class="idref" href="#p1:134"><span class="id" title="binder">p1</span></a> <a id="p2:135" class="idref" href="#p2:135"><span class="id" title="binder">p2</span></a> <a id="va:136" class="idref" href="#va:136"><span class="id" title="binder">va</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:134"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:136"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:135"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:136"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:134"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:135"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>; <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.prelude.option.html#same_property_intro"><span class="id" title="lemma">same_property_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_nullptr_nullptr" class="idref" href="#PTRS_MIXIN.same_address_nullptr_nullptr"><span class="id" title="lemma">same_address_nullptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">have</span> ? := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_intro"><span class="id" title="lemma">same_address_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_vaddr_proper" class="idref" href="#PTRS_MIXIN.ptr_vaddr_proper"><span class="id" title="instance">ptr_vaddr_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> (<span class="id" title="var">va</span>&amp;-&gt;&amp;-&gt;)%<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_vaddr_params" class="idref" href="#PTRS_MIXIN.ptr_vaddr_params"><span class="id" title="instance">ptr_vaddr_params</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> 1 := {}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab104"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a></span> lemmas</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.same_address_bool" class="idref" href="#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a id="p1:137" class="idref" href="#p1:137"><span class="id" title="binder">p1</span></a> <a id="p2:138" class="idref" href="#p2:138"><span class="id" title="binder">p2</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:137"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:138"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_bool_comm" class="idref" href="#PTRS_MIXIN.same_address_bool_comm"><span class="id" title="instance">same_address_bool_comm</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>, <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a>, <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_bool_eq" class="idref" href="#PTRS_MIXIN.same_address_bool_eq"><span class="id" title="lemma">same_address_bool_eq</span></a> {<a id="p1:139" class="idref" href="#p1:139"><span class="id" title="binder">p1</span></a> <a id="p2:140" class="idref" href="#p2:140"><span class="id" title="binder">p2</span></a> <a id="va1:141" class="idref" href="#va1:141"><span class="id" title="binder">va1</span></a> <a id="va2:142" class="idref" href="#va2:142"><span class="id" title="binder">va2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:139"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va1:141"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:140"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va2:142"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:139"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:140"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va1:141"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va2:142"><span class="id" title="variable">va2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_bool_partial_reflexive" class="idref" href="#PTRS_MIXIN.same_address_bool_partial_reflexive"><span class="id" title="lemma">same_address_bool_partial_reflexive</span></a> <a id="p:143" class="idref" href="#p:143"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:143"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:143"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:143"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hsm</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_true"><span class="id" title="abbreviation">bool_decide_true</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> -<a class="idref" href="bedrock.prelude.option.html#same_property_reflexive_equiv"><span class="id" title="lemma">same_property_reflexive_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab105"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#PTRS_DERIVED_MIXIN.same_alloc"><span class="id" title="definition">same_alloc</span></a></span> lemmas</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_alloc_dec" class="idref" href="#PTRS_MIXIN.same_alloc_dec"><span class="id" title="instance">same_alloc_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_alloc_per" class="idref" href="#PTRS_MIXIN.same_alloc_per"><span class="id" title="instance">same_alloc_per</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_alloc_comm" class="idref" href="#PTRS_MIXIN.same_alloc_comm"><span class="id" title="instance">same_alloc_comm</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_iff" class="idref" href="#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a> <a id="p1:144" class="idref" href="#p1:144"><span class="id" title="binder">p1</span></a> <a id="p2:145" class="idref" href="#p2:145"><span class="id" title="binder">p2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:144"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:145"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="aid:146" class="idref" href="#aid:146"><span class="id" title="binder">aid</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:144"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:146"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:145"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:146"><span class="id" title="variable">aid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_intro" class="idref" href="#PTRS_MIXIN.same_alloc_intro"><span class="id" title="lemma">same_alloc_intro</span></a> <a id="p1:147" class="idref" href="#p1:147"><span class="id" title="binder">p1</span></a> <a id="p2:148" class="idref" href="#p2:148"><span class="id" title="binder">p2</span></a> <a id="aid:149" class="idref" href="#aid:149"><span class="id" title="binder">aid</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:147"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:149"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:148"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:149"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:147"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:148"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>; <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.prelude.option.html#same_property_intro"><span class="id" title="lemma">same_property_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_nullptr_nullptr" class="idref" href="#PTRS_MIXIN.same_alloc_nullptr_nullptr"><span class="id" title="lemma">same_alloc_nullptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">have</span> ? := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_intro"><span class="id" title="lemma">same_alloc_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.ptr_alloc_id_base" class="idref" href="#PTRS_MIXIN.ptr_alloc_id_base"><span class="id" title="lemma">ptr_alloc_id_base</span></a> <a id="p:150" class="idref" href="#p:150"><span class="id" title="binder">p</span></a> <a id="o:151" class="idref" href="#o:151"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:152" class="idref" href="#Hs:152"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:150"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:151"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:150"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset" class="idref" href="#PTRS_MIXIN.same_alloc_offset"><span class="id" title="lemma">same_alloc_offset</span></a> <a id="p:153" class="idref" href="#p:153"><span class="id" title="binder">p</span></a> <a id="o:154" class="idref" href="#o:154"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:155" class="idref" href="#Hs:155"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:153"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:154"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:153"><span class="id" title="variable">p</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:153"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:154"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">Hs</span>) =&gt; <span class="id" title="var">aid</span> <span class="id" title="var">Eq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">aid</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset_2" class="idref" href="#PTRS_MIXIN.same_alloc_offset_2"><span class="id" title="lemma">same_alloc_offset_2</span></a> <a id="p:156" class="idref" href="#p:156"><span class="id" title="binder">p</span></a> <a id="o1:157" class="idref" href="#o1:157"><span class="id" title="binder">o1</span></a> <a id="o2:158" class="idref" href="#o2:158"><span class="id" title="binder">o2</span></a> <a id="p1:159" class="idref" href="#p1:159"><span class="id" title="binder">p1</span></a> <a id="p2:160" class="idref" href="#p2:160"><span class="id" title="binder">p2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E1:161" class="idref" href="#E1:161"><span class="id" title="binder">E1</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:159"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:156"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:157"><span class="id" title="variable">o1</span></a>) (<a id="E2:162" class="idref" href="#E2:162"><span class="id" title="binder">E2</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:160"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:156"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:158"><span class="id" title="variable">o2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs1:163" class="idref" href="#Hs1:163"><span class="id" title="binder">Hs1</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:156"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:157"><span class="id" title="variable">o1</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs2:164" class="idref" href="#Hs2:164"><span class="id" title="binder">Hs2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:156"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:158"><span class="id" title="variable">o2</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:159"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:160"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hs1</span>) =&gt; [<span class="id" title="var">aid</span> <span class="id" title="var">Eq</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">aid</span>; <span class="id" title="tactic">move</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs1</span>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset_1" class="idref" href="#PTRS_MIXIN.same_alloc_offset_1"><span class="id" title="lemma">same_alloc_offset_1</span></a> <a id="p:165" class="idref" href="#p:165"><span class="id" title="binder">p</span></a> <a id="o:166" class="idref" href="#o:166"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:167" class="idref" href="#Hs:167"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:165"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:166"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:165"><span class="id" title="variable">p</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:165"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:166"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_offset_2"><span class="id" title="lemma">same_alloc_offset_2</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_id"><span class="id" title="axiom">o_id</span></a> <span class="id" title="var">o</span>); <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_alloc_id_base"><span class="id" title="lemma">ptr_alloc_id_base</span></a> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Pointers into the same array with the same address have the same index.
  Wrapper by <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_o_sub_eq" class="idref" href="#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a> <a id="p:168" class="idref" href="#p:168"><span class="id" title="binder">p</span></a> <a id="dde5bb14789107ec722c71dc979db6bf" class="idref" href="#dde5bb14789107ec722c71dc979db6bf"><span class="id" title="binder">σ</span></a> <a id="ty:170" class="idref" href="#ty:170"><span class="id" title="binder">ty</span></a> <a id="n1:171" class="idref" href="#n1:171"><span class="id" title="binder">n1</span></a> <a id="n2:172" class="idref" href="#n2:172"><span class="id" title="binder">n2</span></a> <a id="sz:173" class="idref" href="#sz:173"><span class="id" title="binder">sz</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#dde5bb14789107ec722c71dc979db6bf"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:170"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:173"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:173"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:170"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:171"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:170"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:172"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:171"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:172"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_ptr_sub_0" class="idref" href="#PTRS_MIXIN.offset_ptr_sub_0"><span class="id" title="lemma">offset_ptr_sub_0</span></a> (<a id="p:174" class="idref" href="#p:174"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:175" class="idref" href="#ty:175"><span class="id" title="binder">ty</span></a> <a id="resolve:176" class="idref" href="#resolve:176"><span class="id" title="binder">resolve</span></a> (<a id="Hsz:177" class="idref" href="#Hsz:177"><span class="id" title="binder">Hsz</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#resolve:176"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:175"><span class="id" title="variable">ty</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:174"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:175"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:174"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> // <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a></span> states that the pointer (if it exists in memory) has
  the given alignment.
    
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.aligned_ptr" class="idref" href="#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a id="align:178" class="idref" href="#align:178"><span class="id" title="binder">align</span></a> <a id="p:179" class="idref" href="#p:179"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="va:180" class="idref" href="#va:180"><span class="id" title="binder">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:179"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:180"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#align:178"><span class="id" title="variable">align</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:180"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:179"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.aligned_ptr_ty" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> {<a id="acfbeb59d2ec9c35a8ed06d7f69cce72" class="idref" href="#acfbeb59d2ec9c35a8ed06d7f69cce72"><span class="id" title="binder">σ</span></a>} <a id="ty:182" class="idref" href="#ty:182"><span class="id" title="binder">ty</span></a> <a id="p:183" class="idref" href="#p:183"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="align:184" class="idref" href="#align:184"><span class="id" title="binder">align</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:182"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#align:184"><span class="id" title="variable">align</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#align:184"><span class="id" title="variable">align</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:183"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_divide_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_mono"><span class="id" title="instance">aligned_ptr_divide_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#N.divide"><span class="id" title="definition">N.divide</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">m</span> <span class="id" title="var">n</span> + <span class="id" title="var">_</span> <span class="id" title="var">p</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> =&gt; ? [[<span class="id" title="var">va</span> [<span class="id" title="var">P</span> <span class="id" title="var">D</span>]]|]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">split</span>=&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_divide_flip_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_flip_mono"><span class="id" title="instance">aligned_ptr_divide_flip_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#N.divide"><span class="id" title="definition">N.divide</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.N_divide_RewriteRelation" class="idref" href="#PTRS_MIXIN.N_divide_RewriteRelation"><span class="id" title="instance">N_divide_RewriteRelation</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Classes.RelationClasses.html#RewriteRelation"><span class="id" title="class">RewriteRelation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#N.divide"><span class="id" title="definition">N.divide</span></a> := {}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_divide_weaken" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a> <a id="m:185" class="idref" href="#m:185"><span class="id" title="binder">m</span></a> <a id="n:186" class="idref" href="#n:186"><span class="id" title="binder">n</span></a> <a id="p:187" class="idref" href="#p:187"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:186"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:185"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:185"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:186"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:187"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_mult_weaken_l" class="idref" href="#PTRS_MIXIN.aligned_ptr_mult_weaken_l"><span class="id" title="lemma">aligned_ptr_mult_weaken_l</span></a> <a id="m:188" class="idref" href="#m:188"><span class="id" title="binder">m</span></a> <a id="n:189" class="idref" href="#n:189"><span class="id" title="binder">n</span></a> <a id="p:190" class="idref" href="#p:190"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:188"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#fe1417cc32a1703619b26940ce957c6a"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:189"><span class="id" title="variable">n</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:190"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:189"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:190"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#N.divide_mul_r"><span class="id" title="lemma">N.divide_mul_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_mult_weaken_r" class="idref" href="#PTRS_MIXIN.aligned_ptr_mult_weaken_r"><span class="id" title="lemma">aligned_ptr_mult_weaken_r</span></a> <a id="m:191" class="idref" href="#m:191"><span class="id" title="binder">m</span></a> <a id="n:192" class="idref" href="#n:192"><span class="id" title="binder">n</span></a> <a id="p:193" class="idref" href="#p:193"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:191"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#fe1417cc32a1703619b26940ce957c6a"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:192"><span class="id" title="variable">n</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:193"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:191"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:193"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#N.divide_mul_l"><span class="id" title="lemma">N.divide_mul_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_min" class="idref" href="#PTRS_MIXIN.aligned_ptr_min"><span class="id" title="lemma">aligned_ptr_min</span></a> <a id="p:194" class="idref" href="#p:194"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> 1 <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:194"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>] =&gt; <span class="id" title="var">va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#N.divide_1_l"><span class="id" title="lemma">N.divide_1_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_ty_mult_weaken" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_mult_weaken"><span class="id" title="lemma">aligned_ptr_ty_mult_weaken</span></a> {<a id="9d63b48741968edd9f9abc0327a8bb16" class="idref" href="#9d63b48741968edd9f9abc0327a8bb16"><span class="id" title="binder">σ</span></a>} <a id="m:196" class="idref" href="#m:196"><span class="id" title="binder">m</span></a> <a id="n:197" class="idref" href="#n:197"><span class="id" title="binder">n</span></a> <a id="ty:198" class="idref" href="#ty:198"><span class="id" title="binder">ty</span></a> <a id="p:199" class="idref" href="#p:199"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:198"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:196"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:197"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:196"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:198"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:199"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:197"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:199"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.pinned_ptr_pure_aligned_divide" class="idref" href="#PTRS_MIXIN.pinned_ptr_pure_aligned_divide"><span class="id" title="lemma">pinned_ptr_pure_aligned_divide</span></a> <a id="va:200" class="idref" href="#va:200"><span class="id" title="binder">va</span></a> <a id="n:201" class="idref" href="#n:201"><span class="id" title="binder">n</span></a> <a id="p:202" class="idref" href="#p:202"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:202"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:200"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:201"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:202"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:201"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:200"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.pinned_ptr_pure_divide_1" class="idref" href="#PTRS_MIXIN.pinned_ptr_pure_divide_1"><span class="id" title="lemma">pinned_ptr_pure_divide_1</span></a> <a id="41633c7e57c17f19be71cb5d99eee89d" class="idref" href="#41633c7e57c17f19be71cb5d99eee89d"><span class="id" title="binder">σ</span></a> <a id="va:204" class="idref" href="#va:204"><span class="id" title="binder">va</span></a> <a id="n:205" class="idref" href="#n:205"><span class="id" title="binder">n</span></a> <a id="p:206" class="idref" href="#p:206"><span class="id" title="binder">p</span></a> <a id="ty:207" class="idref" href="#ty:207"><span class="id" title="binder">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:208" class="idref" href="#Hal:208"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:207"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:205"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:207"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:206"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:206"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:204"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:205"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:204"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <span class="id" title="var">Hal</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_sub_sub" class="idref" href="#PTRS_MIXIN.o_sub_sub"><span class="id" title="lemma">o_sub_sub</span></a> (<a id="p:209" class="idref" href="#p:209"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:210" class="idref" href="#ty:210"><span class="id" title="binder">ty</span></a> <a id="i:211" class="idref" href="#i:211"><span class="id" title="binder">i</span></a> <a id="j:212" class="idref" href="#j:212"><span class="id" title="binder">j</span></a> <a id="6a9a4a3520f5a4fc65d87dbdbfbde685" class="idref" href="#6a9a4a3520f5a4fc65d87dbdbfbde685"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:209"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:210"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:211"><span class="id" title="variable">i</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:210"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:212"><span class="id" title="variable">j</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:209"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:210"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:211"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:212"><span class="id" title="variable">j</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_dot"><span class="id" title="axiom">offset_ptr_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_dot_sub"><span class="id" title="axiom">o_dot_sub</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_base_derived_tu" class="idref" href="#PTRS_MIXIN.o_base_derived_tu"><span class="id" title="lemma">o_base_derived_tu</span></a> `{<a id="fe5d654a7212f72aff1d358f234d9b3e" class="idref" href="#fe5d654a7212f72aff1d358f234d9b3e"><span class="id" title="binder">H</span></a><a id="fe5d654a7212f72aff1d358f234d9b3e" class="idref" href="#fe5d654a7212f72aff1d358f234d9b3e"><span class="id" title="binder">σ</span></a> : <a id="tu:214" class="idref" href="#tu:214"><span class="id" title="binder">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">⊧</span></a> <a id="e01a21313320938e2f3b98ad843a19de" class="idref" href="#e01a21313320938e2f3b98ad843a19de"><span class="id" title="binder">σ</span></a>} <a id="p:217" class="idref" href="#p:217"><span class="id" title="binder">p</span></a> <a id="base:218" class="idref" href="#base:218"><span class="id" title="binder">base</span></a> <a id="derived:219" class="idref" href="#derived:219"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives_tu"><span class="id" title="abbreviation">directly_derives_tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:214"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:219"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:218"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:217"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#e01a21313320938e2f3b98ad843a19de"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:219"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:218"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#e01a21313320938e2f3b98ad843a19de"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:218"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:219"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:217"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [??%<a class="idref" href="bedrock.lang.cpp.semantics.types.html#parent_offset_genv_compat"><span class="id" title="lemma">parent_offset_genv_compat</span></a>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_derived_base_tu" class="idref" href="#PTRS_MIXIN.o_derived_base_tu"><span class="id" title="lemma">o_derived_base_tu</span></a> `{<a id="c3e89f3b5bccd8b7ed1e279b7aa377c7" class="idref" href="#c3e89f3b5bccd8b7ed1e279b7aa377c7"><span class="id" title="binder">H</span></a><a id="c3e89f3b5bccd8b7ed1e279b7aa377c7" class="idref" href="#c3e89f3b5bccd8b7ed1e279b7aa377c7"><span class="id" title="binder">σ</span></a> : <a id="tu:220" class="idref" href="#tu:220"><span class="id" title="binder">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">⊧</span></a> <a id="dc746e730c04267e471f5f355e64269b" class="idref" href="#dc746e730c04267e471f5f355e64269b"><span class="id" title="binder">σ</span></a>} <a id="p:223" class="idref" href="#p:223"><span class="id" title="binder">p</span></a> <a id="base:224" class="idref" href="#base:224"><span class="id" title="binder">base</span></a> <a id="derived:225" class="idref" href="#derived:225"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives_tu"><span class="id" title="abbreviation">directly_derives_tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:220"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:225"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:224"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:223"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#dc746e730c04267e471f5f355e64269b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:224"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:225"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#dc746e730c04267e471f5f355e64269b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:225"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:224"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:223"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [??%<a class="idref" href="bedrock.lang.cpp.semantics.types.html#parent_offset_genv_compat"><span class="id" title="lemma">parent_offset_genv_compat</span></a>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._id" class="idref" href="#PTRS_MIXIN._id"><span class="id" title="abbreviation">_id</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_id"><span class="id" title="axiom">o_id</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
access a field 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._field" class="idref" href="#PTRS_MIXIN._field"><span class="id" title="abbreviation">_field</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
subscript an array 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._sub" class="idref" href="#PTRS_MIXIN._sub"><span class="id" title="abbreviation">_sub</span></a> <span class="id" title="var">z</span> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">z</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.atomic_commit.html#derived"><span class="id" title="section">derived</span></a></span> <span class="inlinecode"><span class="id" title="library">base</span></span> is a cast from derived to base. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._base" class="idref" href="#PTRS_MIXIN._base"><span class="id" title="abbreviation">_base</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.functions.html#_derived"><span class="id" title="abbreviation">_derived</span></a></span> <span class="inlinecode"><span class="id" title="library">base</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.atomic_commit.html#derived"><span class="id" title="section">derived</span></a></span> is a cast from base to derived 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._derived" class="idref" href="#PTRS_MIXIN._derived"><span class="id" title="abbreviation">_derived</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_INTF" class="idref" href="#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a> &lt;+ <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a>.<br/>

<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
