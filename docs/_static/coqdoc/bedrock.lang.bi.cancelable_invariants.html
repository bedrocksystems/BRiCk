<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.bi.cancelable_invariants</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;This&nbsp;file&nbsp;is&nbsp;derived&nbsp;from&nbsp;code&nbsp;original&nbsp;to&nbsp;the&nbsp;Iris&nbsp;project.&nbsp;That<br/>
&nbsp;*&nbsp;original&nbsp;code&nbsp;is<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;Iris&nbsp;developers&nbsp;and&nbsp;contributors<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;and&nbsp;used&nbsp;according&nbsp;to&nbsp;the&nbsp;following&nbsp;license.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SPDX-License-Identifier:&nbsp;BSD-3-Clause<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;Original&nbsp;Code:<br/>
&nbsp;*&nbsp;https://gitlab.mpi-sws.org/iris/iris/-/blob/5bb93f57729a8cc7d0ffeaab769cd24728e51a38/iris/base_logic/lib/cancelable_invariants.v<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;Original&nbsp;Iris&nbsp;License:<br/>
&nbsp;*&nbsp;https://gitlab.mpi-sws.org/iris/iris/-/blob/5bb93f57729a8cc7d0ffeaab769cd24728e51a38/LICENSE-CODE<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
Extraction of cancelable invariants that is general w.r.t HasOwn, and not
  tied to iProp.

<div class="paragraph"> </div>

  Most proofs in this file generalize those of Iris, see the link above.
  In many cases, the proofs are unchanged and are exact duplicates of those in
  Iris. But their types did change and become more general.

<div class="paragraph"> </div>

  TODO: These should be upstreamed to Iris. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#"><span class="id" title="library">iris.bi.lib.fractional</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.frac.html#"><span class="id" title="library">iris.algebra.frac</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.cancelable_invariants.html#"><span class="id" title="library">iris.base_logic.lib.cancelable_invariants</span></a>. <span class="comment">(*&nbsp;&lt;&lt;&nbsp;exporting&nbsp;<span class="inlinecode"><span class="id" title="var">cinvG</span></span>&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#"><span class="id" title="library">iris.bi.derived_laws</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">bi</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.proofmode.html#"><span class="id" title="library">iris.proofmode.proofmode</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.invariants.html#"><span class="id" title="library">bedrock.lang.bi.invariants</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.bi.own.html#"><span class="id" title="library">bedrock.lang.bi.own</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Suggest</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span>.<br/>

<br/>
</div>

<div class="doc">
Duplicates from cancelable_invariants. This one is not tied to iProp. 
</div>
<div class="code">
<span class="comment">(*&nbsp;The&nbsp;statements&nbsp;and&nbsp;(most&nbsp;of)&nbsp;the&nbsp;proofs&nbsp;should&nbsp;stay&nbsp;the&nbsp;same&nbsp;as&nbsp;those&nbsp;of<br/>
&nbsp;&nbsp;iProp's&nbsp;cancelable&nbsp;invariants.&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="defs" class="idref" href="#defs"><span class="id" title="section">defs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="BiFUpd0:2" class="idref" href="#BiFUpd0:2"><span class="id" title="binder">!</span></a><a id="BiFUpd0:2" class="idref" href="#BiFUpd0:2"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:2" class="idref" href="#BiFUpd0:2"><span class="id" title="binder">PROP</span></a>} `{<a id="HasOwn0:3" class="idref" href="#HasOwn0:3"><span class="id" title="binder">!</span></a><a id="HasOwn0:3" class="idref" href="#HasOwn0:3"><span class="id" title="binder">HasOwn</span></a> <a id="HasOwn0:3" class="idref" href="#HasOwn0:3"><span class="id" title="binder">PROP</span></a> <a id="HasOwn0:3" class="idref" href="#HasOwn0:3"><span class="id" title="binder">fracR</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cinv_own" class="idref" href="#cinv_own"><span class="id" title="definition">cinv_own</span></a> (<a id="3bba16d9494c640e61f3a4c91ca586e3" class="idref" href="#3bba16d9494c640e61f3a4c91ca586e3"><span class="id" title="binder">γ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>) (<a id="p:5" class="idref" href="#p:5"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.frac.html#frac"><span class="id" title="abbreviation">frac</span></a>) : <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#defs.PROP"><span class="id" title="variable">PROP</span></a> := <a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#3bba16d9494c640e61f3a4c91ca586e3"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:5"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="cinv" class="idref" href="#cinv"><span class="id" title="definition">cinv</span></a> (<a id="N:6" class="idref" href="#N:6"><span class="id" title="binder">N</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.namespaces.html#namespace"><span class="id" title="definition">namespace</span></a>) (<a id="aeda8cee5984920a58fbaa1ad4bc0b11" class="idref" href="#aeda8cee5984920a58fbaa1ad4bc0b11"><span class="id" title="binder">γ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>) (<a id="P:8" class="idref" href="#P:8"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#defs.PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#defs.PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.invariants.html#inv"><span class="id" title="definition">inv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:6"><span class="id" title="variable">N</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:8"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#aeda8cee5984920a58fbaa1ad4bc0b11"><span class="id" title="variable">γ</span></a> 1).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#defs"><span class="id" title="section">defs</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a>) 5 := {}.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;allocation&nbsp;rules&nbsp;are&nbsp;missing.&nbsp;These&nbsp;rely&nbsp;on&nbsp;the&nbsp;specific&nbsp;model&nbsp;of&nbsp;PROP,<br/>
&nbsp;&nbsp;so&nbsp;the&nbsp;client&nbsp;of&nbsp;this&nbsp;library&nbsp;needs&nbsp;the&nbsp;provide&nbsp;the&nbsp;corresponding&nbsp;model&nbsp;of<br/>
&nbsp;&nbsp;invariants&nbsp;for&nbsp;their&nbsp;PROP,&nbsp;and&nbsp;then&nbsp;prove&nbsp;the&nbsp;allocation&nbsp;rules.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Such&nbsp;a&nbsp;model&nbsp;exists&nbsp;for&nbsp;iProp,&nbsp;see<br/>
&nbsp;&nbsp;https://gitlab.mpi-sws.org/iris/iris/-/blob/5bb93f57729a8cc7d0ffeaab769cd24728e51a38/iris/base_logic/lib/invariants.vL27 *)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="proofs" class="idref" href="#proofs"><span class="id" title="section">proofs</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;too&nbsp;many&nbsp;...&nbsp;Also,&nbsp;not&nbsp;all&nbsp;lemmas&nbsp;need&nbsp;all&nbsp;of&nbsp;these&nbsp;(which&nbsp;may&nbsp;affect<br/>
&nbsp;&nbsp;&nbsp;&nbsp;performance).&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="BiEmbed0:10" class="idref" href="#BiEmbed0:10"><span class="id" title="binder">!</span></a><a id="BiEmbed0:10" class="idref" href="#BiEmbed0:10"><span class="id" title="binder">BiEmbed</span></a> <a id="BiEmbed0:10" class="idref" href="#BiEmbed0:10"><span class="id" title="binder">siPropI</span></a> <a id="BiEmbed0:10" class="idref" href="#BiEmbed0:10"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="BiBUpd0:11" class="idref" href="#BiBUpd0:11"><span class="id" title="binder">!</span></a><a id="BiBUpd0:11" class="idref" href="#BiBUpd0:11"><span class="id" title="binder">BiBUpd</span></a> <a id="BiBUpd0:11" class="idref" href="#BiBUpd0:11"><span class="id" title="binder">PROP</span></a>} `{<a id="BiFUpd0:12" class="idref" href="#BiFUpd0:12"><span class="id" title="binder">!</span></a><a id="BiFUpd0:12" class="idref" href="#BiFUpd0:12"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:12" class="idref" href="#BiFUpd0:12"><span class="id" title="binder">PROP</span></a>} `{<a id="BiBUpdFUpd0:13" class="idref" href="#BiBUpdFUpd0:13"><span class="id" title="binder">!</span></a><a id="BiBUpdFUpd0:13" class="idref" href="#BiBUpdFUpd0:13"><span class="id" title="binder">BiBUpdFUpd</span></a> <a id="BiBUpdFUpd0:13" class="idref" href="#BiBUpdFUpd0:13"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="BiLaterContractive0:14" class="idref" href="#BiLaterContractive0:14"><span class="id" title="binder">!</span></a><a id="BiLaterContractive0:14" class="idref" href="#BiLaterContractive0:14"><span class="id" title="binder">BiLaterContractive</span></a> <a id="BiLaterContractive0:14" class="idref" href="#BiLaterContractive0:14"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="HasOwn0:15" class="idref" href="#HasOwn0:15"><span class="id" title="binder">!</span></a><a id="HasOwn0:15" class="idref" href="#HasOwn0:15"><span class="id" title="binder">HasOwn</span></a> <a id="HasOwn0:15" class="idref" href="#HasOwn0:15"><span class="id" title="binder">PROP</span></a> <a id="HasOwn0:15" class="idref" href="#HasOwn0:15"><span class="id" title="binder">fracR</span></a>} `{<a id="HasOwnValid0:16" class="idref" href="#HasOwnValid0:16"><span class="id" title="binder">!</span></a><a id="HasOwnValid0:16" class="idref" href="#HasOwnValid0:16"><span class="id" title="binder">HasOwnValid</span></a> <a id="HasOwnValid0:16" class="idref" href="#HasOwnValid0:16"><span class="id" title="binder">PROP</span></a> <a id="HasOwnValid0:16" class="idref" href="#HasOwnValid0:16"><span class="id" title="binder">fracR</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_own_timeless" class="idref" href="#cinv_own_timeless"><span class="id" title="instance">cinv_own_timeless</span></a> <a id="4cd80ebd52ddd9a8c78d767693d360ea" class="idref" href="#4cd80ebd52ddd9a8c78d767693d360ea"><span class="id" title="binder">γ</span></a> <a id="p:18" class="idref" href="#p:18"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#4cd80ebd52ddd9a8c78d767693d360ea"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:18"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_contractive" class="idref" href="#cinv_contractive"><span class="id" title="instance">cinv_contractive</span></a> <a id="N:19" class="idref" href="#N:19"><span class="id" title="binder">N</span></a> <a id="cd73289fe2b98ac38c2f430fe6093303" class="idref" href="#cd73289fe2b98ac38c2f430fe6093303"><span class="id" title="binder">γ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#Contractive"><span class="id" title="abbreviation">Contractive</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:19"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cd73289fe2b98ac38c2f430fe6093303"><span class="id" title="variable">γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_contractive</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_ne" class="idref" href="#cinv_ne"><span class="id" title="instance">cinv_ne</span></a> <a id="N:21" class="idref" href="#N:21"><span class="id" title="binder">N</span></a> <a id="1e539c3d2ec25b58843cd1ff2a35a911" class="idref" href="#1e539c3d2ec25b58843cd1ff2a35a911"><span class="id" title="binder">γ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:21"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#1e539c3d2ec25b58843cd1ff2a35a911"><span class="id" title="variable">γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#contractive_ne"><span class="id" title="instance">contractive_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_proper" class="idref" href="#cinv_proper"><span class="id" title="instance">cinv_proper</span></a> <a id="N:23" class="idref" href="#N:23"><span class="id" title="binder">N</span></a> <a id="33b907111abcf58bde2f69dd57e7406e" class="idref" href="#33b907111abcf58bde2f69dd57e7406e"><span class="id" title="binder">γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:23"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#33b907111abcf58bde2f69dd57e7406e"><span class="id" title="variable">γ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#ne_proper"><span class="id" title="lemma">ne_proper</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_persistent" class="idref" href="#cinv_persistent"><span class="id" title="instance">cinv_persistent</span></a> <a id="N:25" class="idref" href="#N:25"><span class="id" title="binder">N</span></a> <a id="0e451f67eb5d50008e3b791d7d607061" class="idref" href="#0e451f67eb5d50008e3b791d7d607061"><span class="id" title="binder">γ</span></a> <a id="P:27" class="idref" href="#P:27"><span class="id" title="binder">P</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:25"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#0e451f67eb5d50008e3b791d7d607061"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:27"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_affine" class="idref" href="#cinv_affine"><span class="id" title="instance">cinv_affine</span></a> <a id="N:28" class="idref" href="#N:28"><span class="id" title="binder">N</span></a> <a id="eb4d76647b09e0fda0494f65bba2b253" class="idref" href="#eb4d76647b09e0fda0494f65bba2b253"><span class="id" title="binder">γ</span></a> <a id="P:30" class="idref" href="#P:30"><span class="id" title="binder">P</span></a>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#proofs.PROP"><span class="id" title="variable">PROP</span></a>) (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:28"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#eb4d76647b09e0fda0494f65bba2b253"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:30"><span class="id" title="variable">P</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_own_fractional" class="idref" href="#cinv_own_fractional"><span class="id" title="instance">cinv_own_fractional</span></a> <a id="a853a41fd649f9e1dd72697a24ad55c5" class="idref" href="#a853a41fd649f9e1dd72697a24ad55c5"><span class="id" title="binder">γ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#Fractional"><span class="id" title="class">Fractional</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#a853a41fd649f9e1dd72697a24ad55c5"><span class="id" title="variable">γ</span></a>) | 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> -<a class="idref" href="bedrock.lang.bi.own.html#own_op"><span class="id" title="method">own_op</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cinv_own_as_fractional" class="idref" href="#cinv_own_as_fractional"><span class="id" title="instance">cinv_own_as_fractional</span></a> <a id="12b8b02789426837cffc8377c4baa0d9" class="idref" href="#12b8b02789426837cffc8377c4baa0d9"><span class="id" title="binder">γ</span></a> <a id="q:33" class="idref" href="#q:33"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.lib.fractional.html#AsFractional"><span class="id" title="class">AsFractional</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#12b8b02789426837cffc8377c4baa0d9"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q:33"><span class="id" title="variable">q</span></a>) (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#12b8b02789426837cffc8377c4baa0d9"><span class="id" title="variable">γ</span></a>) <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q:33"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Absent in Iris upstream.
  TODO: switch to ⌜q ≤ 1⌝
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cinv_own_valid_1" class="idref" href="#cinv_own_valid_1"><span class="id" title="lemma">cinv_own_valid_1</span></a> <a id="f52e3e0661b17433be07541b4dc03c4a" class="idref" href="#f52e3e0661b17433be07541b4dc03c4a"><span class="id" title="binder">γ</span></a> <a id="q:35" class="idref" href="#q:35"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#f52e3e0661b17433be07541b4dc03c4a"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q:35"><span class="id" title="variable">q</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.own.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">✓</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q:35"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="bedrock.lang.bi.own.html#own_valid"><span class="id" title="method">own_valid</span></a> <span class="id" title="var">γ</span> <span class="id" title="var">q</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cinv_own_valid" class="idref" href="#cinv_own_valid"><span class="id" title="lemma">cinv_own_valid</span></a> <a id="5141e122db253555da61a1443bf3718d" class="idref" href="#5141e122db253555da61a1443bf3718d"><span class="id" title="binder">γ</span></a> <a id="q1:37" class="idref" href="#q1:37"><span class="id" title="binder">q1</span></a> <a id="q2:38" class="idref" href="#q2:38"><span class="id" title="binder">q2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#5141e122db253555da61a1443bf3718d"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q1:37"><span class="id" title="variable">q1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#5141e122db253555da61a1443bf3718d"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q2:38"><span class="id" title="variable">q2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.own.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">✓</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q1:37"><span class="id" title="variable">q1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#b2e70b7e3bf4cfb65246e1f73628ee8d"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q2:38"><span class="id" title="variable">q2</span></a>)%<span class="id" title="var">Qp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="bedrock.lang.bi.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <span class="id" title="var">γ</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cinv_own_1_l" class="idref" href="#cinv_own_1_l"><span class="id" title="lemma">cinv_own_1_l</span></a> <a id="53c4cb77ec0f68b3b6fc377e98c1716b" class="idref" href="#53c4cb77ec0f68b3b6fc377e98c1716b"><span class="id" title="binder">γ</span></a> <a id="q:40" class="idref" href="#q:40"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#53c4cb77ec0f68b3b6fc377e98c1716b"><span class="id" title="variable">γ</span></a> 1 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#53c4cb77ec0f68b3b6fc377e98c1716b"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#q:40"><span class="id" title="variable">q</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1 H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own_valid"><span class="id" title="lemma">cinv_own_valid</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H1 H2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[]%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#exclusive_l"><span class="id" title="lemma">exclusive_l</span></a> 1%<span class="id" title="var">Qp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cinv_iff" class="idref" href="#cinv_iff"><span class="id" title="lemma">cinv_iff</span></a> <a id="N:41" class="idref" href="#N:41"><span class="id" title="binder">N</span></a> <a id="f9207b612121442d93b7cbd5be96b046" class="idref" href="#f9207b612121442d93b7cbd5be96b046"><span class="id" title="binder">γ</span></a> <a id="P:43" class="idref" href="#P:43"><span class="id" title="binder">P</span></a> <a id="Q:44" class="idref" href="#Q:44"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:41"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#f9207b612121442d93b7cbd5be96b046"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:43"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:43"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#5d86c478d2da7bfe16f1a17917a6c4c5"><span class="id" title="notation">∗-∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#Q:44"><span class="id" title="variable">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:41"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#f9207b612121442d93b7cbd5be96b046"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#Q:44"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HI #HPQ". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.invariants.html#inv_iff"><span class="id" title="lemma">inv_iff</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HI"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "!&gt; !&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iIntros</span> "[?|?]"; <span class="id" title="tactic">by</span> [<span class="id" title="var">iRight</span> | <span class="id" title="var">iLeft</span>; <span class="id" title="var">iApply</span> "HPQ" ].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(***&nbsp;Accessors&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cinv_acc_strong" class="idref" href="#cinv_acc_strong"><span class="id" title="lemma">cinv_acc_strong</span></a> <a id="E:45" class="idref" href="#E:45"><span class="id" title="binder">E</span></a> <a id="N:46" class="idref" href="#N:46"><span class="id" title="binder">N</span></a> <a id="1dbd697294dcac6e1f77e09afe882cd4" class="idref" href="#1dbd697294dcac6e1f77e09afe882cd4"><span class="id" title="binder">γ</span></a> <a id="p:48" class="idref" href="#p:48"><span class="id" title="binder">p</span></a> <a id="P:49" class="idref" href="#P:49"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:46"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:45"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:46"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#1dbd697294dcac6e1f77e09afe882cd4"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:49"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#1dbd697294dcac6e1f77e09afe882cd4"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:48"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:45"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:45"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:46"><span class="id" title="variable">N</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:49"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#1dbd697294dcac6e1f77e09afe882cd4"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:48"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="E':50" class="idref" href="#E':50"><span class="id" title="binder">E'</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:49"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#1dbd697294dcac6e1f77e09afe882cd4"><span class="id" title="variable">γ</span></a> 1 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E':50"><span class="id" title="variable">E'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:46"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E':50"><span class="id" title="variable">E'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'emp'"><span class="id" title="notation">emp</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "Hinv Hown".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.invariants.html#inv_acc"><span class="id" title="lemma">inv_acc</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a> <span class="id" title="var">N</span>) <span class="id" title="var">N</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hinv"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#difference_diag_L"><span class="id" title="lemma">difference_diag_L</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_frame_r"><span class="id" title="lemma">fupd_mask_frame_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">E</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a> <span class="id" title="var">N</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> //. <span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "[[$ | &gt;Hown'] H]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "{$Hown} !&gt;" (<span class="id" title="var">E'</span>) "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_frame_r"><span class="id" title="lemma">fupd_mask_frame_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E'</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(H [HP])"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H"; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iDestruct</span> "HP" <span class="id" title="keyword">as</span> "[?|?]"; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own_1_l"><span class="id" title="lemma">cinv_own_1_l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hown' Hown"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %[].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cinv_acc" class="idref" href="#cinv_acc"><span class="id" title="lemma">cinv_acc</span></a> <a id="E:51" class="idref" href="#E:51"><span class="id" title="binder">E</span></a> <a id="N:52" class="idref" href="#N:52"><span class="id" title="binder">N</span></a> <a id="4f8939c86c4e0035572f6b62b6f9d6f3" class="idref" href="#4f8939c86c4e0035572f6b62b6f9d6f3"><span class="id" title="binder">γ</span></a> <a id="p:54" class="idref" href="#p:54"><span class="id" title="binder">p</span></a> <a id="P:55" class="idref" href="#P:55"><span class="id" title="binder">P</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:52"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:51"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:52"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#4f8939c86c4e0035572f6b62b6f9d6f3"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:55"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#4f8939c86c4e0035572f6b62b6f9d6f3"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:54"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:51"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:51"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:52"><span class="id" title="variable">N</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:55"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#4f8939c86c4e0035572f6b62b6f9d6f3"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:54"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:55"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:51"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:52"><span class="id" title="variable">N</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:51"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'emp'"><span class="id" title="notation">emp</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "#Hinv Hγ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_acc_strong"><span class="id" title="lemma">cinv_acc_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hinv Hγ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "($ &amp; $ &amp; H)"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt; HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><span class="id" title="var">N</span>) <span class="id" title="var">E</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iLeft</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(***&nbsp;Other&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cinv_cancel" class="idref" href="#cinv_cancel"><span class="id" title="lemma">cinv_cancel</span></a> <a id="E:56" class="idref" href="#E:56"><span class="id" title="binder">E</span></a> <a id="N:57" class="idref" href="#N:57"><span class="id" title="binder">N</span></a> <a id="1ce5d407b59c8e8067ff1442f08377f0" class="idref" href="#1ce5d407b59c8e8067ff1442f08377f0"><span class="id" title="binder">γ</span></a> <a id="P:59" class="idref" href="#P:59"><span class="id" title="binder">P</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:57"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:56"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:57"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#1ce5d407b59c8e8067ff1442f08377f0"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:59"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#1ce5d407b59c8e8067ff1442f08377f0"><span class="id" title="variable">γ</span></a> 1 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:56"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:59"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "#Hinv Hγ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_acc_strong"><span class="id" title="lemma">cinv_acc_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hinv Hγ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "($ &amp; Hγ &amp; H)"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><span class="id" title="var">N</span>) <span class="id" title="var">E</span>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[Hγ]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iRight</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="into_inv_cinv" class="idref" href="#into_inv_cinv"><span class="id" title="instance">into_inv_cinv</span></a> <a id="N:60" class="idref" href="#N:60"><span class="id" title="binder">N</span></a> <a id="7274d1d27e32c79b14d6ff0a86a9916b" class="idref" href="#7274d1d27e32c79b14d6ff0a86a9916b"><span class="id" title="binder">γ</span></a> <a id="P:62" class="idref" href="#P:62"><span class="id" title="binder">P</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IntoInv"><span class="id" title="class">IntoInv</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:60"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#7274d1d27e32c79b14d6ff0a86a9916b"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:62"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:60"><span class="id" title="variable">N</span></a> := {}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="into_acc_cinv" class="idref" href="#into_acc_cinv"><span class="id" title="instance">into_acc_cinv</span></a> <a id="E:63" class="idref" href="#E:63"><span class="id" title="binder">E</span></a> <a id="N:64" class="idref" href="#N:64"><span class="id" title="binder">N</span></a> <a id="7a06ec5178da215b14cf27c0cc4366e7" class="idref" href="#7a06ec5178da215b14cf27c0cc4366e7"><span class="id" title="binder">γ</span></a> <a id="P:66" class="idref" href="#P:66"><span class="id" title="binder">P</span></a> <a id="p:67" class="idref" href="#p:67"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IntoAcc"><span class="id" title="class">IntoAcc</span></a> (<span class="id" title="var">X</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv"><span class="id" title="definition">cinv</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:64"><span class="id" title="variable">N</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#7a06ec5178da215b14cf27c0cc4366e7"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:66"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:64"><span class="id" title="variable">N</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:63"><span class="id" title="variable">E</span></a>) (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#7a06ec5178da215b14cf27c0cc4366e7"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:67"><span class="id" title="variable">p</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:63"><span class="id" title="variable">E</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:63"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:64"><span class="id" title="variable">N</span></a>)) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> (<a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:63"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#N:64"><span class="id" title="variable">N</span></a>) <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#E:63"><span class="id" title="variable">E</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:66"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_own"><span class="id" title="definition">cinv_own</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#7a06ec5178da215b14cf27c0cc4366e7"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#p:67"><span class="id" title="variable">p</span></a>)%<span class="id" title="var">I</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#P:66"><span class="id" title="variable">P</span></a>)%<span class="id" title="var">I</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IntoAcc"><span class="id" title="class">IntoAcc</span></a> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#accessor"><span class="id" title="definition">accessor</span></a>. <span class="id" title="var">iIntros</span> (?) "#Hinv Hown".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.exist_unit"><span class="id" title="lemma">exist_unit</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#cinv_acc"><span class="id" title="lemma">cinv_acc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hinv Hown"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "($ &amp; $ &amp; Close)"; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt; P". <span class="id" title="tactic">by</span> <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Close" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "P"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#proofs"><span class="id" title="section">proofs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Type</span><span class="id" title="var">classes</span> <span class="id" title="keyword">Opaque</span> <span class="id" title="var">cinv_own</span> <span class="id" title="var">cinv</span>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
