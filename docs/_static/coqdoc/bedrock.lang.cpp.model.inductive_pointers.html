<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.model.inductive_pointers</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
Another (incomplete) consistency proof for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a></span>, based on Krebbers' PhD thesis, and
other formal models of C++ using structured pointers.
This is more complex than <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers.html#SIMPLE_PTRS_IMPL"><span class="id" title="module">SIMPLE_PTRS_IMPL</span></a></span>, but will be necessary to justify <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a></span>.

<div class="paragraph"> </div>

In this model, all valid pointers have an address pinned, but this is not meant
to be guaranteed.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.gmap.html#"><span class="id" title="library">gmap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="bedrock.prelude.addr.html#"><span class="id" title="library">addr</span></a> <a class="idref" href="bedrock.prelude.avl.html#"><span class="id" title="library">avl</span></a> <a class="idref" href="bedrock.prelude.bytestring.html#"><span class="id" title="library">bytestring</span></a> <a class="idref" href="bedrock.prelude.option.html#"><span class="id" title="library">option</span></a> <a class="idref" href="bedrock.prelude.numbers.html#"><span class="id" title="library">numbers</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.ast.html#"><span class="id" title="library">ast</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp.semantics</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#"><span class="id" title="library">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#"><span class="id" title="library">values</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp.model</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#"><span class="id" title="library">simple_pointers_utils</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers_utils.html#"><span class="id" title="library">inductive_pointers_utils</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (σ : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>).<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="PTRS_IMPL" class="idref" href="#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a> &lt;: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#canonical_tu"><span class="id" title="module">canonical_tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers_utils.html#address_sums"><span class="id" title="module">address_sums</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers_utils.html#merge_elems"><span class="id" title="module">merge_elems</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="PTRS_IMPL.raw_offset_seg" class="idref" href="#PTRS_IMPL.raw_offset_seg"><span class="id" title="inductive">raw_offset_seg</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.o_field_" class="idref" href="#PTRS_IMPL.o_field_"><span class="id" title="constructor">o_field_</span></a> <span class="comment">(*&nbsp;type-name:&nbsp;*)</span> (<a id="f:3" class="idref" href="#f:3"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#field"><span class="id" title="record">field</span></a>)<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.o_sub_" class="idref" href="#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> (<a id="ty:4" class="idref" href="#ty:4"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="z:5" class="idref" href="#z:5"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.o_base_" class="idref" href="#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> (<a id="derived:6" class="idref" href="#derived:6"><span class="id" title="binder">derived</span></a> <a id="base:7" class="idref" href="#base:7"><span class="id" title="binder">base</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>)<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.o_derived_" class="idref" href="#PTRS_IMPL.o_derived_"><span class="id" title="constructor">o_derived_</span></a> (<a id="base:8" class="idref" href="#base:8"><span class="id" title="binder">base</span></a> <a id="derived:9" class="idref" href="#derived:9"><span class="id" title="binder">derived</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>)<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.o_invalid_" class="idref" href="#PTRS_IMPL.o_invalid_"><span class="id" title="constructor">o_invalid_</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.raw_offset_seg_eq_dec" class="idref" href="#PTRS_IMPL.raw_offset_seg_eq_dec"><span class="id" title="instance">raw_offset_seg_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_seg"><span class="id" title="inductive">raw_offset_seg</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.raw_offset_seg_countable" class="idref" href="#PTRS_IMPL.raw_offset_seg_countable"><span class="id" title="instance">raw_offset_seg_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_seg"><span class="id" title="inductive">raw_offset_seg</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.offset_seg" class="idref" href="#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_seg"><span class="id" title="inductive">raw_offset_seg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.offset_seg_eq_dec" class="idref" href="#PTRS_IMPL.offset_seg_eq_dec"><span class="id" title="instance">offset_seg_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a> := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.offset_seg_countable" class="idref" href="#PTRS_IMPL.offset_seg_countable"><span class="id" title="instance">offset_seg_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.eval_raw_offset_seg" class="idref" href="#PTRS_IMPL.eval_raw_offset_seg"><span class="id" title="definition">eval_raw_offset_seg</span></a> <a id="962aaeeff05b6bd0df6153509c8e8505" class="idref" href="#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="binder">σ</span></a> (<a id="ro:11" class="idref" href="#ro:11"><span class="id" title="binder">ro</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_seg"><span class="id" title="inductive">raw_offset_seg</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:11"><span class="id" title="variable">ro</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field_"><span class="id" title="constructor">o_field_</span></a> <span class="id" title="var">f</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#o_field_off"><span class="id" title="definition">o_field_off</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="variable">σ</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">z</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#o_sub_off"><span class="id" title="definition">o_sub_off</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="variable">σ</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <span class="id" title="var">derived</span> <span class="id" title="var">base</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#o_base_off"><span class="id" title="definition">o_base_off</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="variable">σ</span></a> <span class="id" title="var">derived</span> <span class="id" title="var">base</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_derived_"><span class="id" title="constructor">o_derived_</span></a> <span class="id" title="var">base</span> <span class="id" title="var">derived</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#o_derived_off"><span class="id" title="definition">o_derived_off</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="variable">σ</span></a> <span class="id" title="var">base</span> <span class="id" title="var">derived</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_invalid_"><span class="id" title="constructor">o_invalid_</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.mk_offset_seg" class="idref" href="#PTRS_IMPL.mk_offset_seg"><span class="id" title="definition">mk_offset_seg</span></a> <a id="8520583ae5f9101ee6510faa5e82ff2f" class="idref" href="#8520583ae5f9101ee6510faa5e82ff2f"><span class="id" title="binder">σ</span></a> (<a id="ro:14" class="idref" href="#ro:14"><span class="id" title="binder">ro</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_seg"><span class="id" title="inductive">raw_offset_seg</span></a>) : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_raw_offset_seg"><span class="id" title="definition">eval_raw_offset_seg</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#8520583ae5f9101ee6510faa5e82ff2f"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:14"><span class="id" title="variable">ro</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_invalid_"><span class="id" title="constructor">o_invalid_</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 0%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">off</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:14"><span class="id" title="variable">ro</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">off</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;list&nbsp;is&nbsp;reversed.<br/>
&nbsp;&nbsp;The&nbsp;list&nbsp;of&nbsp;offsets&nbsp;in&nbsp;<span class="inlinecode">[<span class="id" title="var">p</span>;</span> <span class="inlinecode"><span class="id" title="var">o_1</span>;</span> <span class="inlinecode">...;</span> <span class="inlinecode"><span class="id" title="var">o_n</span>]</span>&nbsp;is&nbsp;represented&nbsp;as&nbsp;<span class="inlinecode">[<span class="id" title="var">o_n</span>;</span> <span class="inlinecode">...</span> <span class="inlinecode"><span class="id" title="var">o_1</span>]</span>.<br/>
&nbsp;&nbsp;This&nbsp;way,&nbsp;we&nbsp;can&nbsp;cons&nbsp;new&nbsp;offsets&nbsp;to&nbsp;the&nbsp;head,&nbsp;and&nbsp;consume&nbsp;them&nbsp;at&nbsp;the&nbsp;tail.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.raw_offset" class="idref" href="#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.raw_offset_eq_dec" class="idref" href="#PTRS_IMPL.raw_offset_eq_dec"><span class="id" title="instance">raw_offset_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.raw_offset_countable" class="idref" href="#PTRS_IMPL.raw_offset_countable"><span class="id" title="instance">raw_offset_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_IMPL.isnt" class="idref" href="#PTRS_IMPL.isnt"><span class="id" title="abbreviation">isnt</span></a> <span class="id" title="var">o</span> <span class="id" title="tactic">pattern</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <span class="id" title="var">o</span> <span class="id" title="keyword">with</span> | <span class="id" title="tactic">pattern</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">z</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Close&nbsp;Scope&nbsp;nat_scope.&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="PTRS_IMPL.roff_canon" class="idref" href="#PTRS_IMPL.roff_canon"><span class="id" title="section">roff_canon</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Context&nbsp;{σ&nbsp;:&nbsp;genv}.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;currently&nbsp;ensure&nbsp;the&nbsp;offsets&nbsp;in&nbsp;the&nbsp;destination&nbsp;are&nbsp;correct&nbsp;wrt&nbsp;the&nbsp;source,&nbsp;not&nbsp;that&nbsp;the&nbsp;ones&nbsp;in&nbsp;the&nbsp;source&nbsp;are&nbsp;consistent&nbsp;with&nbsp;each&nbsp;other.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="PTRS_IMPL.roff_canon" class="idref" href="#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PTRS_IMPL.o_nil" class="idref" href="#PTRS_IMPL.o_nil"><span class="id" title="constructor">o_nil</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PTRS_IMPL.o_field_canon" class="idref" href="#PTRS_IMPL.o_field_canon"><span class="id" title="constructor">o_field_canon</span></a> <a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a> <a id="d:18" class="idref" href="#d:18"><span class="id" title="binder">d</span></a> <a id="f:19" class="idref" href="#f:19"><span class="id" title="binder">f</span></a> <a id="o:20" class="idref" href="#o:20"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;is_Some&nbsp;(o_field_off&nbsp;σ&nbsp;f)&nbsp;-&gt;&nbsp;*)</span> <span class="comment">(*&nbsp;not&nbsp;canonicalization's&nbsp;problem?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:18"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field_"><span class="id" title="constructor">o_field_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:19"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:20"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:17"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field_"><span class="id" title="constructor">o_field_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:19"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:20"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:18"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PTRS_IMPL.o_base_canon" class="idref" href="#PTRS_IMPL.o_base_canon"><span class="id" title="constructor">o_base_canon</span></a> <a id="s:21" class="idref" href="#s:21"><span class="id" title="binder">s</span></a> <a id="d:22" class="idref" href="#d:22"><span class="id" title="binder">d</span></a> <a id="base:23" class="idref" href="#base:23"><span class="id" title="binder">base</span></a> <a id="derived:24" class="idref" href="#derived:24"><span class="id" title="binder">derived</span></a> <a id="o:25" class="idref" href="#o:25"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;no,&nbsp;because&nbsp;(valid?)&nbsp;normal&nbsp;forms&nbsp;don't&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">o_derived</span></span>?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;isnt&nbsp;d&nbsp;((o_derived_&nbsp;_&nbsp;_&nbsp;,&nbsp;_)&nbsp;::&nbsp;_)&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:22"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:24"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:23"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:25"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:21"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:24"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:23"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:25"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:22"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;should&nbsp;paths&nbsp;start&nbsp;from&nbsp;the&nbsp;complete&nbsp;object?&nbsp;If<br/>
&nbsp;&nbsp;&nbsp;&nbsp;yes,&nbsp;as&nbsp;done&nbsp;by&nbsp;Ramananandro&nbsp;<span class="inlinecode"><span class="id" title="var">POPL</span></span> <span class="inlinecode">2012</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;o_derived&nbsp;should&nbsp;just&nbsp;cancel&nbsp;out&nbsp;o_base,&nbsp;and&nbsp;this&nbsp;should&nbsp;be&nbsp;omitted.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;|&nbsp;o_derived_wf&nbsp;s&nbsp;d&nbsp;derived&nbsp;base&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isnt&nbsp;d&nbsp;(o_base_&nbsp;_&nbsp;_&nbsp;::&nbsp;d)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roff_canon&nbsp;s&nbsp;d&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roff_canon&nbsp;(o_derived_&nbsp;base&nbsp;derived&nbsp;::&nbsp;s)&nbsp;(o_derived_&nbsp;base&nbsp;derived&nbsp;::&nbsp;d)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PTRS_IMPL.o_derived_cancel_canon" class="idref" href="#PTRS_IMPL.o_derived_cancel_canon"><span class="id" title="constructor">o_derived_cancel_canon</span></a> <a id="s:26" class="idref" href="#s:26"><span class="id" title="binder">s</span></a> <a id="d:27" class="idref" href="#d:27"><span class="id" title="binder">d</span></a> <a id="derived:28" class="idref" href="#derived:28"><span class="id" title="binder">derived</span></a> <a id="base:29" class="idref" href="#base:29"><span class="id" title="binder">base</span></a> <a id="o1:30" class="idref" href="#o1:30"><span class="id" title="binder">o1</span></a> <a id="o2:31" class="idref" href="#o2:31"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:26"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:27"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;premise&nbsp;is&nbsp;a&nbsp;hack,&nbsp;but&nbsp;without&nbsp;it,&nbsp;normalization&nbsp;might&nbsp;not&nbsp;be&nbsp;deterministic.&nbsp;Thankfully,&nbsp;paths&nbsp;can't&nbsp;contain&nbsp;o_derived&nbsp;step,&nbsp;so&nbsp;we're&nbsp;good!&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;roff_canon&nbsp;(o_base_&nbsp;derived&nbsp;base&nbsp;::&nbsp;s)&nbsp;(o_base_&nbsp;derived&nbsp;base&nbsp;::&nbsp;d)&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_derived_"><span class="id" title="constructor">o_derived_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:29"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:28"><span class="id" title="variable">derived</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:30"><span class="id" title="variable">o1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:28"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:29"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:31"><span class="id" title="variable">o2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:26"><span class="id" title="variable">s</span></a>) <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:27"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PTRS_IMPL.o_sub_0_canon" class="idref" href="#PTRS_IMPL.o_sub_0_canon"><span class="id" title="constructor">o_sub_0_canon</span></a> <a id="s:32" class="idref" href="#s:32"><span class="id" title="binder">s</span></a> <a id="d:33" class="idref" href="#d:33"><span class="id" title="binder">d</span></a> <a id="ty:34" class="idref" href="#ty:34"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:32"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:33"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:34"><span class="id" title="variable">ty</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:32"><span class="id" title="variable">s</span></a>) <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:33"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PTRS_IMPL.o_sub_canon" class="idref" href="#PTRS_IMPL.o_sub_canon"><span class="id" title="constructor">o_sub_canon</span></a> <a id="s:35" class="idref" href="#s:35"><span class="id" title="binder">s</span></a> <a id="d:36" class="idref" href="#d:36"><span class="id" title="binder">d</span></a> <a id="ty1:37" class="idref" href="#ty1:37"><span class="id" title="binder">ty1</span></a> <a id="z:38" class="idref" href="#z:38"><span class="id" title="binder">z</span></a> <a id="o:39" class="idref" href="#o:39"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:36"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <span class="id" title="var">ty2</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty1:37"><span class="id" title="variable">ty1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">ty2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;fact,&nbsp;we&nbsp;want&nbsp;<span class="inlinecode">0</span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">z</span></span>,&nbsp;but&nbsp;that's&nbsp;a&nbsp;matter&nbsp;of&nbsp;validity,&nbsp;not&nbsp;canonicalization.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:38"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;isnt&nbsp;o&nbsp;(o_sub_&nbsp;_&nbsp;_)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:35"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:36"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty1:37"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:38"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:39"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:35"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty1:37"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:38"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:39"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:36"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="PTRS_IMPL.o_sub_merge_canon" class="idref" href="#PTRS_IMPL.o_sub_merge_canon"><span class="id" title="constructor">o_sub_merge_canon</span></a> <a id="s:41" class="idref" href="#s:41"><span class="id" title="binder">s</span></a> <a id="d:42" class="idref" href="#d:42"><span class="id" title="binder">d</span></a> <a id="ty:43" class="idref" href="#ty:43"><span class="id" title="binder">ty</span></a> <a id="z1:44" class="idref" href="#z1:44"><span class="id" title="binder">z1</span></a> <a id="z2:45" class="idref" href="#z2:45"><span class="id" title="binder">z2</span></a> <a id="o1:46" class="idref" href="#o1:46"><span class="id" title="binder">o1</span></a> <a id="o2:47" class="idref" href="#o2:47"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Again,&nbsp;validity&nbsp;would&nbsp;require&nbsp;<span class="inlinecode">&gt;</span> <span class="inlinecode">0</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z1:44"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z2:45"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:41"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:43"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z1:44"><span class="id" title="variable">z1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:46"><span class="id" title="variable">o1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:42"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon:15"><span class="id" title="inductive">roff_canon</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:43"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z2:45"><span class="id" title="variable">z2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:47"><span class="id" title="variable">o2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:41"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:43"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z1:44"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z2:45"><span class="id" title="variable">z2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:46"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:47"><span class="id" title="variable">o2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:42"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="section">roff_canon</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.roff_canon_o_base_inv" class="idref" href="#PTRS_IMPL.roff_canon_o_base_inv"><span class="id" title="lemma">roff_canon_o_base_inv</span></a> <a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> <a id="d:49" class="idref" href="#d:49"><span class="id" title="binder">d</span></a> <a id="derived:50" class="idref" href="#derived:50"><span class="id" title="binder">derived</span></a> <a id="base:51" class="idref" href="#base:51"><span class="id" title="binder">base</span></a> <a id="o1:52" class="idref" href="#o1:52"><span class="id" title="binder">o1</span></a> <a id="o2:53" class="idref" href="#o2:53"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:50"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:51"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:52"><span class="id" title="variable">o1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:48"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:50"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:51"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:53"><span class="id" title="variable">o2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:49"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:48"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:49"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.roff_canon_o_sub_wf" class="idref" href="#PTRS_IMPL.roff_canon_o_sub_wf"><span class="id" title="lemma">roff_canon_o_sub_wf</span></a> <a id="s:54" class="idref" href="#s:54"><span class="id" title="binder">s</span></a> <a id="d:55" class="idref" href="#d:55"><span class="id" title="binder">d</span></a> <a id="ty:56" class="idref" href="#ty:56"><span class="id" title="binder">ty</span></a> <a id="z:57" class="idref" href="#z:57"><span class="id" title="binder">z</span></a> <a id="o:58" class="idref" href="#o:58"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:54"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:56"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:57"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:58"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:55"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:57"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">E</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="var">d'</span> <span class="id" title="var">Hcn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">Hcn</span> <span class="id" title="var">E</span>; <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.roff_canon_o_sub_no_dup" class="idref" href="#PTRS_IMPL.roff_canon_o_sub_no_dup"><span class="id" title="lemma">roff_canon_o_sub_no_dup</span></a> <a id="s:59" class="idref" href="#s:59"><span class="id" title="binder">s</span></a> <a id="d:60" class="idref" href="#d:60"><span class="id" title="binder">d</span></a> <a id="o:61" class="idref" href="#o:61"><span class="id" title="binder">o</span></a> <a id="ty1:62" class="idref" href="#ty1:62"><span class="id" title="binder">ty1</span></a> <a id="z:63" class="idref" href="#z:63"><span class="id" title="binder">z</span></a> <a id="ro:64" class="idref" href="#ro:64"><span class="id" title="binder">ro</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#s:59"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty1:62"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:63"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:64"><span class="id" title="variable">ro</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:61"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:60"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:61"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <span class="id" title="var">ty2</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty1:62"><span class="id" title="variable">ty1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">ty2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">E</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="var">d'</span> <span class="id" title="var">Hcn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">Hcn</span> <span class="id" title="var">z</span> <span class="id" title="var">ro</span> <span class="id" title="var">E</span>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.offset_seg_cons" class="idref" href="#PTRS_IMPL.offset_seg_cons"><span class="id" title="definition">offset_seg_cons</span></a> (<a id="os:66" class="idref" href="#os:66"><span class="id" title="binder">os</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a>) (<a id="oss:67" class="idref" href="#oss:67"><span class="id" title="binder">oss</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:66"><span class="id" title="variable">os</span></a>, <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oss:67"><span class="id" title="variable">oss</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">n1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">off1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">off1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oss:67"><span class="id" title="variable">oss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oss:67"><span class="id" title="variable">oss</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <span class="id" title="var">ty2</span> <span class="id" title="var">n2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">off2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">oss'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">ty1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">ty2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:66"><span class="id" title="variable">os</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oss:67"><span class="id" title="variable">oss</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">n2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">off1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">off2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">oss'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <span class="id" title="var">ty1</span> (<span class="id" title="var">n2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">n1</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">off2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">off1</span>)%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">oss'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:66"><span class="id" title="variable">os</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oss:67"><span class="id" title="variable">oss</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_derived_"><span class="id" title="constructor">o_derived_</span></a> <span class="id" title="var">base1</span> <span class="id" title="var">der1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">off1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <span class="id" title="var">der2</span> <span class="id" title="var">base2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">off2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">oss'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">der1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">der2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">base1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">base2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="var">oss'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:66"><span class="id" title="variable">os</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oss:67"><span class="id" title="variable">oss</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;|&nbsp;(o_invalid_,&nbsp;_),&nbsp;_&nbsp;=&gt;&nbsp;<span class="inlinecode">(<span class="id" title="var">o_invalid_</span>,</span> <span class="inlinecode">0%<span class="id" title="var">Z</span>)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_invalid_"><span class="id" title="constructor">o_invalid_</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_invalid_"><span class="id" title="constructor">o_invalid_</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:66"><span class="id" title="variable">os</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oss:67"><span class="id" title="variable">oss</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.raw_offset_collapse" class="idref" href="#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg_cons"><span class="id" title="definition">offset_seg_cons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> !<span class="id" title="var">_</span> /.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.raw_offset_wf" class="idref" href="#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> (<a id="ro:71" class="idref" href="#ro:71"><span class="id" title="binder">ro</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:71"><span class="id" title="variable">ro</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:71"><span class="id" title="variable">ro</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> !<span class="id" title="var">_</span> /.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.raw_offset_wf_pi" class="idref" href="#PTRS_IMPL.raw_offset_wf_pi"><span class="id" title="instance">raw_offset_wf_pi</span></a> <a id="ro:72" class="idref" href="#ro:72"><span class="id" title="binder">ro</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#ProofIrrel"><span class="id" title="class">ProofIrrel</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:72"><span class="id" title="variable">ro</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.singleton_raw_offset_wf" class="idref" href="#PTRS_IMPL.singleton_raw_offset_wf"><span class="id" title="lemma">singleton_raw_offset_wf</span></a> {<a id="os:73" class="idref" href="#os:73"><span class="id" title="binder">os</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hn0:75" class="idref" href="#Hn0:75"><span class="id" title="binder">Hn0</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.isnt"><span class="id" title="abbreviation">isnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:73"><span class="id" title="variable">os</span></a> <a id="pat:74" class="idref" href="#pat:74"><span class="id" title="binder">(</span></a><a id="pat:74" class="idref" href="#pat:74"><span class="id" title="binder">o_sub_</span></a> <a id="pat:74" class="idref" href="#pat:74"><span class="id" title="binder">_</span></a> <a id="pat:74" class="idref" href="#pat:74"><span class="id" title="binder">0,</span></a> <a id="pat:74" class="idref" href="#pat:74"><span class="id" title="binder">_</span></a><a id="pat:74" class="idref" href="#pat:74"><span class="id" title="binder">)</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:73"><span class="id" title="variable">os</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">os</span> <span class="id" title="keyword">as</span> [[] ?] =&gt; //=; <span class="id" title="var">case_decide</span>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Constructors</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#roff_canon"><span class="id" title="inductive">roff_canon</span></a> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="PTRS_IMPL.canon_wf_0" class="idref" href="#PTRS_IMPL.canon_wf_0"><span class="id" title="lemma">canon_wf_0</span></a> <a id="src:76" class="idref" href="#src:76"><span class="id" title="binder">src</span></a> <a id="dst:77" class="idref" href="#dst:77"><span class="id" title="binder">dst</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#src:76"><span class="id" title="variable">src</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#dst:77"><span class="id" title="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#dst:77"><span class="id" title="variable">dst</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#dst:77"><span class="id" title="variable">dst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hrc</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hrc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">IHHrc</span>; <span class="id" title="tactic">eauto</span> 2; <span class="id" title="var">last</span> <span class="id" title="var">have</span> ?: <span class="id" title="var">z0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <span class="id" title="tactic">by</span> [<span class="id" title="var">lia</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Show&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">o_sub_merge_canon</span></span>&nbsp;isn't&nbsp;applicable.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="var">efeed</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon_o_sub_wf"><span class="id" title="lemma">roff_canon_o_sub_wf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="PTRS_IMPL.canon_wf'" class="idref" href="#PTRS_IMPL.canon_wf'"><span class="id" title="lemma">canon_wf'</span></a> <a id="src:78" class="idref" href="#src:78"><span class="id" title="binder">src</span></a> <a id="dst:79" class="idref" href="#dst:79"><span class="id" title="binder">dst</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#src:78"><span class="id" title="variable">src</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#dst:79"><span class="id" title="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#src:78"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#dst:79"><span class="id" title="variable">dst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> =&gt; <span class="id" title="var">Hc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hc</span> =&gt; //=; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IHHc</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg_cons"><span class="id" title="definition">offset_seg_cons</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> [ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True"><span class="id" title="lemma">decide_True</span></a> //=; <span class="id" title="tactic">repeat</span> (<span class="id" title="var">lia</span> || <span class="id" title="tactic">f_equal</span>)]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> ((<span class="id" title="var">case_decide</span> || <span class="id" title="var">case_match</span>); <span class="id" title="var">destruct_and</span>?; <span class="id" title="tactic">subst</span> =&gt; //).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id_L"><span class="id" title="lemma">right_id_L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="PTRS_IMPL.canon_wf" class="idref" href="#PTRS_IMPL.canon_wf"><span class="id" title="lemma">canon_wf</span></a> <a id="src:80" class="idref" href="#src:80"><span class="id" title="binder">src</span></a> <a id="dst:81" class="idref" href="#dst:81"><span class="id" title="binder">dst</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.roff_canon"><span class="id" title="inductive">roff_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#src:80"><span class="id" title="variable">src</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#dst:81"><span class="id" title="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#dst:81"><span class="id" title="variable">dst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?%<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.canon_wf_0"><span class="id" title="lemma">canon_wf_0</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.canon_wf'"><span class="id" title="lemma">canon_wf'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.raw_offset_merge" class="idref" href="#PTRS_IMPL.raw_offset_merge"><span class="id" title="definition">raw_offset_merge</span></a> (<a id="o1:82" class="idref" href="#o1:82"><span class="id" title="binder">o1</span></a> <a id="o2:83" class="idref" href="#o2:83"><span class="id" title="binder">o2</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a>) : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:82"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:83"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_merge"><span class="id" title="definition">raw_offset_merge</span></a> !<span class="id" title="var">_</span> <span class="id" title="var">_</span> /.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.offset" class="idref" href="#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="ro:84" class="idref" href="#ro:84"><span class="id" title="binder">ro</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:84"><span class="id" title="variable">ro</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.offset_eq_dec" class="idref" href="#PTRS_IMPL.offset_eq_dec"><span class="id" title="instance">offset_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.raw_offset_to_offset" class="idref" href="#PTRS_IMPL.raw_offset_to_offset"><span class="id" title="definition">raw_offset_to_offset</span></a> (<a id="ro:85" class="idref" href="#ro:85"><span class="id" title="binder">ro</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:85"><span class="id" title="variable">ro</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hwf</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:85"><span class="id" title="variable">ro</span></a> <span class="id" title="var">Hwf</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.offset_countable" class="idref" href="#PTRS_IMPL.offset_countable"><span class="id" title="instance">offset_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#inj_countable"><span class="id" title="definition">inj_countable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_to_offset"><span class="id" title="definition">raw_offset_to_offset</span></a>) =&gt; -[<span class="id" title="var">ro</span> <span class="id" title="var">Hwf</span>] /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_to_offset"><span class="id" title="definition">raw_offset_to_offset</span></a>; <span class="id" title="var">case_match</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#proof_irrel"><span class="id" title="definition">proof_irrel</span></a> <span class="id" title="var">Hwf</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="PTRS_IMPL.o_id" class="idref" href="#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#0bcc5d7e710249ba487036902eea9532"><span class="id" title="notation">↾</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="PTRS_IMPL.mkOffset" class="idref" href="#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a> <a id="fe2b596e2bfb6e5a10b504397c4bc4c9" class="idref" href="#fe2b596e2bfb6e5a10b504397c4bc4c9"><span class="id" title="binder">σ</span></a> (<a id="ro:87" class="idref" href="#ro:87"><span class="id" title="binder">ro</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_seg"><span class="id" title="inductive">raw_offset_seg</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hn0:89" class="idref" href="#Hn0:89"><span class="id" title="binder">Hn0</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.isnt"><span class="id" title="abbreviation">isnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:87"><span class="id" title="variable">ro</span></a> (<a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">o_sub_</span></a> <a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">_</span></a> <a id="pat:88" class="idref" href="#pat:88"><span class="id" title="binder">0</span></a>)) : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mk_offset_seg"><span class="id" title="definition">mk_offset_seg</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#fe2b596e2bfb6e5a10b504397c4bc4c9"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ro:87"><span class="id" title="variable">ro</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#0bcc5d7e710249ba487036902eea9532"><span class="id" title="notation">↾</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.singleton_raw_offset_wf"><span class="id" title="lemma">singleton_raw_offset_wf</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mk_offset_seg"><span class="id" title="definition">mk_offset_seg</span></a>; <span class="id" title="tactic">intros</span> ? [] <span class="id" title="var">H</span> =&gt; //=; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.o_invalid" class="idref" href="#PTRS_IMPL.o_invalid"><span class="id" title="definition">o_invalid</span></a> <a id="b702ecd3bf036a057859106a7f1b4dce" class="idref" href="#b702ecd3bf036a057859106a7f1b4dce"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#b702ecd3bf036a057859106a7f1b4dce"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_invalid_"><span class="id" title="constructor">o_invalid_</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.o_field" class="idref" href="#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a> <a id="c45a719e878307ba3d2852fbe7434a9c" class="idref" href="#c45a719e878307ba3d2852fbe7434a9c"><span class="id" title="binder">σ</span></a> <a id="f:92" class="idref" href="#f:92"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#c45a719e878307ba3d2852fbe7434a9c"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field_"><span class="id" title="constructor">o_field_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:92"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.o_base" class="idref" href="#PTRS_IMPL.o_base"><span class="id" title="definition">o_base</span></a> <a id="08304a5fe01b9b887e728c77caf420c2" class="idref" href="#08304a5fe01b9b887e728c77caf420c2"><span class="id" title="binder">σ</span></a> <a id="derived:94" class="idref" href="#derived:94"><span class="id" title="binder">derived</span></a> <a id="base:95" class="idref" href="#base:95"><span class="id" title="binder">base</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#08304a5fe01b9b887e728c77caf420c2"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base_"><span class="id" title="constructor">o_base_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:94"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:95"><span class="id" title="variable">base</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.o_derived" class="idref" href="#PTRS_IMPL.o_derived"><span class="id" title="definition">o_derived</span></a> <a id="a9bcc5764d17e174b3024cd55432ea32" class="idref" href="#a9bcc5764d17e174b3024cd55432ea32"><span class="id" title="binder">σ</span></a> <a id="base:97" class="idref" href="#base:97"><span class="id" title="binder">base</span></a> <a id="derived:98" class="idref" href="#derived:98"><span class="id" title="binder">derived</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#a9bcc5764d17e174b3024cd55432ea32"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_derived_"><span class="id" title="constructor">o_derived_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#base:97"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#derived:98"><span class="id" title="variable">derived</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="PTRS_IMPL.o_sub" class="idref" href="#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a id="55b134b38a7198382c602a077460cfcc" class="idref" href="#55b134b38a7198382c602a077460cfcc"><span class="id" title="binder">σ</span></a> <a id="ty:100" class="idref" href="#ty:100"><span class="id" title="binder">ty</span></a> <a id="z:101" class="idref" href="#z:101"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:101"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#55b134b38a7198382c602a077460cfcc"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:100"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_invalid"><span class="id" title="definition">o_invalid</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#55b134b38a7198382c602a077460cfcc"><span class="id" title="variable">σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#55b134b38a7198382c602a077460cfcc"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub_"><span class="id" title="constructor">o_sub_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:100"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z:101"><span class="id" title="variable">z</span></a>) <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">case_match</span>; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="var">case_match</span>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.last_last_equiv" class="idref" href="#PTRS_IMPL.last_last_equiv"><span class="id" title="lemma">last_last_equiv</span></a> {<a id="X:102" class="idref" href="#X:102"><span class="id" title="binder">X</span></a>} <a id="d:103" class="idref" href="#d:103"><span class="id" title="binder">d</span></a> {<a id="xs:104" class="idref" href="#xs:104"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#X:102"><span class="id" title="variable">X</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#default"><span class="id" title="abbreviation">default</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:103"><span class="id" title="variable">d</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#last"><span class="id" title="definition">stdpp.list.last</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs:104"><span class="id" title="variable">xs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#last"><span class="id" title="definition">List.last</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs:104"><span class="id" title="variable">xs</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#d:103"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">xs</span> =&gt; // <span class="id" title="var">x1</span> <span class="id" title="var">xs</span> /= &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;Section&nbsp;merge_elem.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Context&nbsp;{X}&nbsp;(f&nbsp;:&nbsp;X&nbsp;-&gt;&nbsp;X&nbsp;-&gt;&nbsp;list&nbsp;X).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Context&nbsp;(Hinv&nbsp;:&nbsp;∀&nbsp;x1&nbsp;x2,&nbsp;merge_elems&nbsp;f&nbsp;(f&nbsp;x1&nbsp;x2)&nbsp;=&nbsp;f&nbsp;x1&nbsp;x2).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[global] Instance invol_merge_elems: Involutive (merge_elems f).
    Proof.
    Admitted.

    <span class="inlinecode"><span class="id" title="var">global</span></span>&nbsp;Instance&nbsp;invol_app_merge_elems:&nbsp;InvolApp&nbsp;(merge_elems&nbsp;f).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Admitted.<br/>
&nbsp;&nbsp;End&nbsp;merge_elem.<br/>
&nbsp;&nbsp;[local] Arguments merge_elems {X} f !_ /. *)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.offset_seg_append" class="idref" href="#PTRS_IMPL.offset_seg_append"><span class="id" title="definition">offset_seg_append</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg_cons"><span class="id" title="definition">offset_seg_cons</span></a>.<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;Lemma&nbsp;offset_seg_cons_inv&nbsp;x1&nbsp;x2&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;raw_offset_collapse&nbsp;(offset_seg_cons&nbsp;x1&nbsp;x2)&nbsp;=&nbsp;offset_seg_cons&nbsp;x1&nbsp;x2.<br/>
&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;move=&gt;&nbsp;/=&nbsp;<span class="inlinecode"><span class="id" title="var">o1</span></span> <span class="inlinecode"><span class="id" title="var">off1</span></span>&nbsp;<span class="inlinecode"><span class="id" title="var">o2</span></span> <span class="inlinecode"><span class="id" title="var">off2</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;o1,&nbsp;o2&nbsp;=&gt;&nbsp;//=;&nbsp;by&nbsp;repeat&nbsp;(case_decide;&nbsp;simpl).<br/>
&nbsp;&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.test" class="idref" href="#PTRS_IMPL.test"><span class="id" title="definition">test</span></a> <a id="xs:105" class="idref" href="#xs:105"><span class="id" title="binder">xs</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs:105"><span class="id" title="variable">xs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs:105"><span class="id" title="variable">xs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="PTRS_IMPL.tests" class="idref" href="#PTRS_IMPL.tests"><span class="id" title="section">tests</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">start</span> := <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">step_true</span> := <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True"><span class="id" title="lemma">decide_True</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">step_false</span> := <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_False"><span class="id" title="lemma">decide_False</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">res_true</span> := <span class="id" title="var">start</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">step_true</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">res_false</span> := <span class="id" title="var">start</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">step_false</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> <a id="PTRS_IMPL.Unnamed_thm" class="idref" href="#PTRS_IMPL.Unnamed_thm"><span class="id" title="definition">test</span></a> <a id="PTRS_IMPL.Unnamed_thm" class="idref" href="#PTRS_IMPL.Unnamed_thm"><span class="id" title="definition">[]</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="var">res_true</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">`{</span></a><a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">n1</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">&lt;&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">0</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">-&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">test</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">[(</span></a><a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">o_sub_</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">ty</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">n1</span></a><a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">,</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">o1</span></a><a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">)]</span></a> <a id="PTRS_IMPL.Unnamed_thm0" class="idref" href="#PTRS_IMPL.Unnamed_thm0"><span class="id" title="definition">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">res_false</span>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">`{</span></a><a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">n1</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">&lt;&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">0</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">-&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">n2</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">&lt;&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">0</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">-&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">n2</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">+</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">n1</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">&lt;&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">0</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">-&gt;</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">test</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">[(</span></a><a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">o_sub_</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">ty</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">n1</span></a><a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">,</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">o1</span></a><a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">);</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">(</span></a><a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">o_sub_</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">ty</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">n2</span></a><a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">,</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">o2</span></a><a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">)]</span></a> <a id="PTRS_IMPL.Unnamed_thm1" class="idref" href="#PTRS_IMPL.Unnamed_thm1"><span class="id" title="definition">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">res_false</span>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Goal&nbsp;`{test&nbsp;<span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">n1</span>,</span> <span class="inlinecode"><span class="id" title="var">o1</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">n2</span>,</span> <span class="inlinecode"><span class="id" title="var">o2</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_field_</span></span> <span class="inlinecode"><span class="id" title="var">f</span>,</span> <span class="inlinecode"><span class="id" title="var">o3</span>)</span>&nbsp;}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.&nbsp;res_true.&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Goal&nbsp;`{test&nbsp;<span class="inlinecode">(<span class="id" title="var">o_field_</span></span> <span class="inlinecode"><span class="id" title="var">f</span>,</span> <span class="inlinecode"><span class="id" title="var">o1</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">n1</span>,</span> <span class="inlinecode"><span class="id" title="var">o2</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">n2</span>,</span> <span class="inlinecode"><span class="id" title="var">o3</span>)</span>&nbsp;}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.&nbsp;res_true.&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Goal&nbsp;`{ty1&nbsp;≠&nbsp;ty2&nbsp;→&nbsp;test&nbsp;<span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty1</span></span> <span class="inlinecode"><span class="id" title="var">n1</span>,</span> <span class="inlinecode"><span class="id" title="var">o1</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty2</span></span> <span class="inlinecode"><span class="id" title="var">n2</span>,</span> <span class="inlinecode"><span class="id" title="var">o2</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_field_</span></span> <span class="inlinecode"><span class="id" title="var">f</span>,</span> <span class="inlinecode"><span class="id" title="var">o3</span>)</span>&nbsp;}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.&nbsp;res_false.&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Goal&nbsp;`{ty1&nbsp;≠&nbsp;ty2&nbsp;→&nbsp;test&nbsp;<span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty1</span></span> <span class="inlinecode"><span class="id" title="var">n1</span>,</span> <span class="inlinecode"><span class="id" title="var">o1</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty1</span></span> <span class="inlinecode"><span class="id" title="var">n2</span>,</span> <span class="inlinecode"><span class="id" title="var">o2</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_sub_</span></span> <span class="inlinecode"><span class="id" title="var">ty2</span></span> <span class="inlinecode"><span class="id" title="var">n3</span>,</span> <span class="inlinecode"><span class="id" title="var">o3</span>);</span> <span class="inlinecode">(<span class="id" title="var">o_field_</span></span> <span class="inlinecode"><span class="id" title="var">f</span>,</span> <span class="inlinecode"><span class="id" title="var">o4</span>)</span>&nbsp;}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.&nbsp;start.&nbsp;step_false.&nbsp;step_true.&nbsp;step_false.&nbsp;Qed.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.tests"><span class="id" title="section">tests</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;probably&nbsp;sound,&nbsp;since&nbsp;it&nbsp;allows&nbsp;temporary&nbsp;underflows.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.eval_offset_seg" class="idref" href="#PTRS_IMPL.eval_offset_seg"><span class="id" title="definition">eval_offset_seg</span></a> (<a id="os:114" class="idref" href="#os:114"><span class="id" title="binder">os</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_seg"><span class="id" title="definition">offset_seg</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#os:114"><span class="id" title="variable">os</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_invalid_"><span class="id" title="constructor">o_invalid_</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.eval_raw_offset" class="idref" href="#PTRS_IMPL.eval_raw_offset"><span class="id" title="definition">eval_raw_offset</span></a> (<a id="o:116" class="idref" href="#o:116"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset"><span class="id" title="definition">raw_offset</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="bedrock.prelude.base.html#liftM2"><span class="id" title="definition">liftM2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#Z.add"><span class="id" title="definition">Z.add</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset_seg"><span class="id" title="definition">eval_offset_seg</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:116"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.eval_offset" class="idref" href="#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="o:117" class="idref" href="#o:117"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_raw_offset"><span class="id" title="definition">eval_raw_offset</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5d6eea20192f4b90d9ee9e82f9b13c67"><span class="id" title="notation">`</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:117"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;generally&nbsp;applicable.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Arguments</span> <a class="idref" href="bedrock.prelude.base.html#liftM2"><span class="id" title="definition">liftM2</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> !<span class="id" title="var">_</span> !<span class="id" title="var">_</span> / : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.eval_o_sub" class="idref" href="#PTRS_IMPL.eval_o_sub"><span class="id" title="lemma">eval_o_sub</span></a> <a id="f9a160848f134cfba002f6d72f90eabf" class="idref" href="#f9a160848f134cfba002f6d72f90eabf"><span class="id" title="binder">σ</span></a> <a id="ty:119" class="idref" href="#ty:119"><span class="id" title="binder">ty</span></a> (<a id="i:120" class="idref" href="#i:120"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:119"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#i:120"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;order&nbsp;enables&nbsp;reducing&nbsp;for&nbsp;known&nbsp;ty.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="n:121" class="idref" href="#n:121"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#n:121"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#i:120"><span class="id" title="variable">i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:119"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a>/<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a>/<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_raw_offset"><span class="id" title="definition">eval_raw_offset</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mk_offset_seg"><span class="id" title="definition">mk_offset_seg</span></a>/=/<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#o_sub_off"><span class="id" title="definition">o_sub_off</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">subst</span> =&gt; //=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a>=&gt; [<span class="id" title="var">sz</span>|] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm_L"><span class="id" title="lemma">comm_L</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id_L"><span class="id" title="lemma">right_id_L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.eval_o_field" class="idref" href="#PTRS_IMPL.eval_o_field"><span class="id" title="lemma">eval_o_field</span></a> <a id="7258c542641e1045ba920f4e096ba499" class="idref" href="#7258c542641e1045ba920f4e096ba499"><span class="id" title="binder">σ</span></a> <a id="f:123" class="idref" href="#f:123"><span class="id" title="binder">f</span></a> <a id="n:124" class="idref" href="#n:124"><span class="id" title="binder">n</span></a> <a id="cls:125" class="idref" href="#cls:125"><span class="id" title="binder">cls</span></a> <a id="st:126" class="idref" href="#st:126"><span class="id" title="binder">st</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:123"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#n:124"><span class="id" title="variable">n</span></a> ; <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#cls:125"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#glob_def"><span class="id" title="definition">glob_def</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#7258c542641e1045ba920f4e096ba499"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#cls:125"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#st:126"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#st:126"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#POD"><span class="id" title="constructor">POD</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#st:126"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Standard"><span class="id" title="constructor">Standard</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#7258c542641e1045ba920f4e096ba499"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#7258c542641e1045ba920f4e096ba499"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:123"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#offset_of"><span class="id" title="definition">offset_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#7258c542641e1045ba920f4e096ba499"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:123"><span class="id" title="variable">f</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:123"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; -&gt; <span class="id" title="var">_</span> <span class="id" title="var">_</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mk_offset_seg"><span class="id" title="definition">mk_offset_seg</span></a> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_raw_offset_seg"><span class="id" title="definition">eval_raw_offset_seg</span></a> /<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#o_field_off"><span class="id" title="definition">o_field_off</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="bedrock.lang.cpp.semantics.types.html#offset_of"><span class="id" title="definition">offset_of</span></a> =&gt; [<span class="id" title="var">off</span>|//] /=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id_L"><span class="id" title="lemma">right_id_L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="PTRS_IMPL.InvolApp" class="idref" href="#PTRS_IMPL.InvolApp"><span class="id" title="record">InvolApp</span></a> {<a id="X:127" class="idref" href="#X:127"><span class="id" title="binder">X</span></a>} (<a id="f:128" class="idref" href="#f:128"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#X:127"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#X:127"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="PTRS_IMPL.invol_app" class="idref" href="#PTRS_IMPL.invol_app"><span class="id" title="projection">invol_app</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="xs1:130" class="idref" href="#xs1:130"><span class="id" title="binder">xs1</span></a> <a id="xs2:131" class="idref" href="#xs2:131"><span class="id" title="binder">xs2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:128"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs1:130"><span class="id" title="variable">xs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs2:131"><span class="id" title="variable">xs2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:128"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:128"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs1:130"><span class="id" title="variable">xs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:128"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#xs2:131"><span class="id" title="variable">xs2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="PTRS_IMPL.Involutive" class="idref" href="#PTRS_IMPL.Involutive"><span class="id" title="record">Involutive</span></a> {<a id="X:133" class="idref" href="#X:133"><span class="id" title="binder">X</span></a>} (<a id="f:134" class="idref" href="#f:134"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#X:133"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#X:133"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="PTRS_IMPL.invol" class="idref" href="#PTRS_IMPL.invol"><span class="id" title="projection">invol</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:136" class="idref" href="#x:136"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:134"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:134"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#x:136"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#f:134"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#x:136"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.raw_offset_collapse_involutive" class="idref" href="#PTRS_IMPL.raw_offset_collapse_involutive"><span class="id" title="instance">raw_offset_collapse_involutive</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.Involutive"><span class="id" title="class">Involutive</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.raw_offset_collapse_invol_app" class="idref" href="#PTRS_IMPL.raw_offset_collapse_invol_app"><span class="id" title="instance">raw_offset_collapse_invol_app</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.InvolApp"><span class="id" title="class">InvolApp</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse"><span class="id" title="definition">raw_offset_collapse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="PTRS_IMPL.__o_dot" class="idref" href="#PTRS_IMPL.__o_dot"><span class="id" title="definition">__o_dot</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="o1:138" class="idref" href="#o1:138"><span class="id" title="binder">o1</span></a> <a id="o2:139" class="idref" href="#o2:139"><span class="id" title="binder">o2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#0bcc5d7e710249ba487036902eea9532"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_merge"><span class="id" title="definition">raw_offset_merge</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:138"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:139"><span class="id" title="variable">o2</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#0bcc5d7e710249ba487036902eea9532"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#0bcc5d7e710249ba487036902eea9532"><span class="id" title="notation">↾</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_collapse_involutive"><span class="id" title="axiom">raw_offset_collapse_involutive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="PTRS_IMPL.root_ptr" class="idref" href="#PTRS_IMPL.root_ptr"><span class="id" title="inductive">root_ptr</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.nullptr_" class="idref" href="#PTRS_IMPL.nullptr_"><span class="id" title="constructor">nullptr_</span></a><br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.global_ptr_" class="idref" href="#PTRS_IMPL.global_ptr_"><span class="id" title="constructor">global_ptr_</span></a> (<a id="tu:142" class="idref" href="#tu:142"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#canonical_tu.translation_unit_canon"><span class="id" title="record">translation_unit_canon</span></a>) (<a id="o:143" class="idref" href="#o:143"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#obj_name"><span class="id" title="definition">obj_name</span></a>)<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.alloc_ptr_" class="idref" href="#PTRS_IMPL.alloc_ptr_"><span class="id" title="constructor">alloc_ptr_</span></a> (<a id="a:144" class="idref" href="#a:144"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>) (<a id="va:145" class="idref" href="#va:145"><span class="id" title="binder">va</span></a> : <a class="idref" href="bedrock.prelude.addr.html#vaddr"><span class="id" title="definition">vaddr</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.root_ptr_eq_dec" class="idref" href="#PTRS_IMPL.root_ptr_eq_dec"><span class="id" title="instance">root_ptr_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr"><span class="id" title="inductive">root_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.root_ptr_countable" class="idref" href="#PTRS_IMPL.root_ptr_countable"><span class="id" title="instance">root_ptr_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr"><span class="id" title="inductive">root_ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.global_ptr__inj" class="idref" href="#PTRS_IMPL.global_ptr__inj"><span class="id" title="instance">global_ptr__inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj2"><span class="id" title="class">Inj2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr_"><span class="id" title="constructor">global_ptr_</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ???? [=]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.root_ptr_alloc_id" class="idref" href="#PTRS_IMPL.root_ptr_alloc_id"><span class="id" title="definition">root_ptr_alloc_id</span></a> (<a id="rp:146" class="idref" href="#rp:146"><span class="id" title="binder">rp</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr"><span class="id" title="inductive">root_ptr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#rp:146"><span class="id" title="variable">rp</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr_"><span class="id" title="constructor">nullptr_</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#null_alloc_id"><span class="id" title="definition">null_alloc_id</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr_"><span class="id" title="constructor">global_ptr_</span></a> <span class="id" title="var">tu</span> <span class="id" title="var">o</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#global_ptr_encode_aid"><span class="id" title="definition">global_ptr_encode_aid</span></a> <span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.alloc_ptr_"><span class="id" title="constructor">alloc_ptr_</span></a> <span class="id" title="var">aid</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">aid</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.root_ptr_vaddr" class="idref" href="#PTRS_IMPL.root_ptr_vaddr"><span class="id" title="definition">root_ptr_vaddr</span></a> (<a id="rp:148" class="idref" href="#rp:148"><span class="id" title="binder">rp</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr"><span class="id" title="inductive">root_ptr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.prelude.addr.html#vaddr"><span class="id" title="definition">vaddr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#rp:148"><span class="id" title="variable">rp</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr_"><span class="id" title="constructor">nullptr_</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr_"><span class="id" title="constructor">global_ptr_</span></a> <span class="id" title="var">tu</span> <span class="id" title="var">o</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#global_ptr_encode_vaddr"><span class="id" title="definition">global_ptr_encode_vaddr</span></a> <span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.alloc_ptr_"><span class="id" title="constructor">alloc_ptr_</span></a> <span class="id" title="var">aid</span> <span class="id" title="var">va</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">va</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="PTRS_IMPL.ptr_" class="idref" href="#PTRS_IMPL.ptr_"><span class="id" title="inductive">ptr_</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.invalid_ptr_" class="idref" href="#PTRS_IMPL.invalid_ptr_"><span class="id" title="constructor">invalid_ptr_</span></a><br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.fun_ptr_" class="idref" href="#PTRS_IMPL.fun_ptr_"><span class="id" title="constructor">fun_ptr_</span></a> (<a id="tu:152" class="idref" href="#tu:152"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#canonical_tu.translation_unit_canon"><span class="id" title="record">translation_unit_canon</span></a>) (<a id="o:153" class="idref" href="#o:153"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#obj_name"><span class="id" title="definition">obj_name</span></a>)<br/>
&nbsp;&nbsp;| <a id="PTRS_IMPL.offset_ptr" class="idref" href="#PTRS_IMPL.offset_ptr"><span class="id" title="constructor">offset_ptr</span></a> (<a id="p:154" class="idref" href="#p:154"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr"><span class="id" title="inductive">root_ptr</span></a>) (<a id="o:155" class="idref" href="#o:155"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.ptr" class="idref" href="#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_"><span class="id" title="inductive">ptr_</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.ptr_eq_dec" class="idref" href="#PTRS_IMPL.ptr_eq_dec"><span class="id" title="instance">ptr_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.ptr_countable" class="idref" href="#PTRS_IMPL.ptr_countable"><span class="id" title="instance">ptr_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.offset_ptr_inj" class="idref" href="#PTRS_IMPL.offset_ptr_inj"><span class="id" title="instance">offset_ptr_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj2"><span class="id" title="class">Inj2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_ptr"><span class="id" title="constructor">offset_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ???? [=]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.ptr_alloc_id" class="idref" href="#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> (<a id="p:156" class="idref" href="#p:156"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:156"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invalid_ptr_"><span class="id" title="constructor">invalid_ptr_</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.fun_ptr_"><span class="id" title="constructor">fun_ptr_</span></a> <span class="id" title="var">tu</span> <span class="id" title="var">o</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#global_ptr_encode_aid"><span class="id" title="definition">global_ptr_encode_aid</span></a> <span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_ptr"><span class="id" title="constructor">offset_ptr</span></a> <span class="id" title="var">p</span> <span class="id" title="var">o</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr_alloc_id"><span class="id" title="definition">root_ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:156"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.ptr_vaddr" class="idref" href="#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> (<a id="p:158" class="idref" href="#p:158"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.prelude.addr.html#vaddr"><span class="id" title="definition">vaddr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:158"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invalid_ptr_"><span class="id" title="constructor">invalid_ptr_</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.fun_ptr_"><span class="id" title="constructor">fun_ptr_</span></a> <span class="id" title="var">tu</span> <span class="id" title="var">o</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#global_ptr_encode_vaddr"><span class="id" title="definition">global_ptr_encode_vaddr</span></a> <span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_ptr"><span class="id" title="constructor">offset_ptr</span></a> <span class="id" title="var">p</span> <span class="id" title="var">o</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="off:160" class="idref" href="#off:160"><span class="id" title="binder">off</span></a> <a id="ova:161" class="idref" href="#ova:161"><span class="id" title="binder">ova</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ova:161"><span class="id" title="variable">ova</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers_utils.html#address_sums.offset_vaddr"><span class="id" title="definition">offset_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#off:160"><span class="id" title="variable">off</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr_vaddr"><span class="id" title="definition">root_ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:158"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5d6eea20192f4b90d9ee9e82f9b13c67"><span class="id" title="notation">`</span></a><span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.lift_root_ptr" class="idref" href="#PTRS_IMPL.lift_root_ptr"><span class="id" title="definition">lift_root_ptr</span></a> (<a id="rp:162" class="idref" href="#rp:162"><span class="id" title="binder">rp</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.root_ptr"><span class="id" title="inductive">root_ptr</span></a>) : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_ptr"><span class="id" title="constructor">offset_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#rp:162"><span class="id" title="variable">rp</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.invalid_ptr" class="idref" href="#PTRS_IMPL.invalid_ptr"><span class="id" title="definition">invalid_ptr</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invalid_ptr_"><span class="id" title="constructor">invalid_ptr_</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.fun_ptr" class="idref" href="#PTRS_IMPL.fun_ptr"><span class="id" title="definition">fun_ptr</span></a> <a id="tu:163" class="idref" href="#tu:163"><span class="id" title="binder">tu</span></a> <a id="o:164" class="idref" href="#o:164"><span class="id" title="binder">o</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.fun_ptr_"><span class="id" title="constructor">fun_ptr_</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#canonical_tu.tu_to_canon"><span class="id" title="definition">canonical_tu.tu_to_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:163"><span class="id" title="variable">tu</span></a>) <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:164"><span class="id" title="variable">o</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.null_alloc_id" class="idref" href="#PTRS_IMPL.null_alloc_id"><span class="id" title="definition">null_alloc_id</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> := <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#null_alloc_id"><span class="id" title="definition">null_alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.nullptr" class="idref" href="#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.lift_root_ptr"><span class="id" title="definition">lift_root_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr_"><span class="id" title="constructor">nullptr_</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.global_ptr" class="idref" href="#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> (<a id="tu:165" class="idref" href="#tu:165"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) <a id="o:166" class="idref" href="#o:166"><span class="id" title="binder">o</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.lift_root_ptr"><span class="id" title="definition">lift_root_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr_"><span class="id" title="constructor">global_ptr_</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#canonical_tu.tu_to_canon"><span class="id" title="definition">canonical_tu.tu_to_canon</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:165"><span class="id" title="variable">tu</span></a>) <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:166"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.alloc_ptr" class="idref" href="#PTRS_IMPL.alloc_ptr"><span class="id" title="definition">alloc_ptr</span></a> <a id="a:167" class="idref" href="#a:167"><span class="id" title="binder">a</span></a> <a id="oid:168" class="idref" href="#oid:168"><span class="id" title="binder">oid</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.lift_root_ptr"><span class="id" title="definition">lift_root_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.alloc_ptr_"><span class="id" title="constructor">alloc_ptr_</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#oid:168"><span class="id" title="variable">oid</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.global_ptr_nonnull" class="idref" href="#PTRS_IMPL.global_ptr_nonnull"><span class="id" title="lemma">global_ptr_nonnull</span></a> <a id="tu:169" class="idref" href="#tu:169"><span class="id" title="binder">tu</span></a> <a id="o:170" class="idref" href="#o:170"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:169"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:170"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.global_ptr_inj" class="idref" href="#PTRS_IMPL.global_ptr_inj"><span class="id" title="instance">global_ptr_inj</span></a> <a id="tu:171" class="idref" href="#tu:171"><span class="id" title="binder">tu</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:171"><span class="id" title="variable">tu</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Some&nbsp;proofs&nbsp;using&nbsp;these&nbsp;helpers&nbsp;could&nbsp;be&nbsp;shortened,&nbsp;tactic-wise,&nbsp;but&nbsp;I&nbsp;find<br/>
&nbsp;&nbsp;them&nbsp;clearer&nbsp;this&nbsp;way,&nbsp;and&nbsp;they&nbsp;work&nbsp;in&nbsp;both&nbsp;models.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.ptr_vaddr_global_ptr" class="idref" href="#PTRS_IMPL.ptr_vaddr_global_ptr"><span class="id" title="lemma">ptr_vaddr_global_ptr</span></a> <a id="tu:172" class="idref" href="#tu:172"><span class="id" title="binder">tu</span></a> <a id="o:173" class="idref" href="#o:173"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:172"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:173"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#global_ptr_encode_vaddr"><span class="id" title="definition">global_ptr_encode_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:173"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.ptr_alloc_id_global_ptr" class="idref" href="#PTRS_IMPL.ptr_alloc_id_global_ptr"><span class="id" title="lemma">ptr_alloc_id_global_ptr</span></a> <a id="tu:174" class="idref" href="#tu:174"><span class="id" title="binder">tu</span></a> <a id="o:175" class="idref" href="#o:175"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:174"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:175"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#global_ptr_encode_aid"><span class="id" title="definition">global_ptr_encode_aid</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:175"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.global_ptr_nonnull_addr" class="idref" href="#PTRS_IMPL.global_ptr_nonnull_addr"><span class="id" title="lemma">global_ptr_nonnull_addr</span></a> <a id="tu:176" class="idref" href="#tu:176"><span class="id" title="binder">tu</span></a> <a id="o:177" class="idref" href="#o:177"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:176"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:177"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_global_ptr"><span class="id" title="lemma">ptr_vaddr_global_ptr</span></a>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.global_ptr_nonnull_aid" class="idref" href="#PTRS_IMPL.global_ptr_nonnull_aid"><span class="id" title="lemma">global_ptr_nonnull_aid</span></a> <a id="tu:178" class="idref" href="#tu:178"><span class="id" title="binder">tu</span></a> <a id="o:179" class="idref" href="#o:179"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:178"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:179"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.null_alloc_id"><span class="id" title="definition">null_alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id_global_ptr"><span class="id" title="lemma">ptr_alloc_id_global_ptr</span></a>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.global_ptr_addr_inj" class="idref" href="#PTRS_IMPL.global_ptr_addr_inj"><span class="id" title="instance">global_ptr_addr_inj</span></a> <a id="tu:180" class="idref" href="#tu:180"><span class="id" title="binder">tu</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="o:181" class="idref" href="#o:181"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:180"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:181"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_global_ptr"><span class="id" title="lemma">ptr_vaddr_global_ptr</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">_</span>)%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.global_ptr_aid_inj" class="idref" href="#PTRS_IMPL.global_ptr_aid_inj"><span class="id" title="instance">global_ptr_aid_inj</span></a> <a id="tu:182" class="idref" href="#tu:182"><span class="id" title="binder">tu</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="o:183" class="idref" href="#o:183"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.global_ptr"><span class="id" title="definition">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#tu:182"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:183"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id_global_ptr"><span class="id" title="lemma">ptr_alloc_id_global_ptr</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">_</span>)%(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.ptr_vaddr_nullptr" class="idref" href="#PTRS_IMPL.ptr_vaddr_nullptr"><span class="id" title="lemma">ptr_vaddr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.ptr_alloc_id_nullptr" class="idref" href="#PTRS_IMPL.ptr_alloc_id_nullptr"><span class="id" title="lemma">ptr_alloc_id_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.null_alloc_id"><span class="id" title="definition">null_alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.ptr_eq_dec'" class="idref" href="#PTRS_IMPL.ptr_eq_dec'"><span class="id" title="instance">ptr_eq_dec'</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_eq_dec"><span class="id" title="instance">ptr_eq_dec</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Instance&nbsp;ptr_equiv&nbsp;:&nbsp;Equiv&nbsp;ptr&nbsp;:=&nbsp;(=).<br/>
&nbsp;&nbsp;Instance&nbsp;offset_equiv&nbsp;:&nbsp;Equiv&nbsp;offset&nbsp;:=&nbsp;(=).<br/>
&nbsp;&nbsp;Instance&nbsp;ptr_equivalence&nbsp;:&nbsp;Equivalence&nbsp;(≡@{ptr})&nbsp;:=&nbsp;_.<br/>
&nbsp;&nbsp;Instance&nbsp;offset_equivalence&nbsp;:&nbsp;Equivalence&nbsp;(==@{offset})&nbsp;:=&nbsp;_.<br/>
&nbsp;&nbsp;Instance&nbsp;ptr_equiv_dec&nbsp;:&nbsp;RelDecision&nbsp;(≡@{ptr})&nbsp;:=&nbsp;_.<br/>
&nbsp;&nbsp;Instance&nbsp;offset_equiv_dec&nbsp;:&nbsp;RelDecision&nbsp;(==@{offset})&nbsp;:=&nbsp;_.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Instance&nbsp;dot_assoc&nbsp;:&nbsp;Assoc&nbsp;(≡)&nbsp;o_dot&nbsp;:=&nbsp;_.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Instance&nbsp;dot_proper&nbsp;:&nbsp;Proper&nbsp;((≡)&nbsp;==&gt;&nbsp;(≡)&nbsp;==&gt;&nbsp;(≡))&nbsp;o_dot&nbsp;:=&nbsp;_.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_IMPL.__offset_ptr" class="idref" href="#PTRS_IMPL.__offset_ptr"><span class="id" title="definition">__offset_ptr</span></a> (<a id="p:184" class="idref" href="#p:184"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="o:185" class="idref" href="#o:185"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a>) : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:184"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_ptr"><span class="id" title="constructor">offset_ptr</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">o'</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_ptr"><span class="id" title="constructor">offset_ptr</span></a> <span class="id" title="var">p'</span> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.__o_dot"><span class="id" title="definition">__o_dot</span></a> <span class="id" title="var">o'</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:185"><span class="id" title="variable">o</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invalid_ptr_"><span class="id" title="constructor">invalid_ptr_</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invalid_ptr_"><span class="id" title="constructor">invalid_ptr_</span></a> <span class="comment">(*&nbsp;too&nbsp;eager!&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.fun_ptr_"><span class="id" title="constructor">fun_ptr_</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5d6eea20192f4b90d9ee9e82f9b13c67"><span class="id" title="notation">`</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:185"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:184"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invalid_ptr_"><span class="id" title="constructor">invalid_ptr_</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Ltac</span> <span class="id" title="var">UNFOLD_dot</span> := <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.unlock"><span class="id" title="axiom">_dot.unlock</span></a>/<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.DOT_dot"><span class="id" title="projection">DOT_dot</span></a>/=.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.id_dot" class="idref" href="#PTRS_IMPL.id_dot"><span class="id" title="instance">id_dot</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">UNFOLD_dot</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.proof_irrel.html#sig_eq_pi"><span class="id" title="lemma">sig_eq_pi</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">o</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.__o_dot_id" class="idref" href="#PTRS_IMPL.__o_dot_id"><span class="id" title="lemma">__o_dot_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.__o_dot"><span class="id" title="definition">__o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.proof_irrel.html#sig_eq_pi"><span class="id" title="lemma">sig_eq_pi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_merge"><span class="id" title="definition">raw_offset_merge</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.dot_id" class="idref" href="#PTRS_IMPL.dot_id"><span class="id" title="instance">dot_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">UNFOLD_dot</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.__o_dot_id"><span class="id" title="lemma">__o_dot_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_IMPL.dot_assoc" class="idref" href="#PTRS_IMPL.dot_assoc"><span class="id" title="instance">dot_assoc</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">UNFOLD_dot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> <span class="id" title="var">o3</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.proof_irrel.html#sig_eq_pi"><span class="id" title="lemma">sig_eq_pi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> <span class="id" title="var">o3</span> =&gt; [<span class="id" title="var">ro1</span> /= <span class="id" title="var">wf1</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">ro2</span> /= <span class="id" title="var">wf2</span>] [<span class="id" title="var">ro3</span> /= <span class="id" title="var">wf3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_merge"><span class="id" title="definition">raw_offset_merge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{1}<span class="id" title="var">wf1</span> -{2}<span class="id" title="var">wf3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invol_app"><span class="id" title="definition">invol_app</span></a>; <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<span class="id" title="var">o</span> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.offset_ptr_id" class="idref" href="#PTRS_IMPL.offset_ptr_id"><span class="id" title="lemma">offset_ptr_id</span></a> <a id="p:187" class="idref" href="#p:187"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:187"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">UNFOLD_dot</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">p</span> =&gt; // <span class="id" title="var">p</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.__offset_ptr"><span class="id" title="definition">__offset_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.__o_dot_id"><span class="id" title="lemma">__o_dot_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.offset_ptr_dot" class="idref" href="#PTRS_IMPL.offset_ptr_dot"><span class="id" title="lemma">offset_ptr_dot</span></a> <a id="p:188" class="idref" href="#p:188"><span class="id" title="binder">p</span></a> <a id="o1:189" class="idref" href="#o1:189"><span class="id" title="binder">o1</span></a> <a id="o2:190" class="idref" href="#o2:190"><span class="id" title="binder">o2</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:188"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:189"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:190"><span class="id" title="variable">o2</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:188"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o1:189"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o2:190"><span class="id" title="variable">o2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TO&nbsp;FIX:&nbsp;collapse&nbsp;function&nbsp;pointers&nbsp;with&nbsp;offsets&nbsp;less&nbsp;eagerly.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">UNFOLD_dot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">rewrite</span> //= ?<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> =&gt; [<span class="id" title="var">o1</span> /= +] [<span class="id" title="var">o2</span> /= +]; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.raw_offset_wf"><span class="id" title="definition">raw_offset_wf</span></a> =&gt; <span class="id" title="var">WF1</span> <span class="id" title="var">WF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">case_match</span>; <span class="id" title="var">simplify_eq</span>/= =&gt; //).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">WF2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.o_sub_0" class="idref" href="#PTRS_IMPL.o_sub_0"><span class="id" title="lemma">o_sub_0</span></a> <a id="efa92aa1d21af6e6f6fa782e282fa3db" class="idref" href="#efa92aa1d21af6e6f6fa782e282fa3db"><span class="id" title="binder">σ</span></a> <a id="ty:192" class="idref" href="#ty:192"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#efa92aa1d21af6e6f6fa782e282fa3db"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:192"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#efa92aa1d21af6e6f6fa782e282fa3db"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:192"><span class="id" title="variable">ty</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_id"><span class="id" title="definition">o_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a>; <span class="id" title="var">case_decide</span>=&gt;// -[?]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.ptr_alloc_id_offset" class="idref" href="#PTRS_IMPL.ptr_alloc_id_offset"><span class="id" title="lemma">ptr_alloc_id_offset</span></a> {<a id="p:193" class="idref" href="#p:193"><span class="id" title="binder">p</span></a> <a id="o:194" class="idref" href="#o:194"><span class="id" title="binder">o</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="p':195" class="idref" href="#p':195"><span class="id" title="binder">p'</span></a> := <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:193"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#o:194"><span class="id" title="variable">o</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p':195"><span class="id" title="variable">p'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p':195"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:193"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">UNFOLD_dot</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[] ?] =&gt; //= /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some_None"><span class="id" title="lemma">is_Some_None</span></a> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS_IMPL.ptr_vaddr_o_sub_eq" class="idref" href="#PTRS_IMPL.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:196" class="idref" href="#p:196"><span class="id" title="binder">p</span></a> <a id="8a8d663fd78056367dfc06494f095c84" class="idref" href="#8a8d663fd78056367dfc06494f095c84"><span class="id" title="binder">σ</span></a> <a id="ty:198" class="idref" href="#ty:198"><span class="id" title="binder">ty</span></a> <a id="n1:199" class="idref" href="#n1:199"><span class="id" title="binder">n1</span></a> <a id="n2:200" class="idref" href="#n2:200"><span class="id" title="binder">n2</span></a> <a id="sz:201" class="idref" href="#sz:201"><span class="id" title="binder">sz</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#8a8d663fd78056367dfc06494f095c84"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:198"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#sz:201"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#sz:201"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:196"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:198"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#n1:199"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#p:196"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:198"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#n2:200"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#n1:199"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#n2:200"><span class="id" title="variable">n2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mk_offset_seg"><span class="id" title="definition">mk_offset_seg</span></a> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_IMPL.o_dot_sub" class="idref" href="#PTRS_IMPL.o_dot_sub"><span class="id" title="lemma">o_dot_sub</span></a> <a id="41633c7e57c17f19be71cb5d99eee89d" class="idref" href="#41633c7e57c17f19be71cb5d99eee89d"><span class="id" title="binder">σ</span></a> (<a id="z1:204" class="idref" href="#z1:204"><span class="id" title="binder">z1</span></a> <a id="z2:205" class="idref" href="#z2:205"><span class="id" title="binder">z2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="ty:206" class="idref" href="#ty:206"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#41633c7e57c17f19be71cb5d99eee89d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:206"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z1:204"><span class="id" title="variable">z1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#41633c7e57c17f19be71cb5d99eee89d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:206"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z2:205"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#41633c7e57c17f19be71cb5d99eee89d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#ty:206"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z1:204"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#z2:205"><span class="id" title="variable">z2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">UNFOLD_dot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.proof_irrel.html#sig_eq_pi"><span class="id" title="lemma">sig_eq_pi</span></a> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> /= /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mkOffset"><span class="id" title="definition">mkOffset</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ZArith.BinInt.html#Z.add_0_l"><span class="id" title="lemma">Z.add_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.mk_offset_seg"><span class="id" title="definition">mk_offset_seg</span></a> /= /<a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#o_sub_off"><span class="id" title="definition">o_sub_off</span></a>; <span class="id" title="tactic">case</span>: <a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> =&gt; [<span class="id" title="var">sz</span>|] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_False"><span class="id" title="lemma">decide_False</span></a> //=; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> (<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">lia</span> || <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">lia</span> || <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#PTRS_DERIVED_MIXIN"><span class="id" title="module">PTRS_DERIVED_MIXIN</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
